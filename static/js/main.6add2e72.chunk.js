(this["webpackJsonptopola-viewer-modded"]=this["webpackJsonptopola-viewer-modded"]||[]).push([[0],{129:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(27),a=n(101),i=n(103),o=n(175),c=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(r.a)(this,n),(i=t.call(this,a)).code=e,i.args=o,i}return n}(Object(o.a)(Error))},185:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ChartUtil=t.getChartInfoWithoutMargin=t.getChartInfo=t.linkId=t.V_SPACING=t.H_SPACING=void 0;var r=n(42),a=n(638),i=n(193);n(111),t.H_SPACING=15,t.V_SPACING=30;var o=200,c=500;function s(e){if(!e.parent)return e.id+":A";var t=e.data.generation>e.parent.data.generation?[e.data,e.parent.data]:[e.parent.data,e.data],n=t[0],r=t[1];return n.additionalMarriage?n.id+":A":r.id+":"+n.id}t.linkId=s,t.getChartInfo=function(e){var t=i.min(e,(function(e){return e.x-e.data.width/2}))-15,n=i.min(e,(function(e){return e.y-e.data.height/2}))-15;return{size:[i.max(e,(function(e){return e.x+e.data.width/2}))+15-t,i.max(e,(function(e){return e.y+e.data.height/2}))+15-n],origin:[-t,-n]}},t.getChartInfoWithoutMargin=function(e){var t=i.min(e,(function(e){return e.x-e.data.width/2})),n=i.min(e,(function(e){return e.y-e.data.height/2}));return{size:[i.max(e,(function(e){return e.x+e.data.width/2}))-t,i.max(e,(function(e){return e.y+e.data.height/2}))-n],origin:[-t,-n]}};var u=function(){function e(e){this.options=e}return e.prototype.linkHorizontal=function(e,t){var n=this.options.renderer.getFamilyAnchor(e.data),r=e.id===t.data.spouseParentNodeId?this.options.renderer.getSpouseAnchor(t.data):this.options.renderer.getIndiAnchor(t.data),a=[e.x+n[0],e.y+n[1]],i=a[0],o=a[1],c=[t.x+r[0],t.y+r[1]],s=c[0],u=c[1],d=(e.x+e.data.width/2+t.x-t.data.width/2)/2;return"M "+i+" "+o+"\n            L "+d+" "+o+",\n              "+d+" "+u+",\n              "+s+" "+u},e.prototype.linkVertical=function(e,n){var r=this.options.renderer.getFamilyAnchor(e.data),a=e.id===n.data.spouseParentNodeId?this.options.renderer.getSpouseAnchor(n.data):this.options.renderer.getIndiAnchor(n.data),i=[e.x+r[0],e.y+r[1]],o=i[0],c=i[1],s=[n.x+a[0],n.y+a[1]],u=s[0],d=s[1],l=e.y+e.data.height/2+t.V_SPACING/2;return"M "+o+" "+c+"\n            L "+o+" "+l+",\n              "+u+" "+l+",\n              "+u+" "+d},e.prototype.linkAdditionalMarriage=function(e){var t=e.parent.children.findIndex((function(t){return t.data.id===e.data.id})),n=e.parent.children[t-1],r=this.options.renderer.getIndiAnchor(e.data),a=this.options.renderer.getIndiAnchor(n.data),i=[e.x+r[0],e.y+r[1]],o=i[0],c=i[1],s=[n.x+a[0],n.y+a[1]];return"M "+o+", "+c+"\n            L "+s[0]+", "+s[1]},e.prototype.updateSvgDimensions=function(e){var t=r.select(this.options.svgSelector).select("g");(this.options.animate?t.transition().delay(o).duration(c):t).attr("transform","translate("+e.origin[0]+", "+e.origin[1]+")")},e.prototype.layOutChart=function(e,n){var o=this;void 0===n&&(n={});var c=r.select(this.options.svgSelector);c.select("style").empty()&&c.append("style").text(this.options.renderer.getCss()),e.each((function(e){e.data.generation=e.depth*(n.flipVertically?-1:1)+(o.options.baseGeneration||0)})),this.options.renderer.updateNodes(e.descendants());var s=new Map;e.each((function(e){var t=e.depth,n=i.max([o.options.horizontal?e.data.width:e.data.height,s.get(t)]);s.set(t,n)})),e.each((function(e){var t=s.get(e.depth);o.options.horizontal?e.data.width=t:e.data.height=t}));var u=void 0!==n.vSpacing?n.vSpacing:t.V_SPACING,d=void 0!==n.hSpacing?n.hSpacing:t.H_SPACING,l=a.flextree().nodeSize((function(e){if(o.options.horizontal){var t=i.max(e.children||[],(function(e){return e.data.width}))||0;return[e.data.height,(t+e.data.width)/2+u]}var n=i.max(e.children||[],(function(e){return e.data.height}))||0;return[e.data.width,(n+e.data.height)/2+u]})).spacing((function(){return d}))(e).descendants();return l.forEach((function(e){var t;n.flipVertically&&(e.y=-e.y),o.options.horizontal&&(t=[e.y,e.x],e.x=t[0],e.y=t[1])})),l},e.prototype.renderChart=function(e){var t=this.getSvgForRendering(),n=this.renderNodes(e,t),r=this.renderLinks(e,t);return Promise.all([n,r])},e.prototype.renderNodes=function(e,t){var n=this;return new Promise((function(r){var a=t.select("g").selectAll("g.node").data(e,(function(e){return e.id})),i=a.enter().append("g"),s=a.exit().size()+a.size()+i.size(),u=function(){0===--s&&r()};n.options.animate&&0!==s||r(),i.merge(a).attr("class",(function(e){return"node generation"+e.data.generation})),i.attr("transform",(function(e){return"translate("+(e.x-e.data.width/2)+", "+(e.y-e.data.height/2)+")"})),n.options.animate&&i.style("opacity",0).transition().delay(700).duration(o).style("opacity",1).on("end",u),(n.options.animate?a.transition().delay(o).duration(c).on("end",u):a).attr("transform",(function(e){return"translate("+(e.x-e.data.width/2)+", "+(e.y-e.data.height/2)+")"})),n.options.renderer.render(i,a),n.options.animate?a.exit().transition().duration(o).style("opacity",0).remove().on("end",u):a.exit().remove()}))},e.prototype.renderLinks=function(e,t){var n=this;return new Promise((function(r){var a=function(e,t){if(t.data.additionalMarriage)return n.linkAdditionalMarriage(t);var r=e.data.generation>t.data.generation;return n.options.horizontal?r?n.linkHorizontal(t,e):n.linkHorizontal(e,t):r?n.linkVertical(t,e):n.linkVertical(e,t)},i=e.filter((function(e){return!!e.parent||e.data.additionalMarriage})),u=t.select("g").selectAll("path.link").data(i,s),d=u.enter().insert("path","g").attr("class",(function(e){return e.data.additionalMarriage?"link additional-marriage":"link"})).attr("d",(function(e){return a(e.parent,e)})),l=u.exit().size()+u.size()+d.size(),f=function(){0===--l&&r()};n.options.animate&&0!==l||r(),(n.options.animate?u.transition().delay(o).duration(c).on("end",f):u).attr("d",(function(e){return a(e.parent,e)})),n.options.animate&&d.style("opacity",0).transition().delay(900).duration(0).style("opacity",1).on("end",f),n.options.animate?u.exit().transition().duration(0).style("opacity",0).remove().on("end",f):u.exit().remove()}))},e.prototype.getSvgForRendering=function(){var e=r.select(this.options.svgSelector);return e.select("g").empty()&&e.append("g"),e},e}();t.ChartUtil=u},25:function(e,t,n){"use strict";n.d(t,"j",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"f",(function(){return x})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"i",(function(){return w}));var r=n(267),a=n(129),i=n(34),o=n(65);function c(e){return e.substring(1,e.length-1)}function s(e){var t=new Map;return e.indis.forEach((function(e){t.set(e.id,e)})),t}function u(e){var t=new Map;return e.fams.forEach((function(e){t.set(e.id,e)})),t}function d(e){var t=e.find((function(e){return"HEAD"===e.tag})),n={},r={},a={};return e.forEach((function(e){"INDI"===e.tag?n[c(e.pointer)]=e:"FAM"===e.tag?r[c(e.pointer)]=e:e.pointer&&(a[c(e.pointer)]=e)})),{head:t,indis:n,fams:r,other:a}}function l(e,t){return e<t?-1:e>t?1:0}function f(e){var t=function(e){var t=s(e);return function(e,n){var r=t.get(e),a=t.get(n);return Object(o.a)(r&&r.birth,a&&a.birth)||l(e,n)}}(e),n=e.fams.map((function(e){return function(e,t){if(!e.children)return e;var n=e.children.sort(t);return Object.assign({},e,{children:n})}(e,t)}));return Object.assign({},e,{fams:n})}function h(e){var t=function(e){var t=u(e);return function(e,n){var r=t.get(e),a=t.get(n);return Object(o.a)(r&&r.marriage,a&&a.marriage)||l(e,n)}}(e),n=e.indis.map((function(e){return function(e,t){if(!e.fams)return e;var n=e.fams.sort(t);return Object.assign({},e,{fams:n})}(e,t)}));return Object.assign({},e,{indis:n})}function g(e,t,n){if(e.data){var r=n(t)[c(e.data)];if(r)return r}return e}function m(e){var t=[e.data];return e.tree.forEach((function(e){if("CONC"===e.tag&&e.data){var n=t.length-1;t[n]+=e.data}else"CONT"===e.tag&&e.data&&t.push(e.data)})),t}function p(e){return h(f(e))}var j=[".jpg",".jpeg",".png",".gif"];function O(e){var t=e.toLowerCase();return j.some((function(e){return t.endsWith(e)}))}function b(e,t){var n=e.indis.map((function(e){return function(e,t){if(!e.images||0===e.images.length)return e;var n=[];return e.images.forEach((function(e){var r=e.url.replaceAll("\\","/"),a=r.match(/[^/]*$/)[0];t.has(r)?n.push({url:t.get(r),title:e.title}):t.has(a)?n.push({url:t.get(a),title:e.title}):e.url.startsWith("http")&&O(e.url)&&n.push(e)})),Object.assign({},e,{images:n})}(e,t)}));return Object.assign({},e,{indis:n})}function v(e,t,n){var o=Object(r.parse)(e,t),c=Object(i.gedcomEntriesToJson)(o,t);if(!c||!c.indis||!c.indis.length||!c.fams||!c.fams.length)throw new a.a("GEDCOM_READ_FAILED","Insufficient GEDCOM data");return{chartData:b(p(c),n),gedcom:d(o)}}function x(e){var t=e.tree.filter((function(e){return"NAME"===e.tag})),n=t.find((function(e){return 0===e.tree.filter((function(e){return"TYPE"===e.tag&&"married"===e.data})).length}))||t[0];return null===n||void 0===n?void 0:n.data.replace(/\//g,"")}function y(e){var t,n,r=null===e||void 0===e||null===(t=e.tree.find((function(e){return"TITL"===e.tag})))||void 0===t?void 0:t.data,a=null===e||void 0===e||null===(n=e.tree.find((function(e){return"FORM"===e.tag})))||void 0===n?void 0:n.data;return r&&a&&r+"."+a}function _(e){return e.tree.find((function(e){return"FILE"===e.tag&&e.data.startsWith("http")&&O(e.data)}))}function w(e){var t="";function n(e,r){var a="".concat(r," ");e.pointer&&(a+="".concat(e.pointer," ")),a+="".concat(e.tag),e.data&&(a+=" ".concat(e.data)),t+=a+"\n",e.tree&&e.tree.length>0&&e.tree.forEach((function(e){return n(e,r+1)}))}return n(e.head,0),t+="\n",Object.values(e.other).forEach((function(e){"SUBM"===e.tag&&(n(e,0),t+="\n"),"EGO"===e.tag&&(n(e,0),t+="\n")})),Object.values(e.indis).forEach((function(e){n(e,0),t+="\n"})),Object.values(e.fams).forEach((function(e){n(e,0),t+="\n"})),Object.values(e.other).forEach((function(e){"SUBM"!==e.tag&&"EGO"!==e.tag&&(n(e,0),t+="\n")})),(t+="0 TRLR").trim()}},294:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AncestorChart=t.getAncestorsTree=void 0;var a=n(185),i=n(366),o=n(295);t.getAncestorsTree=function(e){var t=r({},e),n=e.startIndi?e.data.getIndi(e.startIndi).getFamiliesAsSpouse():[];n.length&&(t.startFam=n[0],t.startIndi=void 0,e.data.getFam(n[0]).getMother()===e.startIndi&&(t.swapStartSpouses=!0));var a=new c(t).createHierarchy();return n.length>1&&a.children&&a.children.length>1&&(a.children.pop(),a.data.spouseParentNodeId=void 0),a};var c=function(){function e(e){this.options=e,this.util=new a.ChartUtil(e)}return e.prototype.createHierarchy=function(){var e,t,n=[],r=[],a=this.options.idGenerator||new o.IdGenerator;for(this.options.startIndi?(e=(t=this.options.data.getIndi(this.options.startIndi).getFamilyAsChild())?a.getId(t):void 0,t&&r.push({id:t,parentId:this.options.startIndi,family:{id:t}}),n.push({id:this.options.startIndi,indi:{id:this.options.startIndi},indiParentNodeId:e})):r.push({id:a.getId(this.options.startFam),family:{id:this.options.startFam}});r.length;){var c=r.pop(),s=this.options.data.getFam(c.family.id);if(s){var u=c.family.id===this.options.startFam&&this.options.swapStartSpouses?[s.getMother(),s.getFather()]:[s.getFather(),s.getMother()],d=u[0],l=u[1];(d||l)&&(l&&(c.spouse={id:l},(t=this.options.data.getIndi(l).getFamilyAsChild())&&(e=a.getId(t),c.spouseParentNodeId=e,r.push({id:e,parentId:c.id,family:{id:t}}))),d&&(c.indi={id:d},(t=this.options.data.getIndi(d).getFamilyAsChild())&&(e=a.getId(t),c.indiParentNodeId=e,r.push({id:e,parentId:c.id,family:{id:t}}))),n.push(c))}}return i.stratify()(n)},e.prototype.render=function(){var e=this.createHierarchy(),t=this.util.layOutChart(e,{flipVertically:!0}),n=this.util.renderChart(t),r=a.getChartInfo(t);return this.util.updateSvgDimensions(r),Object.assign(r,{animationPromise:n})},e}();t.AncestorChart=c},295:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IdGenerator=void 0;var n=function(){function e(){this.ids=new Map}return e.prototype.getId=function(e){if(this.ids.has(e)){var t=this.ids.get(e);return this.ids.set(e,t+1),e+":"+t}return this.ids.set(e,1),e},e}();t.IdGenerator=n},296:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getFamPositionHorizontal=t.getFamPositionVertical=t.CompositeRenderer=void 0;var r=n(193),a=function(){function e(e){this.options=e}return e.prototype.getPreferredFamSize=function(e){return[0,0]},e.prototype.setPreferredIndiSize=function(e){var t;e&&(t=this.getPreferredIndiSize(e.id),e.width=t[0],e.height=t[1])},e.prototype.updateNodes=function(e){var t=this,n=new Map;e.forEach((function(e){var a;t.setPreferredIndiSize(e.data.indi),t.setPreferredIndiSize(e.data.spouse);var i=e.data.family;i&&(a=t.getPreferredFamSize(i.id),i.width=a[0],i.height=a[1]);var o=e.depth,s=r.max([c(e.data,!!t.options.horizontal),n.get(o)]);n.set(o,s)})),e.forEach((function(e){var a;t.options.horizontal?(e.data.indi&&(e.data.indi.width=n.get(e.depth)),e.data.spouse&&(e.data.spouse.width=n.get(e.depth))):(e.data.indi&&(e.data.indi.height=n.get(e.depth)),e.data.spouse&&(e.data.spouse.height=n.get(e.depth)));var i=function(e,t){return c(e,t)+function(e,t){if(t)return e.family?e.family.width:0;return e.family?e.family.height:0}(e,t)}(e.data,!!t.options.horizontal),o=function(e,t){if(t)return(e.indi?e.indi.height:0)+(e.spouse?e.spouse.height:0);var n=(e.indi?e.indi.width:0)+(e.spouse?e.spouse.width:0);return r.max([n,e.family?e.family.width:0])}(e.data,!!t.options.horizontal);a=t.options.horizontal?[i,o]:[o,i],e.data.width=a[0],e.data.height=a[1]}))},e.prototype.getFamilyAnchor=function(e){if(this.options.horizontal){var t=-e.width/2+c(e,this.options.horizontal)/2,n=e.family?r.max([-o(e),0]):0;return[t,-(e.indi&&e.spouse?e.height/2-e.indi.height:0)+n]}var a=e.family?r.max([-i(e),0]):0;return[-(e.indi&&e.spouse?e.width/2-e.indi.width:0)+a,-e.height/2+c(e,this.options.horizontal)/2]},e.prototype.getSpouseAnchor=function(e){return this.options.horizontal?[-e.width/2+c(e,this.options.horizontal)/2,e.indi?e.indi.height/2:0]:[e.indi?e.indi.width/2:0,-e.height/2+c(e,!!this.options.horizontal)/2]},e.prototype.getIndiAnchor=function(e){return this.options.horizontal?[-e.width/2+c(e,this.options.horizontal)/2,e.spouse?-e.spouse.height/2:0]:[e.spouse?-e.spouse.width/2:0,-e.height/2+c(e,!!this.options.horizontal)/2]},e}();function i(e){var t=e.indi?e.indi.width:0,n=e.spouse?e.spouse.width:0,r=e.family.width;return!e.indi||!e.spouse||t+n<=r?(t+n-r)/2:r/2>=n?t+n-r:r/2>=t?0:t-r/2}function o(e){var t=e.indi?e.indi.height:0,n=e.spouse?e.spouse.height:0,r=e.family.height;return e.indi&&e.spouse?t-r/2:(t+n-r)/2}function c(e,t){return t?r.max([e.indi?e.indi.width:0,e.spouse?e.spouse.width:0]):r.max([e.indi?e.indi.height:0,e.spouse?e.spouse.height:0])}t.CompositeRenderer=a,t.getFamPositionVertical=i,t.getFamPositionHorizontal=o},297:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.JsonDataProvider=void 0;var n=function(){function e(e){this.json=e}return e.prototype.getId=function(){return this.json.id},e.prototype.isEgo=function(){return this.json.isEgo},e.prototype.getFamiliesAsSpouse=function(){return this.json.fams||[]},e.prototype.getFamilyAsChild=function(){return this.json.famc||null},e.prototype.getFirstName=function(){return this.json.firstName||null},e.prototype.getLastName=function(){return this.json.lastName?this.json.lastName.toUpperCase():null},e.prototype.getBirthDate=function(){return this.json.birth||null},e.prototype.getMaidenName=function(){return this.json.maidenName||null},e.prototype.getNumberOfChildren=function(){return this.json.numberOfChildren||null},e.prototype.getNumberOfMarriages=function(){return this.json.numberOfMarriages||null},e.prototype.getBirthPlace=function(){return this.json.birth&&this.json.birth.place||null},e.prototype.getDeathDate=function(){return this.json.death||null},e.prototype.getDeathPlace=function(){return this.json.death&&this.json.death.place||null},e.prototype.isConfirmedDeath=function(){return!!this.json.death&&!!this.json.death.confirmed},e.prototype.getSex=function(){return this.json.sex||null},e.prototype.getLanguages=function(){return this.json.languages||[]},e.prototype.getLanguagesLabel=function(){var e=this.json.languages.map((function(e){return e.abbreviation}));return e.length>0?"".concat(e.join(", ")):null},e.prototype.getEthnicity=function(){return this.json.ethnicity||null},e.prototype.getTribe=function(){return this.json.tribe||null},e.prototype.getImageUrl=function(){return this.json.images&&this.json.images.length>0&&this.json.images[0].url||null},e.prototype.getImages=function(){return this.json.images||[]},e.prototype.getNotes=function(){return this.json.notes||[]},e.prototype.getEvents=function(){return this.json.events||[]},e.prototype.showLanguages=function(){return!this.json.hideLanguages},e.prototype.showEthnicity=function(){return!this.json.hideEthnicity},e.prototype.showId=function(){return!this.json.hideId},e.prototype.showSex=function(){return!this.json.hideSex},e}(),r=function(){function e(e){this.json=e}return e.prototype.getId=function(){return this.json.id},e.prototype.getFather=function(){return this.json.husb||null},e.prototype.getMother=function(){return this.json.wife||null},e.prototype.getChildren=function(){return this.json.children||[]},e.prototype.getMarriageDate=function(){return this.json.marriage||null},e.prototype.getMarriagePlace=function(){return this.json.marriage&&this.json.marriage.place||null},e}(),a=function(){function e(e){var t=this;this.json=e,this.indis=new Map,this.fams=new Map,e.indis.forEach((function(e){return t.indis.set(e.id,new n(e))})),e.fams.forEach((function(e){return t.fams.set(e.id,new r(e))}))}return e.prototype.getIndi=function(e){return this.indis.get(e)||null},e.prototype.getFam=function(e){return this.fams.get(e)||null},e}();t.JsonDataProvider=a},298:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatDateOrRange=t.formatDate=void 0;var n=new Map([[1,"Jan"],[2,"Feb"],[3,"Mar"],[4,"Apr"],[5,"May"],[6,"Jun"],[7,"Jul"],[8,"Aug"],[9,"Sep"],[10,"Oct"],[11,"Nov"],[12,"Dec"]]),r=new Map([["cs",new Map([["cal","vypo\u010dt."],["abt","o"],["est","ocenil"],["before","p\u0159ed"],["after","po"]])],["de",new Map([["cal","errech."],["abt","etwa"],["est","gesch\xe4t."],["before","vor"],["after","nach"]])],["fr",new Map([["cal","calc."],["abt","vers"],["est","est."],["before","avant"],["after","apr\xe8s"]])],["it",new Map([["cal","calc."],["abt","circa il"],["est","stim."],["before","prima del"],["after","dopo del"]])],["pl",new Map([["cal","wyl."],["abt","ok."],["est","szac."],["before","przed"],["after","po"]])],["ru",new Map([["cal","\u0432\u044b\u0447."],["abt","\u043e\u043a."],["est","\u043e\u0446\u0435\u043d."],["before","\u0434\u043e"],["after","\u043f\u043e\u0441\u043b\u0435"]])]]),a=new Map;function i(e,t){if(!Intl||!Intl.DateTimeFormat)return n.get(e);var r=e+"|"+(t||"");if(a.has(r))return a.get(r);var i=new Intl.DateTimeFormat(t,{month:"short"}).format(new Date(2e3,e-1));return a.set(r,i),i}function o(e,t){var n=t&&t.split(/[-_]/)[0],a=n&&r.get(n);return a?a.get(e):e}function c(e,t,n,r){if(!e&&!t&&!n)return"";if(!Intl||!Intl.DateTimeFormat||!r||"en"===r)return[e,t&&i(t,r),n].join(" ");var a={day:e?"numeric":void 0,month:t?"short":void 0,year:n?"numeric":void 0};return new Intl.DateTimeFormat(r,a).format(new Date(null!==n&&void 0!==n?n:2e3,t?t-1:1,null!==e&&void 0!==e?e:1))}function s(e,t){return[e.qualifier&&o(e.qualifier,t),c(e.day,e.month,e.year,t),e.text].join(" ")}t.formatDate=s,t.formatDateOrRange=function(e,t){if(e.date)return s(e.date,t);if(!e.dateRange)return"";var n=e.dateRange.from&&s(e.dateRange.from),r=e.dateRange.to&&s(e.dateRange.to);return n&&r?n+" .. "+r:n?o("after",t)+" "+n:r?o("before",t)+" "+r:""}},299:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DescendantChart=t.layOutDescendants=t.DUMMY_ROOT_NODE_ID=void 0;var r=n(366),a=n(185),i=n(295);function o(e){if(e[0].id!==t.DUMMY_ROOT_NODE_ID)return e;var n=e.slice(1),r=-n[0].x,a=-n[0].y;return n.forEach((function(e){e.parent&&e.parent.id===t.DUMMY_ROOT_NODE_ID&&!e.data.additionalMarriage&&(e.parent=null),e.x+=r,e.y+=a,e.data.generation--})),n}t.DUMMY_ROOT_NODE_ID="DUMMY_ROOT_NODE",t.layOutDescendants=function(e,t){void 0===t&&(t={});var n=new c(e).createHierarchy();return o(new a.ChartUtil(e).layOutChart(n,t))};var c=function(){function e(e){this.options=e,this.util=new a.ChartUtil(e)}return e.prototype.getNodes=function(e){var t=this,n=this.options.data.getIndi(e).getFamiliesAsSpouse();if(!n.length)return[{id:e,indi:{id:e}}];var r=n.map((function(n){var r={id:n,indi:{id:e},family:{id:n}},a=t.options.data.getFam(n),i=function(e,t){return t.getFather()===e?t.getMother():t.getFather()}(e,a);return i&&(r.spouse={id:i}),r}));return r.slice(1).forEach((function(e){e.additionalMarriage=!0})),r},e.prototype.getFamNode=function(e){var t={id:e,family:{id:e}},n=this.options.data.getFam(e),r=n.getFather();r&&(t.indi={id:r});var a=n.getMother();return a&&(t.spouse={id:a}),t},e.prototype.createHierarchy=function(){var e=this,n=[],a=this.options.startIndi?this.getNodes(this.options.startIndi):[this.getFamNode(this.options.startFam)],o=this.options.idGenerator||new i.IdGenerator;if(a.forEach((function(e){return e.id=o.getId(e.id)})),a.length>1){var c={id:t.DUMMY_ROOT_NODE_ID,height:1,width:1};n.push(c),a.forEach((function(e){return e.parentId=c.id}))}n.push.apply(n,a);var s=[];a.forEach((function(e){e.family&&s.push(e)}));for(var u=function(){var t=s.pop();d.options.data.getFam(t.family.id).getChildren().forEach((function(r){var a=e.getNodes(r);a.forEach((function(e){e.parentId=t.id,e.family&&(e.id=""+o.getId(e.family.id),s.push(e))})),n.push.apply(n,a)}))},d=this;s.length;)u();return r.stratify()(n)},e.prototype.render=function(){var e=this.createHierarchy(),t=o(this.util.layOutChart(e)),n=this.util.renderChart(t),r=a.getChartInfo(t);return this.util.updateSvgDimensions(r),Object.assign(r,{animationPromise:n})},e}();t.DescendantChart=c},34:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(470),a(n(294),t),a(n(471),t),a(n(185),t),a(n(296),t),a(n(297),t),a(n(298),t),a(n(299),t),a(n(472),t),a(n(473),t),a(n(474),t),a(n(475),t)},370:function(e){e.exports=JSON.parse('{"menu.open":"\xd6ffnen","menu.open_file":"Datei \xf6ffnen","menu.load_from_url":"URL \xf6ffnen","menu.convert_csv_gedcom":"Dateien in GEDCOM konvertieren","menu.download":"Download","menu.download_pdf":"PDF herunterladen","menu.download_png":"PNG herunterladen","menu.download_svg":"SVG herunterladen","menu.download_gedcom":"GEDCOM herunterladen","menu.view":"Neuzentrierungsdiagramm","menu.github":"Projekt auf der GitHub-Website","menu.search.placeholder":"Person suchen","menu.search.no_results":"Keine Ergebnisse","load_from_url.title":"Von URL \xf6ffnen","load_from_url.comment":"Die Daten der angegebenen URL werden \xfcber den {link} -Dienst geladen, um CORS-Probleme zu vermeiden.","load_from_url.cancel":"Cancel","load_from_url.load":"\xd6ffnen","load_from_gedcom.generate":"Generieren","gedcom.ADOP":"Annahme","gedcom.BAPM":"Taufe","gedcom.BIRT":"Geburt","gedcom.BURI":"Beerdigung","gedcom.CENS":"Volksz\xe4hlung","gedcom.CHR":"Taufe","gedcom.DEAT":"Tod","gedcom.MARR":"Hochzeit","gedcom.MARS":"Ehevertrag","gedcom.ETHN":"ethnische Zugeh\xf6rigkeit","gedcom.TRIB":"Stamm","gedcom.LANG":"Sprache","gedcom.DIV":"Scheidung","gedcom.DSCR":"Beschreibung","gedcom.EMAIL":"E-Mail","gedcom.EVEN":"Ereignis","gedcom.OCCU":"Beruf","gedcom.RIN":"ID","gedcom.TITL":"Titel","gedcom.WWW":"Website","gedcom._UPD":"Zuletzt aktualisiert","gedcom.birth":"Geburtsname","gedcom.married":"Ehenamen","gedcom.maiden":"M\xe4dchenname","gedcom.aka":"Auch bekannt als","gedcom.languages":"Sprachen","date.between":"zwischen {from} und {to}","date.after":"after {from}","date.before":"before {to}","error.error":"Error","error.failed_pdf":"PDF konnte nicht erstellt werden. Versuchen Sie es erneut mit einem kleineren Diagramm oder laden Sie die SVG-Datei herunter.","error.failed_png":"Fehler beim Erstellen der PNG-Datei. Versuchen Sie es erneut mit einem kleineren Diagramm oder laden Sie die SVG-Datei herunter.","error.failed_to_load_file":"Fehler beim Laden der Datei","tab.info":"Info","tab.settings":"Einstellungen","config.colors":"Farben","config.colors.NO_COLOR":"keiner","config.colors.COLOR_BY_GENERATION":"nach Generation","config.colors.COLOR_BY_SEX":"nach Geschlecht","config.colors.COLOR_BY_ETHNICITY":"nach ethnischer Zugeh\xf6rigkeit","config.colors.COLOR_BY_LANGUAGES":"nach Nr. Sprachen","config.ethnicity":"ethnische Zugeh\xf6rigkeit","config.languages":"Sprachen","config.ids":"ID","config.sex":"Geschlecht","config.toggle.SHOW":"Anzeigen","config.toggle.HIDE":"Verbergen","config.reset":"Reset","name.unknown_name":"N.N.","extras.notes":"Anmerkungen","extras.images":"Bilder","extras.sources":"Quellen"}')},371:function(e){e.exports=JSON.parse('{"menu.open":"Ouvrir","menu.open_file":"Ouvrir le fichier","menu.load_from_url":"Ouvrir l\'URL","menu.convert_csv_gedcom":"Convertir CSV en GEDCOM","menu.download":"T\xe9l\xe9charger","menu.download_pdf":"T\xe9l\xe9charger le PDF","menu.download_png":"T\xe9l\xe9charger PNG","menu.download_svg":"T\xe9l\xe9charger SVG","menu.download_gedcom":"T\xe9l\xe9charger GEDCOM","menu.view":"Recentrer graphique","menu.github":"Projet sur le site Web GitHub","menu.search.placeholder":"Rechercher une personne","menu.search.no_results":"Aucun r\xe9sultat","load_from_url.title":"Ouvrir depuis l\'URL","load_from_url.comment":"Les donn\xe9es de l\'URL donn\xe9e seront charg\xe9es via le service {link} pour \xe9viter les probl\xe8mes CORS.","load_from_url.cancel":"Annuler","load_from_url.load":"Ouvrir","load_from_gedcom.generate":"G\xe9n\xe9rer","gedcom.ADOP":"Adoption","gedcom.BAPM":"Bapt\xeame","gedcom.BIRT":"Naissance","gedcom.BURI":"Fun\xe9railles","gedcom.CENS":"Recensement","gedcom.CHR":"Bapt\xeame","gedcom.DEAT":"Mort","gedcom.MARR":"Mariage","gedcom.MARS":"R\xe8glement de mariage","gedcom.ETHN":"Appartenance ethnique","gedcom.TRIB":"Clan","gedcom.LANG":"Langue","gedcom.DIV":"Divorce","gedcom.DSCR":"Description","gedcom.EMAIL":"E-mail","gedcom.EVEN":"\xc9v\xe9nement","gedcom.OCCU":"Profession","gedcom.RIN":"ID","gedcom.TITL":"Titre","gedcom.WWW":"Site Web","gedcom._UPD":"Derni\xe8re mise \xe0 jour","gedcom.birth":"Nom de naissance","gedcom.married":"Nom marital","gedcom.maiden":"Nom de jeune fille","gedcom.aka":"Alias","gedcom.languages":"Langues","date.between":"entre {from} et {to}","date.after":"apr\xe8s {from}","date.before":"avant {to}","error.error":"Erreur","error.failed_pdf":"\xc9chec de la cr\xe9ation du PDF. R\xe9essayez avec un diagramme plus petit ou t\xe9l\xe9chargez le fichier SVG.","error.failed_png":"Impossible de cr\xe9er le fichier PNG. R\xe9essayez avec un diagramme plus petit ou t\xe9l\xe9chargez le fichier SVG.","error.failed_to_load_file":"Erreur lors du chargement du fichier","tab.info":"Info","tab.settings":"Param\xe8tres","config.colors":"Couleurs","config.colors.NO_COLOR":"aucune","config.colors.COLOR_BY_GENERATION":"par g\xe9n\xe9ration","config.colors.COLOR_BY_SEX":"par sexe","config.colors.COLOR_BY_ETHNICITY":"par ethnie","config.colors.COLOR_BY_LANGUAGES":"par nr. langues","config.ethnicity":"appartenance ethnique","config.languages":"langues","config.ids":"ID","config.sex":"sexe","config.toggle.SHOW":"Montrer","config.toggle.HIDE":"Cacher","config.reset":"Reset","name.unknown_name":"N.N.","extras.notes":"Notes","extras.images":"Immages","extras.sources":"Sources"}')},372:function(e){e.exports=JSON.parse('{"menu.open":"Apri","menu.open_file":"Apri file","menu.load_from_url":"Apri URL","menu.convert_csv_gedcom":"Converti CSV in GEDCOM","menu.download":"Scaricare","menu.download_pdf":"Scaricare PDF","menu.download_png":"Scaricare PNG","menu.download_svg":"Scaricare SVG","menu.download_gedcom":"Scaricare GEDCOM","menu.view":"Ricentrare grafico","menu.github":"Progetto sul sito web GitHub","menu.search.placeholder":"Cerca persona","menu.search.no_results":"Nessun risultato","load_from_url.title":"Apri da URL","load_from_url.comment":"I dati dall\'URL specificato verranno caricati tramite il servizio {link} per evitare problemi CORS.","load_from_url.cancel":"Annulla","load_from_url.load":"Apri","load_from_gedcom.generate":"Generare","gedcom.ADOP":"Adozione","gedcom.BAPM":"Battesimo","gedcom.BIRT":"Nascita","gedcom.BURI":"Funerale","gedcom.CENS":"Census","gedcom.CHR":"Battesimo","gedcom.DEAT":"Morte","gedcom.MARR":"Matrimonio","gedcom.MARS":"Accordo di matrimonio","gedcom.ETHN":"Etnia","gedcom.TRIB":"Clan","gedcom.LANG":"Lingua","gedcom.DIV":"Divorzio","gedcom.DSCR":"Descrizione","gedcom.EMAIL":"E-mail","gedcom.EVEN":"Evento","gedcom.OCCU":"Professione","gedcom.RIN":"ID","gedcom.TITL":"Titolo","gedcom.WWW":"Sito web","gedcom._UPD":"Ultimo aggiornamento","gedcom.birth":"Nome alla nascita","gedcom.married":"Nome da coniugato/a","gedcom.maiden":"Nome da nubile","gedcom.aka":"Conosciuto anche come","gedcom.languages":"Lingue","date.between":"tra il {from} e il {to}","date.after":"dopo il {from}","date.before":"prima del {to}","error.error":"Errore","error.failed_pdf":"Impossibile creare PDF. Riprova con un diagramma pi\xf9 piccolo o scarica il file SVG.","error.failed_png":"Impossibile creare il file PNG. Riprova con un diagramma pi\xf9 piccolo o scarica il file SVG.","error.failed_to_load_file":"Errore durante il caricamento del file","tab.info":"Info","tab.settings":"Configurazione","config.colors":"Colori","config.colors.NO_COLOR":"nessuno","config.colors.COLOR_BY_GENERATION":"per generazione","config.colors.COLOR_BY_SEX":"per sesso","config.colors.COLOR_BY_ETHNICITY":"per etnia","config.colors.COLOR_BY_LANGUAGES":"per nr. lingue","config.ethnicity":"etnia","config.languages":"lingue","config.ids":"ID","config.sex":"sesso","config.toggle.SHOW":"Mostrare","config.toggle.HIDE":"Nascondere","config.reset":"Reset","name.unknown_name":"N.N.","extras.notes":"Note","extras.images":"Immagini","extras.sources":"Fonti"}')},373:function(e){e.exports=JSON.parse('{"menu.open":"Abrir","menu.open_file":"Abrir fichero","menu.load_from_url":"Abrir URL","menu.convert_csv_gedcom":"Convertir CSV a GEDCOM","menu.download":"Descargar","menu.download_pdf":"Descargar PDF","menu.download_png":"Descargar PNG","menu.download_svg":"Descargar SVG","menu.download_gedcom":"Descargar GEDCOM","menu.view":"Centrar gr\xe1fica","menu.github":"Proyecto en el sitio web GitHub","menu.search.placeholder":"Buscar persona","menu.search.no_results":"Ning\xfan resultado","load_from_url.title":"Abrir desde URL","load_from_url.comment":"Los detalles de la URL especificada se cargar\xe1n a trav\xe9s del servicio {link} para evitar problemas con CORS.","load_from_url.cancel":"Cancelar","load_from_url.load":"Abrir","load_from_gedcom.generate":"Generar","gedcom.ADOP":"Adopci\xf3n","gedcom.BAPM":"Bautismo","gedcom.BIRT":"Nacimiento","gedcom.BURI":"Funeral","gedcom.CENS":"Censo","gedcom.CHR":"Bautismo","gedcom.DEAT":"Muerte","gedcom.MARR":"Matrimonio","gedcom.MARS":"Acuerdo de matrimonio","gedcom.ETHN":"Etnia","gedcom.TRIB":"Clan","gedcom.LANG":"Lengua","gedcom.DIV":"Divorcio","gedcom.DSCR":"Descripci\xf3n","gedcom.EMAIL":"E-mail","gedcom.EVEN":"Evento","gedcom.OCCU":"Profesi\xf3n","gedcom.RIN":"ID","gedcom.TITL":"T\xedtulo","gedcom.WWW":"Sitio web","gedcom._UPD":"\xdaltima actualizaci\xf3n","gedcom.birth":"Nombre","gedcom.married":"Nombre de casado/a","gedcom.maiden":"Nombre de soltera","gedcom.aka":"Apodo","gedcom.languages":"Lenguas","date.between":"de {from} a {to}","date.after":"despu\xe9s de {from}","date.before":"antes de {to}","error.error":"Error","error.failed_pdf":"Imposible generar PDF. Int\xe9ntelo de nuevo con un diagrama m\xe1s peque\xf1o o descargue el archivo SVG.","error.failed_png":"Imposible generar el fichero PNG. Int\xe9ntelo de nuevo con un diagrama m\xe1s peque\xf1o o descargue el archivo SVG.","error.failed_to_load_file":"Error cargando archivo","tab.info":"Info","tab.settings":"Configuraci\xf3n","config.colors":"Colores","config.colors.NO_COLOR":"ninguno","config.colors.COLOR_BY_GENERATION":"por generaci\xf3n","config.colors.COLOR_BY_SEX":"por sexo","config.colors.COLOR_BY_ETHNICITY":"por etnia","config.colors.COLOR_BY_LANGUAGES":"por nr. lenguas","config.ethnicity":"etnia","config.languages":"lenguas","config.ids":"ID","config.sex":"sexo","config.toggle.SHOW":"Mostrar","config.toggle.HIDE":"Ocultar","config.reset":"Reset","name.unknown_name":"N.N.","extras.notes":"Notas","extras.images":"Im\xe1genes","extras.sources":"Fuentes"}')},374:function(e){e.exports=JSON.parse('{"menu.open":"Otw\xf3rz","menu.open_file":"Otw\xf3rz plik","menu.load_from_url":"Otw\xf3rz URL","menu.convert_csv_gedcom":"Konwertuj CSV do GEDCOM","menu.download":"Pobierz","menu.download_pdf":"Pobierz PDF","menu.download_png":"Pobierz PNG","menu.download_svg":"Pobierz SVG","menu.download_gedcom":"Pobierz GEDCOM","menu.view":"Wy\u015brodkuj grafik\u0119","menu.github":"Projekt na stronie GitHub","menu.search.placeholder":"Szukaj osoby","menu.search.no_results":"Brak wynik\xf3w","load_from_url.title":"Otw\xf3rz z adresu URL","load_from_url.comment":"W celu unikni\u0119cia problem\xf3w z CORS, dane z podanego adresu URL zostan\u0105 za\u0142adowane poprzez us\u0142ug\u0119 dost\u0119pn\u0105 pod {link}.","load_from_url.cancel":"Anuluj","load_from_url.load":"Otw\xf3rz","load_from_gedcom.generate":"Spowodowaj","gedcom.ADOP":"Adopcja","gedcom.BAPM":"Chrzest","gedcom.BIRT":"Narodziny","gedcom.BURI":"Pogrzeb","gedcom.CENS":"Spis ludno\u015bci","gedcom.CHR":"Chrzest","gedcom.DEAT":"\u015amier\u0107","gedcom.MARR":"Ma\u0142\u017ce\u0144stwo","gedcom.MARS":"\u015alub cywilny","gedcom.ETHN":"Pochodzenie etniczne","gedcom.TRIB":"Klan","gedcom.LANG":"J\u0119zyk","gedcom.DIV":"Rozw\xf3d","gedcom.DSCR":"Opis","gedcom.EMAIL":"E-mail","gedcom.EVEN":"Wydarzenie","gedcom.OCCU":"Zaw\xf3d","gedcom.RIN":"ID","gedcom.TITL":"Tytu\u0142","gedcom.WWW":"Strona WWW","gedcom._UPD":"Ostatnia aktualizacja","gedcom.birth":"Nazwisko rodowe","gedcom.married":"Nazwisko po \u015blubie","gedcom.maiden":"Nazwisko panie\u0144skie","gedcom.aka":"Alias","gedcom.languages":"J\u0119zyki","date.between":"mi\u0119dzy {from} a {to}","date.after":"po {from}","date.before":"przed {to}","error.error":"B\u0142\u0105d","error.failed_pdf":"Nie uda\u0142o si\u0119 utworzy\u0107 pliku PDF. Spr\xf3buj jeszcze raz z mniejszym diagramem lub pobierz plik SVG.","error.failed_png":"Nie uda\u0142o si\u0119 utworzy\u0107 pliku PNG. Spr\xf3buj jeszcze raz z mniejszym diagramem lub pobierz plik SVG.","error.failed_to_load_file":"B\u0142\u0105d wczytania pliku","tab.info":"Info","tab.settings":"Ustawienia","config.colors":"Kolory","config.colors.NO_COLOR":"brak","config.colors.COLOR_BY_GENERATION":"wed\u0142ug pokolenia","config.colors.COLOR_BY_SEX":"wed\u0142ug p\u0142ci","config.colors.COLOR_BY_ETHNICITY":"wed\u0142ug pochodzenia etnicznego","config.colors.COLOR_BY_LANGUAGES":"wed\u0142ug nr. j\u0119zyk\xf3w","config.ethnicity":"pochodzenie etniczne","config.languages":"j\u0119zyki","config.ids":"ID","config.sex":"p\u0142e\u0107","config.toggle.SHOW":"Poka\u017c","config.toggle.HIDE":"Ukryj","config.reset":"Reset","name.unknown_name":"N.N.","extras.notes":"Notatki","extras.images":"Zdj\u0119cia","extras.sources":"\u0179r\xf3d\u0142o"}')},428:function(e,t){},471:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ChartColors=void 0,function(e){e[e.NO_COLOR=0]="NO_COLOR",e[e.COLOR_BY_GENERATION=1]="COLOR_BY_GENERATION",e[e.COLOR_BY_SEX=2]="COLOR_BY_SEX",e[e.COLOR_BY_ETHNICITY=3]="COLOR_BY_ETHNICITY",e[e.COLOR_BY_NR_LANGUAGES=4]="COLOR_BY_NR_LANGUAGES",e[e.COLOR_BY_LANGUAGE=5]="COLOR_BY_LANGUAGE"}(t.ChartColors||(t.ChartColors={}))},472:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),null===n?t.prototype=Object.create(n):(r.prototype=n.prototype,t.prototype=new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.DetailedRenderer=t.getLength=void 0;var a=n(42),i=n(34),o=n(298),c=n(193);n(111);var s=n(296),u=17,d=new Map;function l(e,t){var n=e+"|"+t;if(d.has(n))return d.get(n);var r=a.select("svg").append("g").attr("class","detailed node"),i=r.append("text").attr("class",t).text(e).node().getComputedTextLength();return r.remove(),d.set(n,i),i}t.getLength=l;var f=new Map([["F","\u2640"],["M","\u2642"]]),h=function(e){function t(t){var n=e.call(this,t)||this;return n.options=t,n}r(t,e),t.prototype.getColoringClass=function(){switch(this.options.colors){case i.ChartColors.NO_COLOR:return"nocolor";case i.ChartColors.COLOR_BY_GENERATION:return"bygeneration";case i.ChartColors.COLOR_BY_SEX:return"bysex";case i.ChartColors.COLOR_BY_ETHNICITY:return"byethnicity";case i.ChartColors.COLOR_BY_NR_LANGUAGES:case i.ChartColors.COLOR_BY_LANGUAGE:return"bylanguages";default:return"bygeneration"}},t.prototype.getIndiDetails=function(e){var t=[],n=e.getBirthDate()&&o.formatDateOrRange(e.getBirthDate(),this.options.locale),r=e.getBirthPlace(),a=e.getDeathDate()&&o.formatDateOrRange(e.getDeathDate(),this.options.locale),i=e.getDeathPlace();n&&t.push({symbol:"",text:n}),r&&t.push({symbol:"",text:r}),(n||r)&&(t[0].symbol="*");var c=t.length;return a&&t.push({symbol:"",text:a}),i&&t.push({symbol:"",text:i}),a||i?t[c].symbol="+":e.isConfirmedDeath()&&t.push({symbol:"+",text:""}),t},t.prototype.getPreferredIndiSize=function(e){var t=this.options.data.getIndi(e),n=this.getIndiDetails(t),r=t.showEthnicity()&&null!=t.getEthnicity()?17:0,a=t.showLanguages()&&t.getLanguages().length>0?17:0,i=t.showId()||t.showSex()?u:0,o=c.max([44+a+r+n.length*u+i,t.getImageUrl()?90:0]),s=c.max(n.map((function(e){return l(e.text,"details")})));return[c.max([s+22,l(t.getFirstName()||"","name")+8,l(t.getLastName()||"","name")+8,t.showLanguages()&&t.getLanguages().length>0?l(t.getLanguagesLabel(),"languages")+28:0,t.showEthnicity()&&null!=t.getEthnicity()?l(t.getEthnicity(),"ethnicity")+28:0,l(e,"id")+32,64])+(t.getImageUrl()?70:0),o]},t.prototype.getFamDetails=function(e){var t=[],n=e.getMarriageDate()&&o.formatDateOrRange(e.getMarriageDate(),this.options.locale),r=e.getMarriagePlace();return n&&t.push({symbol:"",text:n}),r&&t.push({symbol:"",text:r}),(n||r)&&(t[0].symbol="\u26ad"),t},t.prototype.getPreferredFamSize=function(e){var t=this.options.data.getFam(e),n=this.getFamDetails(t),r=c.max([10+n.length*u,10]),a=c.max(n.map((function(e){return l(e.text,"details")})));return[c.max([a+22,15]),r]},t.prototype.render=function(e,t){var n=this;e=e.append("g").attr("class","detailed"),t=t.select("g");var r=e.merge(t).selectAll("g.indi").data((function(e){var t=[],r=!n.options.horizontal&&e.data.family?c.max([-s.getFamPositionVertical(e.data),0]):0,a=n.options.horizontal&&e.data.family?c.max([-s.getFamPositionHorizontal(e.data),0]):0;return e.data.indi&&t.push({indi:e.data.indi,generation:e.data.generation,xOffset:r,yOffset:0}),e.data.spouse&&t.push({indi:e.data.spouse,generation:e.data.generation,xOffset:!n.options.horizontal&&e.data.indi?e.data.indi.width+r:0,yOffset:n.options.horizontal&&e.data.indi?e.data.indi.height+a:0}),t}),(function(e){return e.indi.id})),a=r.enter().append("g").attr("class","indi");this.transition(a.merge(r)).attr("transform",(function(e){return"translate("+e.xOffset+", "+e.yOffset+")"})),this.renderIndi(a,r);var i=e.select((function(e){return e.data.family?this:null})).append("g").attr("class","family"),o=t.select((function(e){return e.data.family?this:null})).select("g.family");this.transition(i.merge(o)).attr("transform",(function(e){return n.getFamTransform(e.data)})),this.renderFamily(i)},t.prototype.getCss=function(){var e=new XMLHttpRequest;e.open("GET","./styles/detailed-renderer.css",!1);try{if(e.send(),200===e.status)return e.responseText;throw new Error("Failed to load CSS file:"+e.statusText)}catch(t){return console.error("Error occurred while loading CSS:",t),null}},t.prototype.transition=function(e){return this.options.animate?e.transition().delay(200).duration(500):e},t.prototype.getFamTransform=function(e){return this.options.horizontal?"translate("+(e.indi&&e.indi.width||e.spouse.width)+", "+c.max([s.getFamPositionHorizontal(e),0])+")":"translate("+c.max([s.getFamPositionVertical(e),0])+", "+(e.indi&&e.indi.height||e.spouse.height)+")"},t.prototype.getSexClass=function(e){var t;switch(null===(t=this.options.data.getIndi(e))||void 0===t?void 0:t.getSex()){case"M":return"male";case"F":return"female"}};var n=new Map;return t.prototype.getEthnicityClass=function(e){var t;0===n.size&&this.buildEthnicityMap();var r=null===(t=this.options.data.getIndi(e))||void 0===t?void 0:t.getEthnicity();return r?n.get(r):""},t.prototype.buildEthnicityMap=function(){try{var e;if(!n.has("eth0")){var t,r,a=null===(t=Array.from((null===(r=this.options.data.indis)||void 0===r?void 0:r.values())||[]).find((function(e){return e.isEgo()})))||void 0===t?void 0:t.json.ethnicity;a&&n.set(a,"ego")}n.set("Blanco","blanco"),n.set("Afroamerican","afroamerican"),Array.from((null===(e=this.options.data.indis)||void 0===e?void 0:e.values())||[]).filter((function(e){return null!=e.getEthnicity()})).forEach((function(e){var t=e.getEthnicity();if(!n.has(t)){var r=Object.keys(n).find((function(e){return"ego"===n[e]}))?n.size:n.size+1;n.set(t,"eth"+r)}if(n.size>14)throw new Error("No CSS for more than 14 different ethnicities")}))}catch(i){console.log(i)}},t.prototype.getLanguagesClass=function(e,t){var n,r=null===(n=this.options.data.getIndi(e))||void 0===n?void 0:n.getLanguages();return null==t?r.length>0?"n"+Math.min(r.length,7):"":r.some((function(e){return e.id===t}))?"l"+t:""},t.prototype.resetCss=function(){n.clear(),console.log("Cleared CSS maps")},t.prototype.renderIndi=function(e,t){var n=this;this.options.indiHrefFunc&&(e=e.append("a").attr("href",(function(e){return n.options.indiHrefFunc(e.indi.id)})),t=t.select("a")),this.options.indiCallback&&e.on("click",(function(e,t){return n.options.indiCallback({id:t.indi.id,generation:t.generation})}));var r=e.append("rect").attr("rx",5).attr("stroke-width",0).attr("class",(function(e){return"background "+n.getColoringClass()+" "+n.getSexClass(e.indi.id)+" "+n.getEthnicityClass(e.indi.id)+" "+n.getLanguagesClass(e.indi.id,n.options.selectedLanguage)+" "})).merge(t.select("rect.background"));this.transition(r).attr("width",(function(e){return e.indi.width})).attr("height",(function(e){return e.indi.height}));var a=function(e){return"clip-"+e};e.append("clipPath").attr("id",(function(e){return a(e.indi.id)})).append("rect").attr("rx",5).merge(t.select("clipPath rect")).attr("width",(function(e){return e.indi.width})).attr("height",(function(e){return e.indi.height}));var i=function(e){return n.options.data.getIndi(e.indi.id)},o=function(e){return e.indi.width-(i(e).getImageUrl()?70:0)};e.append("text").attr("text-anchor","middle").attr("class","name").attr("transform",(function(e){return"translate("+o(e)/2+", 17)"})).text((function(e){return i(e).getFirstName()})),e.append("text").attr("text-anchor","middle").attr("class","name").attr("transform",(function(e){return"translate("+o(e)/2+", 33)"})).text((function(e){return i(e).getLastName()}));var s=e.filter((function(e){return i(e).showLanguages()&&i(e).getLanguages().length>0})).append("text").attr("text-anchor","middle").attr("class","languages").text((function(e){return i(e).getLanguagesLabel()}));this.transition(s).attr("transform",(function(e){var t=i(e).showLanguages()&&i(e).getLanguages().length>0?52:null;return"translate("+o(e)/2+", "+t+")"}));var d=e.filter((function(e){return i(e).showEthnicity()&&null!=i(e).getEthnicity()})).append("text").attr("class","ethnicity").text((function(e){return"\xa4 "+i(e).getEthnicity()}));this.transition(d).attr("transform",(function(e){var t=null;return i(e).showLanguages()&&i(e).getLanguages().length>0?t=71:i(e).showEthnicity()&&null!=i(e).getEthnicity()&&(t=55),"translate(5, "+t+")"}));var l=new Map;e.each((function(e){var t=i(e),r=n.getIndiDetails(t);l.set(e.indi.id,r)}));var h=c.max(Array.from(l.values(),(function(e){return e.length})));function g(e){return 55+(i(e).showLanguages()&&i(e).getLanguages().length>0?17:0)+(i(e).showEthnicity()&&null!=i(e).getEthnicity()?17:0)}for(var m=function(t){var n=e.filter((function(e){return l.get(e.indi.id).length>t}));n.append("text").attr("text-anchor","middle").attr("class","details").attr("transform",(function(e){return"translate(9, "+(g(e)+t*u)+")"})).text((function(e){return l.get(e.indi.id)[t].symbol})),n.append("text").attr("class","details").attr("transform",(function(e){return"translate(15, "+(g(e)+t*u)+")"})).text((function(e){return l.get(e.indi.id)[t].text}))},p=0;p<h;++p)m(p);var j=e.append("text").attr("class","id").text((function(e){return i(e).showId()?e.indi.id:""})).merge(t.select("text.id"));this.transition(j).attr("transform",(function(e){return"translate(9, "+(e.indi.height-5)+")"}));var O=e.append("text").attr("class","details sex").attr("text-anchor","end").text((function(e){var t=f.get(i(e).getSex()||"")||"";return i(e).showSex()?t:""})).merge(t.select("text.sex"));this.transition(O).attr("transform",(function(e){return"translate("+(o(e)-5)+", "+(e.indi.height-5)+")"})),e.filter((function(e){return!!i(e).getImageUrl()})).append("image").attr("width",70).attr("height",(function(e){return e.indi.height})).attr("preserveAspectRatio","xMidYMin").attr("transform",(function(e){return"translate("+(e.indi.width-70)+", 0)"})).attr("clip-path",(function(e){return"url(#"+a(e.indi.id)+")"})).attr("href",(function(e){return i(e).getImageUrl()}));var b=e.append("rect").attr("rx",5).attr("fill-opacity",0).attr("class","border").merge(t.select("rect.border"));this.transition(b).attr("width",(function(e){return e.indi.width})).attr("height",(function(e){return e.indi.height}))},t.prototype.renderFamily=function(e){var t=this;this.options.famHrefFunc&&(e=e.append("a").attr("href",(function(e){return t.options.famHrefFunc(e.data.family.id)}))),this.options.famCallback&&e.on("click",(function(e,n){return t.options.famCallback({id:n.data.family.id,generation:n.data.generation})}));var n=new Map;e.each((function(e){var r=e.data.family.id,a=t.options.data.getFam(r),i=t.getFamDetails(a);n.set(r,i)}));var r=c.max(Array.from(n.values(),(function(e){return e.length})));e.filter((function(e){return 0<n.get(e.data.family.id).length})).append("rect").attr("class",this.getColoringClass()).attr("rx",5).attr("ry",5).attr("width",(function(e){return e.data.family.width})).attr("height",(function(e){return e.data.family.height}));for(var a=function(t){var r=e.filter((function(e){return n.get(e.data.family.id).length>t}));r.append("text").attr("text-anchor","middle").attr("class","details").attr("transform","translate(9, "+(16+t*u)+")").text((function(e){return n.get(e.data.family.id)[t].symbol})),r.append("text").attr("text-anchor","start").attr("class","details").attr("transform","translate(15, "+(16+t*u)+")").text((function(e){return n.get(e.data.family.id)[t].text}))},i=0;i<r;++i)a(i)},t}(s.CompositeRenderer);t.DetailedRenderer=h},473:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.gedcomEntriesToJson=t.gedcomToJson=t.getDate=void 0;var r=n(267);function a(e,t){return e.find((function(e){return e.tag===t}))}function i(e,t){return e.filter((function(e){return e.tag===t}))}function o(e){return e.substring(1,e.length-1)}function c(e){var t=e.split("/");return 1===t.length?{firstName:t[0].trim()}:{firstName:t[0].trim(),lastName:t[1].trim()}}var s=new Map([["jan",1],["feb",2],["mar",3],["apr",4],["may",5],["jun",6],["jul",7],["aug",8],["sep",9],["oct",10],["nov",11],["dec",12]]);function u(e){var t;if(e&&e.length){var n={};e[0].startsWith("(")&&e[e.length-1].endsWith(")")&&(e[0]=e[0].substring(1),t=e[e.length-1],e[e.length-1]=t.substring(0,t.length-1));var r=e.join(" "),a=e[0].toLowerCase();return"cal"!==a&&"abt"!==a&&"est"!==a||(n.qualifier=a,e=e.slice(1)),e.length&&e[e.length-1].match(/^\d{1,4}$/)&&(n.year=Number(e[e.length-1]),e=e.slice(0,e.length-1)),e.length&&(t=e[e.length-1].toLowerCase(),s.has(t)&&(n.month=s.get(t),e=e.slice(0,e.length-1))),e.length&&e[0].match(/^\d\d?$/)&&(n.day=Number(e[0]),e=e.slice(0,e.length-1)),e.length?{text:r}:n}}function d(e){var t=e.replace(/@.*@/,"").trim().split(" "),n=t[0].toLowerCase();if(n.startsWith("bet")){var r=t.findIndex((function(e){return"and"===e.toLowerCase()}));return{dateRange:{from:u(t.slice(1,r)),to:u(t.slice(r+1))}}}if(n.startsWith("bef")||n.startsWith("aft")){var a=u(t.slice(1));return n.startsWith("bef")?{dateRange:{to:a}}:{dateRange:{from:a}}}var i=u(t);if(i)return{date:i}}function l(e){if(e&&"NOTE"===e.tag)return i(e.tree,"CONT").filter((function(e){return e.data})).reduce((function(e,t){return e.concat(t.data)}),[e.data])}function f(e){if(e){var t=a(e.tree,"TYPE"),n=a(e.tree,"DATE"),r=a(e.tree,"PLAC"),i=n&&n.data&&d(n.data),o=r&&r.data;if(i||o){var c=i||{};return o&&(c.place=o),c.confirmed=!0,c.type=t?t.data:void 0,c.notes=l(a(e.tree,"NOTE")),c}return e.data&&"y"===e.data.toLowerCase()?{confirmed:!0}:void 0}}function h(e){var t={id:o(e.pointer),children:i(e.tree,"CHIL").map((function(e){return o(e.data)}))},n=a(e.tree,"HUSB");n&&(t.husb=o(n.data));var r=a(e.tree,"WIFE");r&&(t.wife=o(r.data));var c=f(a(e.tree,"MARR"));return c&&(t.marriage=c),t}function g(e,t){var n,r=(n=i(e,"OBJE"),new Map(n.map((function(e){return[o(e.pointer),e]})))),s=i(e,"EGO");return{indis:i(e,"INDI").map((function(e){return function(e,t,n,r){var s,u,d=o(e.pointer),h={id:d,fams:i(e.tree,"FAMS").map((function(e){return o(e.data)}))};n&&(h.isEgo=o(n.pointer)===d);var g=i(e.tree,"NAME"),m=function(e){var t=a(e.tree,"TYPE");return void 0!==t&&"maiden"===t.data},p=g.find((function(e){return!m(e)})),j=g.find(m);if(p){var O=c(p.data);s=O.firstName,u=O.lastName,s&&(h.firstName=s),u&&(h.lastName=u)}if(j){var b=c(j.data);s=b.firstName,(u=b.lastName)&&(h.maidenName=u),s&&!h.firstName&&(h.firstName=s)}var v=a(e.tree,"NCHI");v&&(h.numberOfChildren=+v.data);var x=a(e.tree,"NMR");x&&(h.numberOfMarriages=+x.data);var y=a(e.tree,"SEX");if(y&&(h.sex=y.data),i(e.tree,"LANG")){var _=i(e.tree,"LANG").map((function(e){return e.data}));h.languages=r.filter((function(e){return _.includes(e.name)}))}var w=a(e.tree,"_ETHN");w&&(h.ethnicity=w.data);var C=a(e.tree,"_TRIB");C&&(h.tribe=C.data);var E=a(e.tree,"FAMC");E&&(h.famc=o(E.data));var I=i(e.tree,"OBJE");I.length>0&&(h.images=I.map((function(e){var n=e.data?t.get(o(e.data)):e;if(n){var r=a(n.tree,"FILE"),i=a(n.tree,"TITL");if(r)return{url:r.data,title:i&&i.data}}})).filter((function(e){return void 0!==e})));var N=f(a(e.tree,"BIRT"));N&&(h.birth=N);var R=f(a(e.tree,"DEAT"));return R&&(h.death=R),h.notes=l(a(e.tree,"NOTE")),h.events=i(e.tree,"EVEN").map(f).filter((function(e){return null!==e})),h}(e,r,s.length>0?s[0]:void 0,t)})),fams:i(e,"FAM").map(h)}}t.getDate=d,t.gedcomToJson=function(e,t){return g(r.parse(e,t))},t.gedcomEntriesToJson=g},474:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HourglassChart=void 0;var r=n(294),a=n(185),i=n(299),o=function(){function e(e){this.options=e,this.util=new a.ChartUtil(e)}return e.prototype.render=function(){var e=r.getAncestorsTree(this.options),t=this.util.layOutChart(e,{flipVertically:!0}),n=i.layOutDescendants(this.options),o=t.slice(1).concat(n),c=this.util.renderChart(o),s=a.getChartInfo(o);return this.util.updateSvgDimensions(s),Object.assign(s,{animationPromise:c})},e}();t.HourglassChart=o},475:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createChart=void 0;var r=n(42),a=n(297);var i=function(){function e(e){this.options=e,this.initialRender=!0}return e.prototype.render=function(e){void 0===e&&(e={});var t=function(e,t,n){var r=new a.JsonDataProvider(e.json),i=e.indiUrl?function(t){return e.indiUrl.replace("".concat(t),t)}:void 0,o=e.famUrl?function(t){return e.famUrl.replace("".concat(t),t)}:void 0;t.startIndi||t.startFam||(t.startIndi=e.json.indis[0].id);var c=!n.initialRender&&e.animate;return{data:r,renderer:new e.renderer({data:r,indiHrefFunc:i,famHrefFunc:o,indiCallback:e.indiCallback,famCallback:e.famCallback,horizontal:e.horizontal,colors:e.colors,selectedLanguage:e.selectedLanguage,animate:c,locale:e.locale}),startIndi:t.startIndi,startFam:t.startFam,svgSelector:e.svgSelector||"svg",horizontal:e.horizontal,baseGeneration:t.baseGeneration,animate:c}}(this.options,e,{initialRender:this.initialRender});this.initialRender&&t.renderer.resetCss(),this.initialRender=!1;var n=new this.options.chartType(t).render();return!1!==this.options.updateSvgSize&&r.select(t.svgSelector).attr("width",n.size[0]).attr("height",n.size[1]),n},e.prototype.setData=function(e){this.options.json=e},e}();t.createChart=function(e){return new i(e)}},507:function(e,t){},509:function(e,t){},531:function(e,t){},533:function(e,t){},561:function(e,t){},563:function(e,t){},564:function(e,t){},569:function(e,t){},571:function(e,t){},590:function(e,t){},602:function(e,t){},605:function(e,t){},634:function(e,t,n){},637:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n(100),o=n(370),c=n(371),s=n(372),u=n(373),d=n(374),l=n(8),f=n.n(l),h=n(18),g=n(10),m=n(44);function p(e,t){window.gtag("event",e,t)}!function(e){e[e.UPLOADED=0]="UPLOADED",e[e.GEDCOM_URL=1]="GEDCOM_URL",e[e.EMBEDDED=2]="EMBEDDED"}(r||(r={}));var j=n(224),O=n(169),b=n.n(O),v=n(25),x=n(65),y=n(660),_=n(376),w=n(20),C=n(167),E=n(1),I=new Map([["ADOP","Adoption"],["BAPM","Baptism"],["BIRT","Birth"],["BURI","Burial"],["CENS","Census"],["CHR","Christening"],["CREM","Cremation"],["DEAT","Death"],["EDUC","Education"],["EMAIL","E-mail"],["EMIG","Emigration"],["EVEN","Event"],["FACT","Fact"],["IMMI","Immigration"],["MARR","Marriage"],["MARS","Marriage settlement"],["ETHN","Ethnic"],["TRIB","Clan"],["LANG","Language"],["DIV","Divorce"],["MILT","Military services"],["NATU","Naturalization"],["OCCU","Occupation"],["TITL","Title"],["WWW","WWW"],["birth","Birth name"],["married","Married name"],["maiden","Maiden name"],["immigrant","Immigrant name"],["aka","Also known as"]]);function N(e){var t=e.tag.replace(/_/g,"");return Object(E.jsx)(y.a,{id:"gedcom.".concat(t),defaultMessage:I.get(t)||t})}var R=n(670),L=n(677),D=n(672),S=n(386),M=n(664),A=n(75),k=n(669),T=n(387),G=n(674),P=n(661),H=n(675),z=n(671),B=n(176);function F(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(!1),c=Object(g.a)(o,2),s=c[0],u=c[1],d=Object(a.useState)(!1),l=Object(g.a)(d,2),f=l[0],h=l[1],m=Object(a.useState)(""),p=Object(g.a)(m,2),j=p[0],O=p[1];return s&&j!==e.url&&u(!1),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(T.a,{className:s?"loaded-image-thumbnail":"hidden-image",onClick:function(){return i(!0)},onLoad:function(){u(!0),O(e.url),h(!1)},onError:function(t){u(!0),O(e.url),h(!0),t.currentTarget.alt=""},src:e.url,alt:e.title||e.filename,centered:!0}),Object(E.jsx)(G.a,{className:s?"hidden-image":"image-placeholder",children:Object(E.jsx)(G.a.Image,{square:!0})}),f&&Object(E.jsx)(P.a,{fluid:!0,textAlign:"center",children:Object(E.jsx)(H.a,{negative:!0,compact:!0,children:Object(E.jsx)(H.a.Header,{children:Object(E.jsx)(y.a,{id:"error.failed_to_load_image",defaultMessage:"Failed to load image file"})})})}),Object(E.jsxs)(z.a,{basic:!0,size:"large",closeIcon:Object(E.jsx)(A.a,{name:"close",color:"red"}),open:r,onClose:function(){return i(!1)},onOpen:function(){return i(!0)},centered:!1,children:[Object(E.jsx)(z.a.Header,{children:e.title}),Object(E.jsx)(z.a.Content,{image:!0,children:Object(E.jsx)(T.a,{className:"modal-image",src:e.url,alt:e.title||e.filename,label:Object(E.jsx)(B.a,{attached:"bottom",content:e.filename}),wrapped:!0})})]})]})}var U=n(173),Y=n.n(U);function W(e){return Object(E.jsx)(E.Fragment,{children:e.lines.map((function(e,t){return Object(E.jsxs)("div",{children:[Object(E.jsx)(Y.a,{properties:{target:"_blank"},children:e}),Object(E.jsx)("br",{})]},t)}))})}function V(e,t){return!!(null===e||void 0===e?void 0:e.length)&&Object(E.jsx)(D.a,{children:e.map((function(e,n){return Object(E.jsxs)(D.a.Item,{children:[Object(E.jsx)(D.a.Icon,{verticalAlign:"middle",name:"circle",size:"tiny"}),Object(E.jsxs)(D.a.Content,{children:[Object(E.jsx)(D.a.Header,{children:Object(E.jsx)(Y.a,{properties:{target:"_blank"},children:[e.author,e.title,e.publicationInfo].filter((function(e){return e})).join(", ")})}),Object(E.jsxs)(D.a.Description,{children:[Object(E.jsx)(Y.a,{properties:{target:"_blank"},children:e.page}),e.date?" ["+Object(x.b)(e.date,t)+"]":null]})]})]},n)}))})}function J(e){var t,n,r,i=Object(_.a)(),o=Object(a.useState)(-1),c=Object(g.a)(o,2),s=c[0],u=c[1],d=Object(a.useState)(""),l=Object(g.a)(d,2),f=l[0],h=l[1];function m(e,t){void 0!==t.index&&s!==t.index?u(t.index):u(-1)}f&&f===e.indi||(u(-1),h(e.indi));var p=[(null===(t=e.images)||void 0===t?void 0:t.length)&&{menuItem:Object(E.jsx)(S.a.Item,{fitted:!0,onClick:m,children:Object(E.jsx)(M.a,{content:Object(E.jsx)(y.a,{id:"extras.images",defaultMessage:"Images"}),size:"mini",position:"bottom center",trigger:Object(E.jsx)(A.a,{circular:!0,name:"camera"})})},"images"),render:function(){return Object(E.jsx)(k.a.Pane,{children:(t=e.images,!!t&&t.map((function(e,t){return Object(E.jsx)(D.a,{children:Object(E.jsx)(D.a.Item,{children:Object(E.jsx)(F,{url:e.url,filename:e.filename,title:e.title})})},t)})))});var t}},(null===(n=e.notes)||void 0===n?void 0:n.length)&&{menuItem:Object(E.jsx)(S.a.Item,{fitted:!0,onClick:m,children:Object(E.jsx)(M.a,{content:Object(E.jsx)(y.a,{id:"extras.notes",defaultMessage:"Notes"}),size:"mini",position:"bottom center",trigger:Object(E.jsx)(A.a,{circular:!0,name:"sticky note outline"})})},"notes"),render:function(){return Object(E.jsx)(k.a.Pane,{children:(t=e.notes,!!(null===t||void 0===t?void 0:t.length)&&t.map((function(e,t){return Object(E.jsx)("div",{children:Object(E.jsx)(W,{lines:e.map((function(e,t){return Object(E.jsx)("i",{children:e},t)}))})},t)})))});var t}},(null===(r=e.sources)||void 0===r?void 0:r.length)&&{menuItem:Object(E.jsx)(S.a.Item,{fitted:!0,onClick:m,children:Object(E.jsx)(M.a,{content:Object(E.jsx)(y.a,{id:"extras.sources",defaultMessage:"Sources"}),size:"mini",position:"bottom center",trigger:Object(E.jsx)(A.a,{circular:!0,name:"quote right"})})},"sources"),render:function(){return Object(E.jsx)(k.a.Pane,{children:V(e.sources,i)})}}].flatMap((function(e){return e?[e]:[]}));return p.length?Object(E.jsx)(R.a.Description,{children:Object(E.jsx)(k.a,{className:"event-extras",activeIndex:s,renderActiveOnly:!0,menu:{tabular:!0,attached:!0,compact:!0,borderless:!0},panes:p})}):null}var q=n(34);function X(e){var t=Object(w.h)(),n=Object(v.f)(e.person),r=m.parse(t.search);return r.indi=Object(v.j)(e.person.pointer),Object(E.jsx)(R.a.Meta,{children:Object(E.jsx)(C.b,{to:{pathname:"/view",search:m.stringify(r)},children:n||Object(E.jsx)(y.a,{id:"name.unknown_name",defaultMessage:"N.N."})})})}var K=["BIRT","BAPM","CHR","FAMS","EVEN","CENS","DEAT","BURI"],Z=["MARR","MARS","DIV"];function $(e){var t=Object(_.a)();return Object(E.jsxs)("div",{className:"event-header",children:[Object(E.jsx)(L.a,{as:"span",size:"small",children:Object(E.jsx)(N,{tag:e.event.type})}),e.event.date?Object(E.jsx)(L.a,{as:"span",textAlign:"right",sub:!0,children:Object(x.b)(e.event.date,t)}):null]})}function Q(e,t,n){var r=t.tree.filter((function(e){return["WIFE","HUSB"].includes(e.tag)})).find((function(t){return!t.data.includes(e)}));if(r)return Object(v.b)(r,n,(function(e){return e.indis}))}function ee(e){var t=e.tree.find((function(e){return"PLAC"===e.tag}));return(null===t||void 0===t?void 0:t.data)?Object(v.c)(t):void 0}function te(e,t){return e.tree.filter((function(e){return"OBJE"===e.tag})).map((function(e){return Object(v.b)(e,t,(function(e){return e.other}))})).map((function(e){return Object(v.e)(e)})).flatMap((function(e){return e?[{url:(null===e||void 0===e?void 0:e.data)||"",filename:Object(v.d)(e)||""}]:[]}))}function ne(e,t){return e.tree.filter((function(e){return"SOUR"===e.tag})).map((function(e){var n=Object(v.b)(e,t,(function(e){return e.other})),r=n.tree.find((function(e){return"TITL"===e.tag})),a=n.tree.find((function(e){return"ABBR"===e.tag})),i=n.tree.find((function(e){return"AUTH"===e.tag})),o=n.tree.find((function(e){return"PUBL"===e.tag})),c=e.tree.find((function(e){return"PAGE"===e.tag})),s=e.tree.find((function(e){return"DATA"===e.tag})),u=s?ie(s):void 0;return{title:(null===r||void 0===r?void 0:r.data)||(null===a||void 0===a?void 0:a.data),author:null===i||void 0===i?void 0:i.data,page:null===c||void 0===c?void 0:c.data,date:u?Object(q.getDate)(u.data):void 0,publicationInfo:null===o||void 0===o?void 0:o.data}}))}function re(e,t){return e.tree.filter((function(e){return["NOTE","TYPE"].includes(e.tag)})).map((function(e){return Object(v.b)(e,t,(function(e){return e.other}))})).map((function(e){return Object(v.c)(e)}))}function ae(e,t,n){return"FAMS"===e.tag?function(e,t,n){var r=Object(v.b)(e,t,(function(e){return e.fams}));return b()(Z,(function(e){return r.tree.filter((function(t){return t.tag===e}))})).map((function(e){var a=ie(e)||null;return{date:a?Object(q.getDate)(a.data):void 0,type:e.tag,personLink:Q(n,r,t),place:ee(e),images:te(e,t),notes:re(e,t),sources:ne(e,t),indi:n}}))}(e,t,n):function(e,t,n){var r=ie(e)||null;return[{date:r?Object(q.getDate)(r.data):void 0,type:e.tag,place:ee(e),images:te(e,t),notes:re(e,t),sources:ne(e,t),indi:n}]}(e,t,n)}function ie(e){return e.tree.find((function(e){return"DATE"===e.tag}))}function oe(e){return Object(E.jsx)(R.a,{children:Object(E.jsxs)(R.a.Content,{children:[Object(E.jsx)($,{event:e.event}),!!e.event.personLink&&Object(E.jsx)(X,{person:e.event.personLink}),!!e.event.place&&Object(E.jsx)(R.a.Description,{children:e.event.place}),Object(E.jsx)(J,{images:e.event.images,notes:e.event.notes,sources:e.event.sources,indi:e.event.indi})]})})}function ce(e){var t=b()(K,(function(t){return e.entries.filter((function(e){return e.tag===t})).map((function(t){return ae(t,e.gedcom,e.indi)})).flatMap((function(e){return e})).sort((function(e,t){return Object(x.a)(e.date,t.date)}))}));return t.length?Object(E.jsx)(E.Fragment,{children:t.map((function(e,t){return Object(E.jsx)(oe,{event:e},t)}))}):null}var se=["BIRT","BAPM","CHR","EVEN","CENS","DEAT","BURI","NAME","SEX","FAMC","FAMS","NOTE","SOUR","LANG"];function ue(e){var t=Object(v.e)(e);return t?Object(E.jsx)("div",{className:"person-image",children:Object(E.jsx)(F,{url:t.data,filename:Object(v.d)(t)||""})}):null}function de(e){return Object(E.jsx)(W,{lines:Object(v.c)(e).map((function(e,t){return Object(E.jsx)("i",{children:e},t)}))})}function le(e){var t,n=e.data.replaceAll("/",""),r=null===(t=e.tree.find((function(e){return"TYPE"===e.tag&&"Unknown"!==e.data})))||void 0===t?void 0:t.data;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(L.a,{as:"span",size:"large",children:n||Object(E.jsx)(y.a,{id:"name.unknown_name",defaultMessage:"N.N."})}),n&&r&&Object(E.jsx)(R.a.Meta,{children:Object(E.jsx)(N,{tag:r})})]})}function fe(e,t,n){return b()(t,(function(t){return e.filter((function(e){return e.tag===t})).map((function(e){return n(e)}))})).filter((function(e){return null!==e})).map((function(e,t){return Object(E.jsx)(R.a,{children:Object(E.jsx)(R.a.Content,{children:e})},t)}))}function he(e){return e.tree.length>0||e.data&&!e.data.startsWith("@")}function ge(e){return e.filter((function(e){return!se.includes(e.tag)})).filter(he).map((function(e){return function(e){var t=[];return e.data&&t.push.apply(t,Object(j.a)(Object(v.c)(e))),e.tree.filter((function(e){return"NOTE"===e.tag})).forEach((function(e){return Object(v.c)(e).forEach((function(e){return t.push(Object(E.jsx)("i",{children:e}))}))})),t.length?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(L.a,{sub:!0,children:Object(E.jsx)(N,{tag:e.tag})}),Object(E.jsx)("span",{children:Object(E.jsx)(W,{lines:t})})]}):null}(e)})).filter((function(e){return null!==e})).map((function(e,t){return Object(E.jsx)(R.a,{children:Object(E.jsx)(R.a.Content,{children:e})},t)}))}function me(e,t,n){var r=e.filter((function(e){return t.includes(e.tag)})).filter(he).map((function(e){return e.data}));return r.length?Object(E.jsx)(R.a,{children:Object(E.jsxs)(R.a.Content,{children:[Object(E.jsx)(L.a,{as:"span",children:Object(E.jsx)(y.a,{id:n[0],defaultMessage:n[1]})}),Object(E.jsx)("span",{children:Object(E.jsx)(W,{lines:r})})]})},"languages"):null}function pe(e){var t=e.gedcom.indis[e.indi].tree,n=t.map((function(t){return Object(v.b)(t,e.gedcom,(function(e){return e.other}))})).filter(he);return Object(E.jsx)("div",{className:"details",children:Object(E.jsxs)(R.a.Group,{divided:!0,children:[fe(t,["NAME"],le),fe(n,["OBJE"],ue),Object(E.jsx)(ce,{gedcom:e.gedcom,entries:t,indi:e.indi}),me(n,["LANG"],["gedcom.languages","Languages"]),ge(n),fe(n,["NOTE"],de)]})})}var je,Oe=n(27),be=n(29),ve=n(73);!function(e){e.GEDCOM="gedcom",e.READY="ready",e.PARENT_READY="parent_ready"}(je||(je={}));var xe=function(){function e(){Object(Oe.a)(this,e)}return Object(be.a)(e,[{key:"isNewData",value:function(e,t,n){return!1}},{key:"onMessage",value:function(){var e=Object(h.a)(f.a.mark((function e(t,n,r){var a,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.message!==je.PARENT_READY){e.next=4;break}window.parent.postMessage({message:je.READY},"*"),e.next=19;break;case 4:if(t.message!==je.GEDCOM){e.next=19;break}if(a=t.gedcom,i=t.allLanguages,a&&i){e.next=9;break}return e.abrupt("return");case 9:return e.prev=9,e.next=12,Object(ve.e)("",a,i);case 12:o=e.sent,n(o),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),r(e.t0);case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(h.a)(f.a.mark((function e(t){var n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){window.parent.postMessage({message:je.READY},"*"),window.addEventListener("message",(function(r){return n.onMessage(r.data,e,t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ye=n(129);function _e(e,t){return e instanceof ye.a?t.formatMessage({id:"error.".concat(e.code),defaultMessage:e.message},e.args):e.message}var we,Ce=n(678),Ee=n(663),Ie=n(380),Ne=Object(Ie.createMedia)({breakpoints:{small:320,large:768}}),Re=Ne.createMediaStyle(),Le=Ne.Media,De=Ne.MediaContextProvider,Se=n(19),Me=n(666);function Ae(e){var t=Object(Se.a)({},e);return delete t.menuType,Object(E.jsx)(E.Fragment,{children:e.menuType===we.Menu?Object(E.jsx)(S.a.Item,Object(Se.a)(Object(Se.a)({},t),{},{children:e.children})):Object(E.jsx)(Me.a.Item,Object(Se.a)(Object(Se.a)({},t),{},{children:e.children}))})}!function(e){e[e.Menu=0]="Menu",e[e.Dropdown=1]="Dropdown"}(we||(we={}));var ke=n(381),Te=n.n(ke),Ge=n(40),Pe=n.n(Ge),He=n(382),ze=n.n(He);n(613)(Pe.a),n(614)(Pe.a),n(615)(Pe.a),n(616)(Pe.a),n(617)(Pe.a);function Be(e){return e.toLocaleLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0142/g,"l")}function Fe(e,t){return e.score!==t.score?t.score-e.score:ze()(e.ref,t.ref)}var Ue=function(){function e(t){Object(Oe.a)(this,e),this.index=void 0,this.indiMap=void 0,this.famMap=void 0,this.indiMap=Object(v.h)(t),this.famMap=Object(v.g)(t)}return Object(be.a)(e,[{key:"initialize",value:function(){var e=this;this.index=Pe()((function(){var t=this;e.initMultiLingualLunrWithoutTrimmer(this,["de","en","fr","it","ru"]),this.ref("id"),this.field("id"),this.field("name",{boost:10}),this.field("normalizedName",{boost:8}),this.field("spouseLastName",{boost:2}),this.field("normalizedSpouseLastName",{boost:2}),e.indiMap.forEach((function(n){var r=[n.firstName,n.lastName].join(" "),a=function(e,t,n){return(e.fams||[]).map((function(e){return n.get(e)})).map((function(e){return e&&e.husb})).map((function(e){return e&&t.get(e)})).map((function(e){return e&&e.lastName})).join(" ")}(n,e.indiMap,e.famMap);t.add({id:n.id,name:r,normalizedName:Be(r),spouseLastName:a,normalizedSpouseLastName:Be(a)})}))}))}},{key:"initMultiLingualLunrWithoutTrimmer",value:function(e,t){var n=[],r=[];t.forEach((function(e){"en"===e?("\\w",n.unshift(Pe.a.stopWordFilter),n.push(Pe.a.stemmer),r.push(Pe.a.stemmer)):(Pe.a[e].wordCharacters,Pe.a[e].stopWordFilter&&n.unshift(Pe.a[e].stopWordFilter),Pe.a[e].stemmer&&(n.push(Pe.a[e].stemmer),r.push(Pe.a[e].stemmer)))})),e.pipeline.reset(),e.pipeline.add.apply(e.pipeline,n),e.searchPipeline&&(e.searchPipeline.reset(),e.searchPipeline.add.apply(e.searchPipeline,r))}},{key:"search",value:function(e){var t=this,n=e.split(" ").filter((function(e){return!!e})).map((function(e){return"".concat(e," ").concat(e,"*")})).join(" ");return this.index.search(n).sort(Fe).slice(0,8).map((function(e){return{id:e.ref,indi:t.indiMap.get(e.ref)}}))}}]),e}();var Ye=n(665);function We(e){var t=[e.indi.firstName,e.indi.lastName].join(" ").trim();return e.id.length>8?t:Object(E.jsxs)(E.Fragment,{children:[t," ",Object(E.jsxs)("i",{children:["(",e.id,")"]})]})}function Ve(e){var t=Object(a.useState)([]),n=Object(g.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(""),c=Object(g.a)(o,2),s=c[0],u=c[1],d=Object(a.useRef)(),l=Object(_.a)();function f(e){var t=Object(x.b)(e.birth,l),n=Object(x.b)(e.death,l);return n?"".concat(t," \u2013 ").concat(n):t}var h=Object(a.useRef)(Te()((function(e){if(e){var t=d.current.search(e).map((function(e){return function(e){return{id:e.id,key:e.id,title:We(e),description:f(e.indi)}}(e)}));i(t)}}),200));return Object(a.useEffect)((function(){d.current=function(e){var t=new Ue(e);return t.initialize(),t}(e.data)}),[e.data]),Object(E.jsx)(Ye.a,{onSearchChange:function(e,t){return n=t.value,h.current(n),void u(n);var n},onResultSelect:function(t,n){return r=n.result.id,e.onSelection({id:r,generation:0}),void u("");var r},results:r,noResultsMessage:l.formatMessage({id:"menu.search.no_results",defaultMessage:"No results found"}),placeholder:l.formatMessage({id:"menu.search.placeholder",defaultMessage:"Search for people"}),selectFirstResult:!0,value:s,id:"search"})}var Je=n(152),qe=n.n(Je);function Xe(e){var t=e.toLowerCase();return t.endsWith(".jpg")||t.endsWith(".png")}function Ke(e){var t=Object(w.g)(),n=Object(w.h)();function r(){return(r=Object(h.a)(f.a.mark((function e(r){var a,i,o,c,s,u,d,l,h;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=r.target.files)&&a.length){e.next=3;break}return e.abrupt("return");case 3:return i=Array.from(a),r.target.value="",o=1===i.length?i[0]:i.find((function(e){return e.name.toLowerCase().endsWith(".ged")}))||i[0],e.next=8,Object(ve.d)(o);case 8:c=e.sent,s=c.gedcom,u=c.images,i.filter((function(e){return e.name!==o.name&&Xe(e.name)})).forEach((function(e){return u.set(e.name,URL.createObjectURL(e))})),d=Array.from(u.keys()).sort().join("|"),l=qe()(qe()(s)+d),h=m.parse(n.search),(h.file===l?t.replace:t.push)({pathname:"/view",search:m.stringify({file:l}),state:{data:s,images:u}});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var a=Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(A.a,{name:"folder open"}),Object(E.jsx)(y.a,{id:"menu.open_file",defaultMessage:"Open file"})]});return Object(E.jsxs)(E.Fragment,{children:[e.menuType===we.Menu?Object(E.jsx)("label",{htmlFor:"fileInput",children:Object(E.jsx)(S.a.Item,{as:"a",children:a})}):Object(E.jsx)(Me.a.Item,{as:"label",htmlFor:"fileInput",children:a}),Object(E.jsx)("input",{className:"hidden",type:"file",accept:".ged,.gdz,.gedzip,.zip,image/*",id:"fileInput",multiple:!0,onChange:function(e){return r.apply(this,arguments)}})]})}var Ze=n(667),$e=n(662),Qe=n(641);function et(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(""),c=Object(g.a)(o,2),s=c[0],u=c[1],d=Object(a.useRef)(null),l=Object(w.g)();function f(){i(!1),s&&l.push({pathname:"/view",search:m.stringify({url:s})})}return Object(a.useEffect)((function(){r&&(u(""),d.current.focus())}),[r]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(Ae,{onClick:function(){return i(!0)},menuType:e.menuType,children:[Object(E.jsx)(A.a,{name:"cloud download"}),Object(E.jsx)(y.a,{id:"menu.load_from_url",defaultMessage:"Load from URL"})]}),Object(E.jsxs)(z.a,{open:r,onClose:function(){return i(!1)},centered:!1,children:[Object(E.jsxs)(L.a,{children:[Object(E.jsx)(A.a,{name:"cloud download"}),Object(E.jsx)(y.a,{id:"load_from_url.title",defaultMessage:"Load from URL"})]}),Object(E.jsx)(z.a.Content,{children:Object(E.jsxs)(Ze.a,{onSubmit:f,children:[Object(E.jsx)($e.a,{placeholder:"https://",fluid:!0,value:s,onChange:function(e,t){return u(t.value)},ref:d}),Object(E.jsx)("p",{children:Object(E.jsx)(y.a,{id:"load_from_url.comment",defaultMessage:"Data from the URL will be loaded through {link} to avoid CORS issues.",values:{link:Object(E.jsx)("a",{href:"https://corsproxy.io/",children:"corsproxy.io"})}})})]})}),Object(E.jsxs)(z.a.Actions,{children:[Object(E.jsx)(Qe.a,{secondary:!0,onClick:function(){return i(!1)},children:Object(E.jsx)(y.a,{id:"load_from_url.cancel",defaultMessage:"Cancel"})}),Object(E.jsx)(Qe.a,{primary:!0,onClick:f,children:Object(E.jsx)(y.a,{id:"load_from_url.load",defaultMessage:"Load"})})]})]})]})}var tt=n(680),nt=n(174),rt=n(155),at=n(383),it=n(272),ot=n(141);function ct(e){var t=e.headerColor;return Object(E.jsxs)(tt.a,{compact:!0,size:"small",color:t,children:[Object(E.jsx)(nt.a,{children:Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(at.a,{style:{color:""},children:"id *"}),Object(E.jsx)(at.a,{children:"name"}),Object(E.jsx)(at.a,{children:"surname"}),Object(E.jsx)(at.a,{children:"nickname"}),Object(E.jsx)(at.a,{style:{color:""},children:"sex *"}),Object(E.jsx)(at.a,{children:"YOB"}),Object(E.jsx)(at.a,{style:{color:""},children:"ethnic *"}),Object(E.jsx)(at.a,{children:"clan"}),Object(E.jsx)(at.a,{children:"notes"})]})}),Object(E.jsxs)(it.a,{children:[Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(ot.a,{children:"I200"}),Object(E.jsx)(ot.a,{disabled:!0,children:"John"}),Object(E.jsx)(ot.a,{disabled:!0,children:"Doe"}),Object(E.jsx)(ot.a,{disabled:!0}),Object(E.jsx)(ot.a,{children:"M"}),Object(E.jsx)(ot.a,{disabled:!0}),Object(E.jsx)(ot.a,{children:"WHITE"}),Object(E.jsx)(ot.a,{disabled:!0}),Object(E.jsx)(ot.a,{disabled:!0})]}),Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(ot.a,{children:"I201"}),Object(E.jsx)(ot.a,{disabled:!0,children:"Jane"}),Object(E.jsx)(ot.a,{disabled:!0,children:"Doe"}),Object(E.jsx)(ot.a,{}),Object(E.jsx)(ot.a,{children:"F"}),Object(E.jsx)(ot.a,{disabled:!0}),Object(E.jsx)(ot.a,{children:"WHITE"}),Object(E.jsx)(ot.a,{disabled:!0}),Object(E.jsx)(ot.a,{disabled:!0,children:"Some comments"})]}),Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(ot.a,{children:"I202"}),Object(E.jsx)(ot.a,{disabled:!0,children:"John"}),Object(E.jsx)(ot.a,{disabled:!0,children:"Doe"}),Object(E.jsx)(ot.a,{disabled:!0,children:"Johnny"}),Object(E.jsx)(ot.a,{children:"M"}),Object(E.jsx)(ot.a,{disabled:!0,children:"1983"}),Object(E.jsx)(ot.a,{children:"WHITE"}),Object(E.jsx)(ot.a,{disabled:!0}),Object(E.jsx)(ot.a,{disabled:!0})]})]})]})}function st(e){var t=e.headerColor;return Object(E.jsxs)(tt.a,{compact:!0,size:"small",color:t,children:[Object(E.jsx)(nt.a,{children:Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(at.a,{style:{color:""},children:"person_id *"}),Object(E.jsx)(at.a,{children:"father_id"}),Object(E.jsx)(at.a,{children:"mother_id"}),Object(E.jsx)(at.a,{children:"notes"})]})}),Object(E.jsxs)(it.a,{children:[Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(ot.a,{children:"I200"}),Object(E.jsx)(ot.a,{disabled:!0}),Object(E.jsx)(ot.a,{disabled:!0}),Object(E.jsx)(ot.a,{disabled:!0})]}),Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(ot.a,{children:"I202"}),Object(E.jsx)(ot.a,{disabled:!0,children:"I200"}),Object(E.jsx)(ot.a,{disabled:!0,children:"I201"}),Object(E.jsx)(ot.a,{disabled:!0})]})]})]})}function ut(e){var t=e.headerColor;return Object(E.jsxs)(tt.a,{compact:!0,size:"small",color:t,children:[Object(E.jsx)(nt.a,{children:Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(at.a,{style:{color:""},children:"id *"}),Object(E.jsx)(at.a,{style:{color:""},children:"husband_id *"}),Object(E.jsx)(at.a,{style:{color:""},children:"wife_id *"}),Object(E.jsx)(at.a,{children:"notes"})]})}),Object(E.jsx)(it.a,{children:Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(ot.a,{children:"F200"}),Object(E.jsx)(ot.a,{children:"I200"}),Object(E.jsx)(ot.a,{children:"I201"}),Object(E.jsx)(ot.a,{disabled:!0,children:"Common Law settlement"})]})})]})}function dt(e){var t=e.headerColor;return Object(E.jsxs)(tt.a,{compact:!0,size:"small",color:t,children:[Object(E.jsx)(nt.a,{children:Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(at.a,{style:{color:""},children:"person_id *"}),Object(E.jsx)(at.a,{style:{color:""},children:"language_id *"})]})}),Object(E.jsxs)(it.a,{children:[Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(ot.a,{children:"I200"}),Object(E.jsx)(ot.a,{children:"1"})]}),Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(ot.a,{children:"I202"}),Object(E.jsx)(ot.a,{children:"1"})]}),Object(E.jsxs)(rt.a,{children:[Object(E.jsx)(ot.a,{children:"I202"}),Object(E.jsx)(ot.a,{children:"3"})]})]})]})}var lt=n(7),ft=n(620),ht={"1_individuals.csv":["id","name","surname","nickname","sex","YOB","ethnic","clan","notes"],"2_relationships.csv":["person_id","father_id","mother_id","notes"],"3_families.csv":["id","husband_id","wife_id"],"4_individuals_languages.csv":["person_id","language_id"]},gt={"1_individuals.csv":["id","sex"],"2_relationships.csv":["person_id"],"3_families.csv":["id","husband_id","wife_id"],"4_individuals_languages.csv":["person_id","language_id"]};function mt(e,t){var n=ft.parse(t,{header:!0,skipEmptyLines:!0});if(n.errors.length)return console.error("CSV loading errors:",n.errors),!1;var r=n.data;return function(e,t,n){var r=Object.keys(t[0]),a=n.filter((function(e){return!r.includes(e)}));if(a.length){var i="".concat(e,": the following required columns are missing: ").concat(a.join(", "));return console.error(i),!1}return!0}(e,r,ht[e])&&function(e,t,n){var r=[];t.forEach((function(t,a){n.forEach((function(n){t[n]&&""!==t[n].trim()||r.push("".concat(e,": row ").concat(a+1," is missing a value in column: ").concat(n))}))})),r.length>0&&console.error("File ".concat(e," had ").concat(r.length," missing values"));return r.length<=0}(e,r,gt[e])&&function(e,t,n){var r=[],a=[],i=[];return t.forEach((function(t,o){n.forEach((function(n){switch(e){case"1_individuals.csv":"id"!==n||t[n].startsWith("I")||(r.push("".concat(e,": row ").concat(o+1," is not a valid individual ID")),console.log("".concat(e,": '").concat(n,"' must start with 'I'")));break;case"2_relationships.csv":["person_id","father_id","mother_id"].includes(n)&&!t[n].startsWith("I")&&(r.push("".concat(e,": row ").concat(o+1," is not a valid individual ID")),console.log("".concat(e,": '").concat(n,"' must start with 'I'")));break;case"3_families.csv":"id"!==n||t[n].startsWith("F")||(a.push("".concat(e,": row ").concat(o+1," is not a valid family ID")),console.log("".concat(e,": '").concat(n,"' must start with 'F'"))),["husband_id","wife_id"].includes(n)&&!t[n].startsWith("I")&&(r.push("".concat(e,": row ").concat(o+1," is not a valid individual ID")),console.log("".concat(e,": '").concat(n,"' must start with 'I'")));break;case"4_individuals_languages.csv":"person_id"!==n||t[n].startsWith("I")||(r.push("".concat(e,": row ").concat(o+1," is not a valid individual ID")),console.log("".concat(e,": '").concat(n,"' must start with 'I'"))),"language_id"===n&&isNaN(Number(t[n]))&&(i.push("".concat(e,": row ").concat(o+1," is not a valid language ID")),console.log("".concat(e,": '").concat(n,"' must be a number")))}}))})),r.length<=0&&a.length<=0&&i.length<=0}(e,r,gt[e])}var pt,jt=n(384),Ot=n(673),bt=n(621),vt=n(622);!function(e){e.M="M",e.F="F"}(pt||(pt={}));var xt=function(){function e(t){Object(Oe.a)(this,e),this.id=null,this.sex=null,this.givenName=void 0,this.surname=void 0,this.nickname=void 0,this.birthYear=void 0,this.ethnicity=void 0,this.tribe=void 0,this.familySpouses=[],this.languages=[],this.familyChild=void 0,this.notes=void 0,Object.assign(this,t)}return Object(be.a)(e,[{key:"name",get:function(){if(this.givenName||this.surname||this.nickname){var e="";return this.givenName&&(e+=this.givenName),this.nickname&&(e+=' "'.concat(this.nickname,'"')),this.surname&&(e+=" /".concat(this.surname,"/")),e}return null}},{key:"generation",value:function(e){for(var t=new bt({type:"directed"}),n=0,r=Object.entries(e);n<r.length;n++){var a=Object(g.a)(r[n],2),i=a[0],o=Object(g.a)(a[1],2),c=o[0],s=o[1];t.hasNode(i)||t.addNode(i),t.hasNode(c)||t.addNode(c),t.hasNode(s)||t.addNode(s)}for(var u=0,d=Object.entries(e);u<d.length;u++){var l=Object(g.a)(d[u],2),f=l[0],h=Object(g.a)(l[1],2),m=h[0],p=h[1];m&&t.addEdge(m,f),p&&t.addEdge(p,f)}var j=t.nodes().reduce((function(e,t){var n=parseInt(e.slice(1),10);return parseInt(t.slice(1),10)<n?t:e}));return vt.singleSourceLength(t,j)[this.id]}},{key:"asGedcom",value:function(){var e="0 @".concat(this.id,"@ INDI\n");this.name&&(e+="1 NAME ".concat(this.name,"\n")),this.givenName&&(e+="2 GIVN ".concat(this.givenName,"\n")),this.surname&&(e+="2 SURN ".concat(this.surname,"\n")),this.nickname&&(e+="2 NICK ".concat(this.nickname,"\n")),e+="1 SEX ".concat(this.sex,"\n"),this.birthYear&&(e+="1 BIRT\n",e+="2 DATE ".concat(this.birthYear,"\n")),this.ethnicity&&(e+="1 _ETHN ".concat(this.capitalize(this.ethnicity),"\n")),this.tribe&&(e+="1 _TRIB ".concat(this.capitalize(this.tribe),"\n"));var t,n=Object(lt.a)(this.languages);try{for(n.s();!(t=n.n()).done;){var r=t.value;e+="1 LANG ".concat(this.capitalize(r),"\n")}}catch(c){n.e(c)}finally{n.f()}var a,i=Object(lt.a)(this.familySpouses);try{for(i.s();!(a=i.n()).done;){var o=a.value;e+="1 FAMS @".concat(o,"@\n")}}catch(c){i.e(c)}finally{i.f()}return this.familyChild&&(e+="1 FAMC @".concat(this.familyChild,"@\n")),this.notes&&(e+="1 NOTE ".concat(this.notes,"\n")),e}},{key:"capitalize",value:function(e){return e.toLowerCase().split(/[-\s]/).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(e.includes("-")?"-":" ")}}]),e}(),yt=function(){function e(t){var n,r,a;Object(Oe.a)(this,e),this.id=void 0,this.husband=void 0,this.wife=void 0,this.marriaged=!1,this.children=[],this.divorced=!1,this.notes=void 0,this.id=t.id,this.husband=t.husband,this.wife=t.wife,this.marriaged=null!==(n=t.marriaged)&&void 0!==n&&n,this.children=null!==(r=t.children)&&void 0!==r?r:[],this.divorced=null!==(a=t.divorced)&&void 0!==a&&a,this.notes=t.notes}return Object(be.a)(e,[{key:"asGedcom",value:function(){var e="0 @".concat(this.id,"@ FAM\n");e+="1 HUSB @".concat(this.husband,"@\n"),e+="1 WIFE @".concat(this.wife,"@\n"),this.marriaged?e+="1 MARR\n":(e+="1 MARS\n",e+='2 TYPE "Common Law"\n');var t,n=Object(lt.a)(this.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;e+="1 CHIL @".concat(r,"@\n")}}catch(a){n.e(a)}finally{n.f()}return this.divorced&&(e+="1 DIV\n"),this.notes&&(e+="1 NOTE ".concat(this.notes,"\n")),e}}]),e}();function _t(e,t,n,r,a,i){return wt.apply(this,arguments)}function wt(){return(wt=Object(h.a)(f.a.mark((function e(t,n,r,a,i,o){var c,s,u,d,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Ct(n),s=Nt(r),u=Rt(a),Dt(s,u,c),St(u,c),t&&i&&(d=Et(t),l=It(i),Lt(c,l,d)),e.next=9,Mt(c,s,u,o);case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Ct(e){return Ht(e).map((function(e){return new xt({id:e.id,sex:e.sex,givenName:e.name||void 0,surname:e.surname||void 0,nickname:e.nickname||void 0,birthYear:e.YOB?parseInt(e.YOB,10):void 0,ethnicity:e.ethnic||void 0,tribe:e.clan||void 0,familySpouses:[],languages:[],notes:e.notes||void 0})}))}function Et(e){return Ht(e).map((function(e){return{id:e.id,name:e.name}}))}function It(e){var t=Ht(e),n={};return t.forEach((function(e){var t=e.person_id;n[t]||(n[t]=[]),n[t].push(e.language_id)})),n}function Nt(e){var t=Ht(e),n={};return t.forEach((function(e){e.father_id&&e.mother_id&&(n[e.person_id]=[e.father_id,e.mother_id])})),n}function Rt(e){return Ht(e).map((function(e){return new yt({id:e.id,husband:e.husband_id,wife:e.wife_id,children:[],notes:e.notes||void 0})}))}function Lt(e,t,n){Object.entries(t).forEach((function(t){var r=Object(g.a)(t,2),a=r[0],i=r[1],o=e.find((function(e){return e.id===a}));if(!o)throw new Error("Individual not found: ".concat(a));i.forEach((function(e){var t=n.find((function(t){return t.id===e}));if(!t)throw new Error("Language not found: ".concat(e));o.languages.push(t.name)}))}))}function Dt(e,t,n){Object.entries(e).forEach((function(e){var r=Object(g.a)(e,2),a=r[0],i=Object(g.a)(r[1],2),o=i[0],c=i[1],s=t.find((function(e){return e.husband===o&&e.wife===c}));if(!s)throw new Error("Family not found: ".concat(a," (").concat(o,", ").concat(c,")"));s.children.push(a);var u=n.find((function(e){return e.id===a}));if(!u)throw new Error("Individual not found: ".concat(a));u.familyChild=s.id}))}function St(e,t){e.forEach((function(e){var n=t.find((function(t){return t.id===e.husband}));if(!n)throw new Error("Husband not found: ".concat(e.husband));n.familySpouses.push(e.id);var r=t.find((function(t){return t.id===e.wife}));if(!r)throw new Error("Wife not found: ".concat(e.wife));r.familySpouses.push(e.id)}))}function Mt(e,t,n,r){return At.apply(this,arguments)}function At(){return(At=Object(h.a)(f.a.mark((function e(t,n,r,a){var i,o,c,s,u,d,l,h,g,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,o=null,c=null,s=null,!a){e.next=17;break}if(e.prev=5,i=t.filter((function(e){return e.id===a})),o=i.reduce((function(e,t){return e.id<t.id?e:t})),c=o.generation(n),s="".concat(null===(u=o.givenName)||void 0===u?void 0:u.toLowerCase(),"_").concat(null===(d=o.surname)||void 0===d?void 0:d.toLowerCase()),o&&c){e.next=12;break}throw new Error;case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),new Error("Ego individual not found: ".concat(a));case 17:return e.next=19,kt(s,o?o.id:null,c||null);case 19:return l=e.sent,h=t.map((function(e){return e.asGedcom()})).join("\n"),g=r.map((function(e){return e.asGedcom()})).join("\n"),e.next=24,Gt(s);case 24:return m=e.sent,e.abrupt("return",[l,h,g,m].join("\n"));case 26:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function kt(e,t,n){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(h.a)(f.a.mark((function e(t,n,r){var a,i,o,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data/header.ged");case 2:return a=e.sent,e.next=5,a.text();case 5:return i=e.sent,o=(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),c=i.replace(/{file}/g,t||"genealogy.ged").replace(/{date}/g,o).replace(/{subm}/g,"drexa1@hotmail.com"),n&&r&&(s="\n0 @".concat(n,"@ EGO\n1 GEN ").concat(r,"\n"),c+=s),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(h.a)(f.a.mark((function e(t){var n,r,a,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",r=Object(Ot.a)().toUpperCase(),t&&(a="The ".concat(t.replace(/_/g," ").toLowerCase().replace(/\b\w/g,(function(e){return e.toUpperCase()}))," family"),n+="0 @R0@ REPO\n1 _UID ".concat(r,"\n1 NAME ").concat(a,"\n")),e.next=5,fetch("data/tail.ged");case 5:return i=e.sent,e.next=8,i.text();case 8:return o=e.sent,e.abrupt("return",n+o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(e){var t=e.split("\n").filter((function(e){return""!==e.trim()})),n=Object(jt.a)(t),r=n[0],a=n.slice(1),i=r.split(",");return a.map((function(e){var t=e.split(",");return i.reduce((function(e,n,r){return e[n.trim()]=t[r].trim(),e}),{})}))}var zt,Bt={"1_individuals.csv":"yellow","2_relationships.csv":"yellow","3_families.csv":"yellow","4_individuals_languages.csv":"blue"};function Ft(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)([]),c=Object(g.a)(o,2),s=c[0],u=c[1],d=Object(a.useState)(Bt),l=Object(g.a)(d,2),j=l[0],O=l[1],b=Object(a.useState)(null),v=Object(g.a)(b,2),x=v[0],_=v[1],C=Object(a.useState)([]),I=Object(g.a)(C,2),N=I[0],R=I[1],D=Object(w.g)();function S(){u([]),R([]),O(Bt),i(!1)}function M(e){R([]);var t=e.target.files;if(t&&function(e,t){var n,r=Object(lt.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value.name;if(!t.includes(a))return console.error("Invalid filename: ".concat(a)),!1}}catch(i){r.e(i)}finally{r.f()}return!0}(Array.from(t),Object.keys(ht))){var n=Array.from(t).map((function(e){return new Promise((function(t){var n=new FileReader;n.readAsText(e,"UTF-8"),n.onload=function(){var r=n.result,a=mt(e.name,r);t(a?e:null)},n.onerror=function(){console.error("Error reading file:",e.name),R(["Error reading file:"+e.name]),t(null)}}))}));Promise.all(n).then((function(e){var n=e.filter((function(e){return null!==e}));if(Array.from(t).filter((function(e){return!n.some((function(t){return t.name===e.name}))})).map((function(e){return"'".concat(e.name,"'")})).join(", ")&&R(["Files had errors. You can check them in the browser console"]),O(function(e,t){var n=Object(Se.a)({},Bt);return Array.from(e).forEach((function(e){n.hasOwnProperty(e.name)&&(n[e.name]=t.includes(e)?"green":"red")})),n}(t,n)),u(n),!n||n.length<3||n.length>4)console.error("Required files missing...");else{var r=document.querySelector("#egoIndi").parentElement.querySelector(".ui.label.label");r&&(r.style.setProperty("background-color","orange"),r.style.setProperty("color","white"))}}))}}function k(){return T.apply(this,arguments)}function T(){return(T=Object(h.a)(f.a.mark((function e(){var t,n,r,a,i,o,c,u,d,l,h,j,O,b,v,y,_,w,C,E;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=s.find((function(e){return"1_individuals.csv"===e.name})),n=s.find((function(e){return"2_relationships.csv"===e.name})),r=s.find((function(e){return"3_families.csv"===e.name})),a=s.find((function(e){return"4_individuals_languages.csv"===e.name})),e.next=7,Promise.all([G(t),G(n),G(r)]);case 7:if(i=e.sent,o=Object(g.a)(i,3),c=o[0],u=o[1],d=o[2],!a){e.next=18;break}return e.next=15,G(a);case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0=null;case 19:return l=e.t0,e.next=22,fetch("data/languages.csv");case 22:return h=e.sent,e.next=25,h.text();case 25:return j=e.sent,e.next=28,_t(j,c,u,d,l,x);case 28:return O=e.sent,b=new Blob([O]),e.next=32,Object(ve.d)(b);case 32:v=e.sent,y=v.gedcom,_=v.images,w=Array.from(_.keys()).sort().join("|"),C=qe()(qe()(y)+w),E=m.parse(window.location.search),(E.file===C?D.replace:D.push)({pathname:"/view",search:m.stringify({file:C}),state:{data:y,images:_}}),p("topola_convert_csv"),S(),e.next=48;break;case 44:e.prev=44,e.t1=e.catch(0),console.error(e.t1),R([e.t1.message]);case 48:case"end":return e.stop()}}),e,null,[[0,44]])})))).apply(this,arguments)}var G=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(e){return n(e)},r.readAsText(e,"UTF-8")}))};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(Ae,{onClick:function(){return i(!0)},menuType:e.menuType,children:[Object(E.jsx)(A.a,{name:"sitemap"}),Object(E.jsx)(y.a,{id:"menu.convert_csv_gedcom",defaultMessage:"Convert CSV's"})]}),Object(E.jsxs)(z.a,{open:r,onClose:S,centered:!0,children:[Object(E.jsxs)(L.a,{children:[Object(E.jsx)(A.a,{name:"sitemap"}),Object(E.jsx)(y.a,{id:"menu.convert_csv_gedcom",defaultMessage:"Convert CSV files to GEDCOM"})]}),Object(E.jsxs)(z.a.Content,{children:[Object(E.jsx)(H.a,{negative:!0,className:0===N.length?"hidden":void 0,children:Object(E.jsx)("p",{children:N})}),Object(E.jsxs)(Ze.a,{onSubmit:function(){return k()},children:[Object(E.jsxs)(B.a,{color:s.some((function(e){return"1_individuals.csv"===e.name}))?"green":void 0,children:[Object(E.jsx)(A.a,{name:"file text"}),"1_individuals.csv"]}),Object(E.jsxs)(B.a,{color:s.some((function(e){return"2_relationships.csv"===e.name}))?"green":void 0,children:[Object(E.jsx)(A.a,{name:"file text"}),"2_relationships.csv"]}),Object(E.jsxs)(B.a,{color:s.some((function(e){return"3_families.csv"===e.name}))?"green":void 0,children:[Object(E.jsx)(A.a,{name:"file text"}),"3_families.csv"]}),Object(E.jsxs)(B.a,{color:s.some((function(e){return"4_individuals_languages.csv"===e.name}))?"green":void 0,style:{float:"right"},children:[Object(E.jsx)(A.a,{name:"file text"}),"4_individuals_languages.csv"]}),Object(E.jsx)(ct,{headerColor:j["1_individuals.csv"]}),Object(E.jsx)(st,{headerColor:j["2_relationships.csv"]}),Object(E.jsx)(ut,{headerColor:j["3_families.csv"]}),Object(E.jsx)(dt,{headerColor:j["4_individuals_languages.csv"]}),Object(E.jsx)("div",{style:{textAlign:"center",marginBottom:10},children:Object(E.jsx)($e.a,{id:"egoIndi",disabled:!["1_individuals.csv","2_relationships.csv","3_families.csv"].every((function(e){return s.some((function(t){return t.name===e}))})),fluid:!0,size:"small",label:"Ego ID",labelPosition:"left",icon:"user",placeholder:"I000",onChange:function(e,t){var n=t.value;return _(n)}})}),Object(E.jsx)("input",{type:"file",accept:".csv",id:"fileInput",multiple:!0,onChange:function(e){return M(e)}})]})]}),Object(E.jsxs)(z.a.Actions,{children:[Object(E.jsx)(Qe.a,{secondary:!0,onClick:function(){S()},children:Object(E.jsx)(y.a,{id:"load_from_url.cancel",defaultMessage:"Cancel"})}),Object(E.jsx)(Qe.a,{primary:!0,disabled:!["1_individuals.csv","2_relationships.csv","3_families.csv"].every((function(e){return s.some((function(t){return t.name===e}))})),onClick:function(){return k()},children:Object(E.jsx)(y.a,{id:"load_from_gedcom.generate",defaultMessage:"Generate"})})]})]})]})}function Ut(e){function t(t){var n=Object(a.useState)(!1),r=Object(g.a)(n,2),i=r[0],o=r[1],c=Object(a.useRef)(!1),s=function(e){e?c.current||o(!0):(c.current=!0,o(!1),setTimeout((function(){c.current=!1}),150))};if(!e.standalone)return null;switch(t){case zt.LARGE:return Object(E.jsx)(Me.a,{onOpen:function(){return s(!0)},onClose:function(){return s(!1)},open:i,trigger:Object(E.jsxs)("div",{children:[Object(E.jsx)(A.a,{name:"folder open"}),Object(E.jsx)(y.a,{id:"menu.open",defaultMessage:"Open"})]}),className:"item",children:Object(E.jsxs)(Me.a.Menu,{onClick:function(){return s(!1)},children:[Object(E.jsx)(Ke,Object(Se.a)({menuType:we.Dropdown},e)),Object(E.jsx)(et,Object(Se.a)({menuType:we.Dropdown},e)),Object(E.jsx)(Ft,Object(Se.a)({menuType:we.Dropdown},e))]})});case zt.SMALL:return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ke,Object(Se.a)({menuType:we.Dropdown},e)),Object(E.jsx)(et,Object(Se.a)({menuType:we.Dropdown},e))]})}}function n(t){if(!e.showingChart)return null;switch(t){case zt.LARGE:return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Me.a,{trigger:Object(E.jsxs)("div",{children:[Object(E.jsx)(A.a,{name:"download"}),Object(E.jsx)(y.a,{id:"menu.download",defaultMessage:"Download"})]}),className:"item",children:Object(E.jsxs)(Me.a.Menu,{children:[Object(E.jsx)(Me.a.Item,{onClick:e.eventHandlers.onDownloadPdf,children:Object(E.jsx)(y.a,{id:"menu.download_pdf",defaultMessage:"Download PDF"})}),Object(E.jsx)(Me.a.Item,{onClick:e.eventHandlers.onDownloadPng,children:Object(E.jsx)(y.a,{id:"menu.download_png",defaultMessage:"Download PNG"})}),Object(E.jsx)(Me.a.Item,{onClick:e.eventHandlers.onDownloadSvg,children:Object(E.jsx)(y.a,{id:"menu.download_svg",defaultMessage:"Download SVG"})}),Object(E.jsx)(Me.a.Divider,{}),Object(E.jsx)(Me.a.Item,{onClick:e.eventHandlers.onDownloadGedcom,children:Object(E.jsx)(y.a,{id:"menu.download_gedcom",defaultMessage:"Download GEDCOM"})})]})}),Object(E.jsxs)(S.a.Item,{onClick:e.eventHandlers.onCenterView,children:[Object(E.jsx)(A.a,{name:"target"}),Object(E.jsx)(y.a,{id:"menu.view",defaultMessage:"Center view"})]}),Object(E.jsx)(S.a.Menu,{position:"right",children:Object(E.jsx)(Ve,Object(Se.a)({data:e.data,onSelection:e.eventHandlers.onSelection},e))})]});case zt.SMALL:return e.showingChart?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Me.a.Divider,{}),Object(E.jsxs)(Me.a.Item,{onClick:e.eventHandlers.onDownloadPdf,children:[Object(E.jsx)(A.a,{name:"download"}),Object(E.jsx)(y.a,{id:"menu.download_pdf",defaultMessage:"Download PDF"})]}),Object(E.jsxs)(Me.a.Item,{onClick:e.eventHandlers.onDownloadPng,children:[Object(E.jsx)(A.a,{name:"download"}),Object(E.jsx)(y.a,{id:"menu.download_png",defaultMessage:"Download PNG"})]}),Object(E.jsxs)(Me.a.Item,{onClick:e.eventHandlers.onDownloadSvg,children:[Object(E.jsx)(A.a,{name:"download"}),Object(E.jsx)(y.a,{id:"menu.download_svg",defaultMessage:"Download SVG"})]}),Object(E.jsx)(Me.a.Divider,{}),Object(E.jsx)(Me.a.Item,{onClick:e.eventHandlers.onDownloadGedcom,children:Object(E.jsx)(y.a,{id:"menu.download_gedcom",defaultMessage:"Download GEDCOM"})}),Object(E.jsx)(Me.a.Divider,{}),Object(E.jsxs)(S.a.Item,{onClick:e.eventHandlers.onCenterView,children:[Object(E.jsx)(A.a,{name:"eye"}),Object(E.jsx)(y.a,{id:"menu.view",defaultMessage:"Center view"})]})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(et,Object(Se.a)({menuType:we.Dropdown},e))})}}return Object(w.g)(),Object(w.h)(),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(S.a,{as:Le,greaterThanOrEqual:"large",attached:"top",inverted:!0,color:"blue",size:"large",children:Object(E.jsxs)(E.Fragment,{children:[t(zt.LARGE),n(zt.LARGE)]})}),Object(E.jsx)(S.a,{as:Le,at:"small",attached:"top",inverted:!0,color:"blue",size:"large",children:Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Me.a,{trigger:Object(E.jsx)("div",{children:Object(E.jsx)(A.a,{name:"sidebar"})}),className:"item",icon:null,children:Object(E.jsxs)(Me.a.Menu,{children:[t(zt.SMALL),n(zt.SMALL)]})})})})]})}!function(e){e[e.LARGE=0]="LARGE",e[e.SMALL=1]="SMALL"}(zt||(zt={}));var Yt,Wt,Vt,Jt,qt,Xt=n(679);!function(e){e[e.NO_COLOR=0]="NO_COLOR",e[e.COLOR_BY_SEX=1]="COLOR_BY_SEX",e[e.COLOR_BY_GENERATION=2]="COLOR_BY_GENERATION",e[e.COLOR_BY_ETHNICITY=3]="COLOR_BY_ETHNICITY",e[e.COLOR_BY_NR_LANGUAGES=4]="COLOR_BY_NR_LANGUAGES",e[e.COLOR_BY_LANGUAGE=5]="COLOR_BY_LANGUAGE"}(Yt||(Yt={})),function(e){e[e.HIDE=0]="HIDE",e[e.SHOW=1]="SHOW"}(Wt||(Wt={})),function(e){e[e.HIDE=0]="HIDE",e[e.SHOW=1]="SHOW"}(Vt||(Vt={})),function(e){e[e.HIDE=0]="HIDE",e[e.SHOW=1]="SHOW"}(Jt||(Jt={})),function(e){e[e.HIDE=0]="HIDE",e[e.SHOW=1]="SHOW"}(qt||(qt={}));var Kt={color:Yt.COLOR_BY_GENERATION,languages:Wt.HIDE,ethnicity:Vt.HIDE,id:Jt.SHOW,sex:qt.SHOW,renderLanguagesOption:!1,renderEthnicityOption:!1,languageOptions:[],selectedLanguage:null},Zt=new Map([["n",Yt.NO_COLOR],["g",Yt.COLOR_BY_GENERATION],["s",Yt.COLOR_BY_SEX],["e",Yt.COLOR_BY_ETHNICITY],["nl",Yt.COLOR_BY_NR_LANGUAGES],["l",Yt.COLOR_BY_LANGUAGE]]),$t=new Map;Zt.forEach((function(e,t){return $t.set(e,t)}));var Qt=new Map([["h",Wt.HIDE],["s",Wt.SHOW]]),en=new Map;Qt.forEach((function(e,t){return en.set(e,t)}));var tn=new Map([["h",Vt.HIDE],["s",Vt.SHOW]]),nn=new Map;tn.forEach((function(e,t){return nn.set(e,t)}));var rn=new Map([["h",Jt.HIDE],["s",Jt.SHOW]]),an=new Map;rn.forEach((function(e,t){return an.set(e,t)}));var on=new Map([["h",qt.HIDE],["s",qt.SHOW]]),cn=new Map;function sn(e){var t,n,r,a,i,o,c,s,u,d,l,f=function(t){return"string"===typeof e[t]||"number"===typeof e[t]?e[t]:void 0};return{color:null!==(t=Zt.get(null!==(n=f("c"))&&void 0!==n?n:""))&&void 0!==t?t:Kt.color,languages:null!==(r=Qt.get(null!==(a=f("l"))&&void 0!==a?a:""))&&void 0!==r?r:Kt.languages,selectedLanguage:null!==(i=f("n"))&&void 0!==i?i:Kt.selectedLanguage,ethnicity:null!==(o=tn.get(null!==(c=f("e"))&&void 0!==c?c:""))&&void 0!==o?o:Kt.ethnicity,id:null!==(s=rn.get(null!==(u=f("i"))&&void 0!==u?u:""))&&void 0!==s?s:Kt.id,sex:null!==(d=on.get(null!==(l=f("s"))&&void 0!==l?l:""))&&void 0!==d?d:Kt.sex,renderEthnicityOption:Kt.renderEthnicityOption,renderLanguagesOption:Kt.renderLanguagesOption,languageOptions:Kt.languageOptions}}function un(e){for(var t=Object(a.useState)(e.config.languages===Wt.SHOW),n=Object(g.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(e.config.ethnicity===Vt.SHOW),c=Object(g.a)(o,2),s=c[0],u=c[1],d=Object(a.useState)(e.config.id===Jt.SHOW),l=Object(g.a)(d,2),f=l[0],h=l[1],m=Object(a.useState)(e.config.sex===qt.SHOW),p=Object(g.a)(m,2),j=p[0],O=p[1],b=[],v=function(t){var n=e.config.languageOptions[t];b.push(Object(E.jsx)(Ze.a.Field,{className:e.config.renderLanguagesOption?"no-margin suboption":"hidden",children:Object(E.jsx)(Xt.a,{radio:!0,label:n.name+" ("+n.abbreviation+")",name:"checkboxRadioGroup",value:t,checked:e.config.selectedLanguage===n.id,onClick:function(){e.onChange(Object(Se.a)(Object(Se.a)({},e.config),{},{selectedLanguage:n.id,color:Yt.COLOR_BY_LANGUAGE,languages:Wt.SHOW})),i(!0)}})},t))},x=0;x<e.config.languageOptions.length;x++)v(x);return Object(E.jsxs)(Ze.a,{className:"details no-border-bottom",children:[Object(E.jsxs)(R.a.Group,{children:[Object(E.jsx)(R.a,{children:Object(E.jsxs)(R.a.Content,{children:[Object(E.jsx)(L.a,{sub:!0,style:{"margin-bottom":"14px"},children:Object(E.jsx)(y.a,{id:"config.colors",defaultMessage:"Colors"})}),Object(E.jsx)(Ze.a.Field,{children:Object(E.jsx)(Xt.a,{radio:!0,label:Object(E.jsx)(y.a,{tagName:"label",id:"config.colors.NO_COLOR",defaultMessage:"none"}),name:"checkboxRadioGroup",value:"none",checked:e.config.color===Yt.NO_COLOR,onClick:function(){e.onChange(Object(Se.a)(Object(Se.a)({},e.config),{},{color:Yt.NO_COLOR,languages:Wt.HIDE,ethnicity:Vt.HIDE,selectedLanguage:null})),u(!1),i(!1)}})}),Object(E.jsx)(Ze.a.Field,{children:Object(E.jsx)(Xt.a,{radio:!0,label:Object(E.jsx)(y.a,{tagName:"label",id:"config.colors.COLOR_BY_GENERATION",defaultMessage:"by generation"}),name:"checkboxRadioGroup",value:"generation",checked:e.config.color===Yt.COLOR_BY_GENERATION,onClick:function(){e.onChange(Object(Se.a)(Object(Se.a)({},e.config),{},{color:Yt.COLOR_BY_GENERATION,languages:Wt.HIDE,ethnicity:Vt.HIDE,selectedLanguage:null})),u(!1),i(!1)}})}),Object(E.jsx)(Ze.a.Field,{children:Object(E.jsx)(Xt.a,{radio:!0,label:Object(E.jsx)(y.a,{tagName:"label",id:"config.colors.COLOR_BY_SEX",defaultMessage:"by gender"}),name:"checkboxRadioGroup",value:"gender",checked:e.config.color===Yt.COLOR_BY_SEX,onClick:function(){e.onChange(Object(Se.a)(Object(Se.a)({},e.config),{},{color:Yt.COLOR_BY_SEX,languages:Wt.HIDE,ethnicity:Vt.HIDE,selectedLanguage:null})),u(!1),i(!1)}})}),Object(E.jsx)(Ze.a.Field,{className:e.config.renderEthnicityOption?"":"hidden",children:Object(E.jsx)(Xt.a,{radio:!0,label:Object(E.jsx)(y.a,{tagName:"label",id:"config.colors.COLOR_BY_ETHNICITY",defaultMessage:"by ethnicity"}),name:"checkboxRadioGroup",value:"ethnicity",checked:e.config.color===Yt.COLOR_BY_ETHNICITY,onClick:function(){e.onChange(Object(Se.a)(Object(Se.a)({},e.config),{},{color:Yt.COLOR_BY_ETHNICITY,languages:Wt.HIDE,ethnicity:Vt.SHOW,selectedLanguage:null})),u(!0),i(!1)}})}),Object(E.jsx)(Ze.a.Field,{className:e.config.renderLanguagesOption?"":"hidden",children:Object(E.jsx)(Xt.a,{radio:!0,label:Object(E.jsx)(y.a,{tagName:"label",id:"config.colors.COLOR_BY_LANGUAGES",defaultMessage:"by no. languages"}),name:"checkboxRadioGroup",value:"languages",checked:e.config.color===Yt.COLOR_BY_NR_LANGUAGES,onClick:function(){e.onChange(Object(Se.a)(Object(Se.a)({},e.config),{},{color:Yt.COLOR_BY_NR_LANGUAGES,languages:Wt.SHOW,ethnicity:Vt.HIDE,selectedLanguage:null})),u(!1),i(!0)}})}),b]})}),Object(E.jsx)(R.a,{className:e.config.renderLanguagesOption?"":"hidden",children:Object(E.jsxs)(R.a.Content,{children:[Object(E.jsx)(Xt.a,{toggle:!0,id:"languages",checked:r,onClick:function(){return t=r?Wt.HIDE:Wt.SHOW,i(!r),void e.onChange(Object(Se.a)(Object(Se.a)({},e.config),{},{languages:t}));var t}}),"\xa0\xa0\xa0\xa0",Object(E.jsxs)("label",{style:{verticalAlign:"top"},children:[r?Object(E.jsx)(y.a,{id:"config.toggle.HIDE",defaultMessage:"Hide"}):Object(E.jsx)(y.a,{id:"config.toggle.SHOW",defaultMessage:"Show"})," ",Object(E.jsx)(y.a,{id:"config.languages",defaultMessage:"languages"})]})]})}),Object(E.jsx)(R.a,{className:e.config.renderEthnicityOption?"":"hidden",children:Object(E.jsxs)(R.a.Content,{children:[Object(E.jsx)(Xt.a,{toggle:!0,id:"ethnicity",checked:s,onClick:function(){return t=s?Vt.HIDE:Vt.SHOW,u(!s),void e.onChange(Object(Se.a)(Object(Se.a)({},e.config),{},{ethnicity:t}));var t}}),"\xa0\xa0\xa0\xa0",Object(E.jsxs)("label",{style:{verticalAlign:"top"},children:[s?Object(E.jsx)(y.a,{id:"config.toggle.HIDE",defaultMessage:"Hide"}):Object(E.jsx)(y.a,{id:"config.toggle.SHOW",defaultMessage:"Show"})," ",Object(E.jsx)(y.a,{id:"config.ethnicity",defaultMessage:"ethnicity"})]})]})}),Object(E.jsx)(R.a,{children:Object(E.jsxs)(R.a.Content,{children:[Object(E.jsx)(Xt.a,{toggle:!0,id:"ids",checked:f,onClick:function(){return t=f?Jt.HIDE:Jt.SHOW,h(!f),void e.onChange(Object(Se.a)(Object(Se.a)({},e.config),{},{id:t}));var t}}),"\xa0\xa0\xa0\xa0",Object(E.jsxs)("label",{style:{verticalAlign:"top"},children:[f?Object(E.jsx)(y.a,{id:"config.toggle.HIDE",defaultMessage:"Hide"}):Object(E.jsx)(y.a,{id:"config.toggle.SHOW",defaultMessage:"Show"})," ",Object(E.jsx)(y.a,{id:"config.ids",defaultMessage:"IDs"})]})]})}),Object(E.jsx)(R.a,{children:Object(E.jsxs)(R.a.Content,{children:[Object(E.jsx)(Xt.a,{toggle:!0,id:"sex",checked:j,onClick:function(){return t=j?qt.HIDE:qt.SHOW,O(!j),void e.onChange(Object(Se.a)(Object(Se.a)({},e.config),{},{sex:t}));var t}}),"\xa0\xa0\xa0\xa0",Object(E.jsxs)("label",{style:{verticalAlign:"top"},children:[j?Object(E.jsx)(y.a,{id:"config.toggle.HIDE",defaultMessage:"Hide"}):Object(E.jsx)(y.a,{id:"config.toggle.SHOW",defaultMessage:"Show"})," ",Object(E.jsx)(y.a,{id:"config.sex",defaultMessage:"sex"})]})]})})]}),Object(E.jsx)("div",{style:{textAlign:"center"},children:Object(E.jsx)(Ze.a.Button,{primary:!0,onClick:function(){e.onChange(Kt),u(!1),i(!1),h(!0),O(!0)},children:Object(E.jsx)(y.a,{id:"config.reset",defaultMessage:"Reset"})})})]})}on.forEach((function(e,t){return cn.set(e,t)}));var dn,ln=n(81),fn=n(166),hn=n(110),gn=n(232),mn=n(194),pn=(n(111),n(156));function jn(e,t){var n=Object(mn.a)("#svgContainer").node(),r=t.transform.k,a=Object(fn.a)([0,(n.clientWidth-e[0]*r)/2]),i=Object(fn.a)([0,(n.clientHeight-e[1]*r)/2]);Object(mn.a)("#chartSvg").attr("width",e[0]*r).attr("height",e[1]*r).attr("transform","translate(".concat(a,", ").concat(i,")")),Object(mn.a)("#chart").attr("transform","scale(".concat(r,")")),n.scrollLeft=-t.transform.x,n.scrollTop=-t.transform.y}function On(){var e=Object(mn.a)("#svgContainer").node(),t=e.scrollLeft+e.clientWidth/2,n=e.scrollTop+e.clientHeight/2,r=Object(pn.b)(e).k;Object(mn.a)(e).call(Object(pn.a)().translateTo,t/r,n/r)}function bn(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e){t.onload=function(t){return e(t.target.result)}}))}function vn(e){return xn.apply(this,arguments)}function xn(){return(xn=Object(h.a)(f.a.mark((function e(t){var n,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.href.baseVal){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,fetch(n);case 6:return r=e.sent,e.next=9,r.blob();case 9:return a=e.sent,e.next=12,bn(a);case 12:t.href.baseVal=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.warn("Failed to load image:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function yn(e){return _n.apply(this,arguments)}function _n(){return(_n=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(t.getElementsByTagName("image")),e.next=3,Promise.all(n.map(vn));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wn(e){var t=new Image;return t.src=URL.createObjectURL(e),new Promise((function(e){t.addEventListener("load",(function(){return e(t)}))}))}function Cn(e){var t=document.createElement("canvas");t.width=2*e.width,t.height=2*e.height;var n=t.getContext("2d"),r=n.fillStyle;return n.fillStyle="white",n.fillRect(0,0,t.width,t.height),n.fillStyle=r,n.drawImage(e,0,0,t.width,t.height),t}function En(e,t){return new Promise((function(n,r){e.toBlob((function(e){e?n(e):r()}),t)}))}function In(){var e=document.getElementById("chartSvg").cloneNode(!0);e.removeAttribute("transform");var t=Object(mn.a)("#svgContainer").node(),n=Object(pn.b)(t).k;return e.setAttribute("width",String(Number(e.getAttribute("width"))/n)),e.setAttribute("height",String(Number(e.getAttribute("height"))/n)),e.querySelector("#chart").removeAttribute("transform"),e}function Nn(){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=In(),e.next=3,yn(t);case 3:return e.abrupt("return",(new XMLSerializer).serializeToString(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(h.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn();case 2:n=e.sent,r=new Blob([n],{type:"image/svg+xml"}),Object(gn.saveAs)(r,t?t+".svg":"genealogy.svg");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(h.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn();case 2:return t=e.sent,n=new Blob([t],{type:"image/svg+xml"}),e.t0=Cn,e.next=7,wn(n);case 7:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e){return kn.apply(this,arguments)}function kn(){return(kn=Object(h.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn();case 2:return n=e.sent,e.next=5,En(n,"image/png");case 5:r=e.sent,Object(gn.saveAs)(r,t?t+".png":"genealogy.png");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(h.a)(f.a.mark((function e(t){var r,a,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4).then(n.bind(null,1056));case 2:return r=e.sent,a=r.default,e.next=6,Sn();case 6:i=e.sent,(o=new a({orientation:i.width>i.height?"l":"p",unit:"pt",format:[i.width,i.height]})).addImage(i,"PNG",0,0,i.width,i.height,"NONE"),o.save(t?t+".pdf":"genealogy.pdf");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e,t){return Hn.apply(this,arguments)}function Hn(){return(Hn=Object(h.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Blob([t],{type:"text/plain"}),Object(gn.saveAs)(r,n?n+".ged":"genealogy.ged");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zn(e){var t=Object.entries((null===e||void 0===e?void 0:e.head)||{}).filter((function(e){return"tree"===e[0]})).map((function(e){return e[1]})).map((function(e){return e.find((function(e){return"FILE"===e.tag}))})).map((function(e){return null===e||void 0===e?void 0:e.data}))[0];return t?t.substring(0,t.lastIndexOf("."))||t:null}!function(e){e[e.Hourglass=0]="Hourglass"}(dn||(dn={}));var Bn=new Map([[Yt.NO_COLOR,q.ChartColors.NO_COLOR],[Yt.COLOR_BY_GENERATION,q.ChartColors.COLOR_BY_GENERATION],[Yt.COLOR_BY_SEX,q.ChartColors.COLOR_BY_SEX],[Yt.COLOR_BY_ETHNICITY,q.ChartColors.COLOR_BY_ETHNICITY],[Yt.COLOR_BY_NR_LANGUAGES,q.ChartColors.COLOR_BY_NR_LANGUAGES],[Yt.COLOR_BY_LANGUAGE,q.ChartColors.COLOR_BY_LANGUAGE]]),Fn=function(){function e(){Object(Oe.a)(this,e),this.chart=void 0,this.animating=!1,this.rerenderRequired=!1,this.zoomBehavior=void 0,this.rerenderProps=void 0,this.rerenderResetPosition=void 0}return Object(be.a)(e,[{key:"zoom",value:function(e){var t=Object(mn.a)("#svgContainer");this.zoomBehavior.scaleBy(t,e)}},{key:"renderChart",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{initialRender:!1,resetPosition:!1};if(!r.initialRender&&this.animating)return this.rerenderRequired=!0,this.rerenderProps=e,void(this.rerenderResetPosition=r.resetPosition);if(r.initialRender||!e.freezeAnimation){r.initialRender?(Object(mn.a)("#chart").node().innerHTML="",this.chart=Object(q.createChart)({json:e.data,chartType:q.HourglassChart,renderer:q.DetailedRenderer,svgSelector:"#chart",indiCallback:function(t){return e.onSelection(t)},colors:Bn.get(e.colors),selectedLanguage:e.selectedLanguage,animate:!0,updateSvgSize:!1,locale:t.locale})):this.chart.setData(e.data);var a=this.chart.render({startIndi:e.selection.id,baseGeneration:e.selection.generation}),i=Object(mn.a)("#chartSvg"),o=Object(mn.a)("#svgContainer").node(),c=Object(pn.b)(o).k,s=Object(hn.a)([1,c,o.clientWidth/a.size[0],o.clientHeight/a.size[1]]),u=[Object(fn.a)([.1,s]),2];this.zoomBehavior=Object(pn.a)().scaleExtent(u).translateExtent([[0,0],a.size]).on("zoom",(function(e){return jn(a.size,e)})),Object(mn.a)(o).on("scroll",On).call(this.zoomBehavior);var d=function(e){return function(){var t=Object(ln.a)(o.scrollTop,e);return function(e){o.scrollTop=t(e)}}},l=function(e){return function(){var t=Object(ln.a)(o.scrollLeft,e);return function(e){o.scrollLeft=t(e)}}},f=o.clientWidth/2-a.origin[0]*c,h=o.clientHeight/2-a.origin[1]*c,g=Object(fn.a)([0,(o.clientWidth-a.size[0]*c)/2]),m=Object(fn.a)([0,(o.clientHeight-a.size[1]*c)/2]),p=i.transition().delay(200).duration(500),j=r.initialRender?i:p;j.attr("transform","translate(".concat(g,", ").concat(m,")")).attr("width",a.size[0]*c).attr("height",a.size[1]*c),r.resetPosition&&(r.initialRender?(o.scrollLeft=-f,o.scrollTop=-h):p.tween("scrollLeft",l(-f)).tween("scrollTop",d(-h))),this.animating=!0,a.animationPromise.then((function(){n.animating=!1,n.rerenderRequired&&(n.rerenderRequired=!1,n.renderChart(n.rerenderProps,t,{initialRender:!1,resetPosition:!!n.rerenderResetPosition}))}))}}}]),e}();function Un(e){var t=Object(a.useRef)(new Fn),n=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current}(e),r=Object(_.a)();return Object(a.useEffect)((function(){if(n){var a=e.chartType!==(null===n||void 0===n?void 0:n.chartType)||e.colors!==(null===n||void 0===n?void 0:n.colors)||e.selectedLanguage!==(null===n||void 0===n?void 0:n.selectedLanguage)||e.hideLanguages!==(null===n||void 0===n?void 0:n.hideLanguages)||e.hideEthnicity!==(null===n||void 0===n?void 0:n.hideEthnicity)||e.hideIds!==(null===n||void 0===n?void 0:n.hideIds)||e.hideSex!==(null===n||void 0===n?void 0:n.hideSex),i=e.chartType!==(null===n||void 0===n?void 0:n.chartType)||e.data!==n.data||e.selection!==n.selection;t.current.renderChart(e,r,{initialRender:a,resetPosition:i})}else t.current.renderChart(e,r,{initialRender:!0,resetPosition:!0})})),Object(E.jsxs)("div",{id:"svgContainer",children:[Object(E.jsxs)(Le,{greaterThanOrEqual:"large",className:"zoom",children:[Object(E.jsx)("button",{className:"zoom-in",onClick:function(){return t.current.zoom(1.3)},children:"+"}),Object(E.jsx)("button",{className:"zoom-out",onClick:function(){return t.current.zoom(1/1.3)},children:"\u2212"})]}),Object(E.jsx)("svg",{id:"chartSvg",children:Object(E.jsx)("g",{id:"chart"})})]})}var Yn=function(){function e(){Object(Oe.a)(this,e)}return Object(be.a)(e,null,[{key:"loadLanguages",value:function(){var t=Object(h.a)(f.a.mark((function t(n){var r,a,i,o,c,s,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.csvData){t.next=2;break}return t.abrupt("return",e.csvData);case 2:return t.prev=2,t.next=5,fetch(n);case 5:return r=t.sent,t.next=8,r.text();case 8:return a=t.sent,i=a.trim().split("\n"),o=i[0].split(","),c=o.indexOf("id"),s=o.indexOf("name"),u=o.indexOf("ISO 639-3"),e.csvData=i.slice(1).map((function(t){var n=t.split(",");return{id:n[c],name:e.title_fn(n[s]),iso:n[u],abbreviation:n[u].toUpperCase()||n[s].slice(0,3).toUpperCase()+"*"}})),t.abrupt("return",e.csvData);case 18:throw t.prev=18,t.t0=t.catch(2),console.error(t.t0),t.t0;case 22:case"end":return t.stop()}}),t,null,[[2,18]])})));return function(e){return t.apply(this,arguments)}}()}]),e}();Yn.csvData=null,Yn.title_fn=function(e){return e.split(/[-_\s]/).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("-")};var Wn,Vn=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STATIC_URL;function Jn(e){return Object(E.jsxs)(H.a,{negative:!0,className:"error",children:[Object(E.jsx)(H.a.Header,{children:Object(E.jsx)(y.a,{id:"error.failed_to_load_file",defaultMessage:"Failed to load file"})}),Object(E.jsx)("p",{children:e.message})]})}function qn(e){return Object(E.jsx)(Ce.a,{open:e.open,onClose:e.onDismiss,children:Object(E.jsxs)(H.a,{negative:!0,className:"errorPopup",onDismiss:e.onDismiss,children:[Object(E.jsx)(H.a.Header,{children:Object(E.jsx)(y.a,{id:"error.error",defaultMessage:"Error"})}),Object(E.jsx)("p",{children:e.message})]})})}function Xn(e){var t,n,r,a=function(e){return(t=null===e||void 0===e?void 0:e.gedcom,Object.entries((null===t||void 0===t?void 0:t.other)||{}).filter((function(e){var t=Object(g.a)(e,2);return t[0],"EGO"===t[1].tag}))).map((function(e){var t,n=Object(g.a)(e,2);n[0];return null===(t=n[1].tree.find((function(e){return"GEN"===e.tag})))||void 0===t?void 0:t.data})).find((function(e){return void 0!==e}));var t}(e);return{id:(null===e||void 0===e||null===(t=e.chartData)||void 0===t||null===(n=t.indis)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.id)||"I0",generation:void 0!==a?-parseInt(a,10):0}}function Kn(e,t){var n=Array.from(function(e){var t;return Object.entries((null===e||void 0===e||null===(t=e.gedcom)||void 0===t?void 0:t.indis)||{}).reduce((function(e,t){var n=Object(g.a)(t,2);n[0];return n[1].tree.filter((function(e){return"LANG"===e.tag})).forEach((function(t){t.data&&e.add(t.data)})),e}),new Set)}(e));return t.filter((function(e){return n.includes(e.name)})).sort()}function Zn(e,t){var n=m.parse(e.search),a=function(e){return function(e,t){var n=t[e];return"string"===typeof n?n:void 0}(e,n)},i=a("file"),o=a("url"),c="true"===a("embedded"),s=void 0;Vn?s={source:r.GEDCOM_URL,url:Vn,handleCors:!1,allLanguages:t}:i?s={source:r.UPLOADED,hash:i,gedcom:e.state&&e.state.data,allLanguages:t,images:e.state&&e.state.images}:o?s={source:r.GEDCOM_URL,url:o,allLanguages:t,handleCors:"false"!==a("handleCors")}:c&&(s={source:r.EMBEDDED});var u=a("indi"),d=Number(a("gen"));return{sourceSpec:s,selection:u?{id:u,generation:isNaN(d)?0:d}:void 0,chartType:dn.Hourglass,showSidePanel:"false"!==a("sidePanel"),standalone:"false"!==a("standalone")&&!c&&!Vn,freezeAnimation:"true"===a("freeze"),config:sn(n)}}!function(e){e[e.INITIAL=0]="INITIAL",e[e.LOADING=1]="LOADING",e[e.ERROR=2]="ERROR",e[e.SHOWING_CHART=3]="SHOWING_CHART",e[e.LOADING_MORE=4]="LOADING_MORE"}(Wn||(Wn={}));var $n=n(385),Qn=n(668),er=(n(634),n(635),n(636),{de:o,fr:c,it:s,es:u,pl:d}),tr=navigator.language&&navigator.language.split(/[-_]/)[0],nr=Object($n.a)();nr&&"ie"===nr.name?i.render(Object(E.jsx)("p",{children:"Genealogy Viewer does not support Internet Explorer. Please try a different (modern) browser."}),document.querySelector("#root")):i.render(Object(E.jsx)(Qn.a,{locale:tr,messages:er[tr],children:Object(E.jsxs)(De,{children:[Object(E.jsx)("style",{children:Re}),Object(E.jsx)(C.a,{children:Object(E.jsx)(w.b,{component:function(){var e=Object(a.useState)(Wn.INITIAL),t=Object(g.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(),c=Object(g.a)(o,2),s=c[0],u=c[1],d=Object(a.useState)(),l=Object(g.a)(d,2),j=l[0],O=l[1],b=Object(a.useState)(),x=Object(g.a)(b,2),y=x[0],C=x[1],I=Object(a.useState)(!1),N=Object(g.a)(I,2),R=N[0],L=N[1],D=Object(a.useState)(!0),S=Object(g.a)(D,2),M=S[0],A=S[1],T=Object(a.useState)(dn.Hourglass),G=Object(g.a)(T,2),P=G[0],H=G[1],z=Object(a.useState)(!1),B=Object(g.a)(z,2),F=B[0],U=B[1],Y=Object(a.useState)(),W=Object(g.a)(Y,2),V=W[0],J=W[1],q=Object(a.useState)(),X=Object(g.a)(q,2),K=X[0],Z=X[1],$=Object(a.useState)(!1),Q=Object(g.a)($,2),ee=Q[0],te=Q[1],ne=Object(a.useState)(Kt),re=Object(g.a)(ne,2),ae=re[0],ie=re[1],oe=Object(a.useState)([]),ce=Object(g.a)(oe,2),se=ce[0],ue=ce[1],de=Object(_.a)(),le=Object(w.g)(),fe=Object(w.h)();function he(e,t,n){void 0!==t&&(e.languageOptions=Kn(t,n),e.renderLanguagesOption=e.languageOptions.length>0,e.renderEthnicityOption=Array.from(function(e){var t;return Object.entries((null===e||void 0===e||null===(t=e.gedcom)||void 0===t?void 0:t.indis)||{}).reduce((function(e,t){var n=Object(g.a)(t,2);return n[0],n[1].tree.filter((function(e){return"_ETHN"===e.tag})).forEach((function(t){t.data&&e.add(t.data)})),e}),new Set)}(t)).length>0,Object(v.h)(t.chartData).forEach((function(t){t.hideLanguages=e.languages===Wt.HIDE,t.hideEthnicity=e.ethnicity===Vt.HIDE,t.hideId=e.id===Jt.HIDE,t.hideSex=e.sex===qt.HIDE})))}var ge=new ve.b,me=new ve.a,je=new xe;function Oe(e,t){if(!V||V.source!==e.source)return!0;var n={spec:e,selection:t},a={spec:V,selection:j};switch(n.spec.source){case r.UPLOADED:return ge.isNewData(n,a,s);case r.GEDCOM_URL:return me.isNewData(n,a,s);case r.EMBEDDED:return je.isNewData(n,a,s)}}function be(e,t,n){switch(e.source){case r.UPLOADED:return p("topola_gedcom_upload"),ge.loadData({spec:e,selection:t,allLanguages:n});case r.GEDCOM_URL:return p("topola_url_load"),me.loadData({spec:e,selection:t,allLanguages:n});case r.EMBEDDED:return je.loadData({spec:e,selection:t,allLanguages:n})}}var ye=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yn.loadLanguages("data/languages.csv");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:t=e.t0,ue(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function we(e){var t=m.parse(fe.search);for(var n in e)t[n]=e[n];fe.search=m.stringify(t),le.push(fe)}function Ce(e){we({indi:e.id,gen:e.generation})}function Ie(e){U(!0),C(e)}function Ne(){return Re.apply(this,arguments)}function Re(){return(Re=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p("topola_download_pdf"),t=zn(null===s||void 0===s?void 0:s.gedcom),e.next=5,Tn(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Ie(de.formatMessage({id:"error.failed_pdf",defaultMessage:"Failed to generate PDF file. Please try with a smaller diagram or download an SVG file."}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function De(){return Se.apply(this,arguments)}function Se(){return(Se=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p("topola_download_png"),t=zn(null===s||void 0===s?void 0:s.gedcom),e.next=5,An(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Ie(de.formatMessage({id:"error.failed_png",defaultMessage:"Failed to generate PNG file. Please try with a smaller diagram or download an SVG file."}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Me(){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p("topola_download_svg"),t=zn(null===s||void 0===s?void 0:s.gedcom),e.next=4,Ln(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return Te.apply(this,arguments)}function Te(){return(Te=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p("topola_download_gedcom"),t=zn(null===s||void 0===s?void 0:s.gedcom),e.next=4,Pn(K,t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){Ce(Xn(s))}function Pe(){U(!1)}function He(){switch(n){case Wn.SHOWING_CHART:case Wn.LOADING_MORE:var e=Object(ve.c)(s.chartData,j),t=[{menuItem:de.formatMessage({id:"tab.info",defaultMessage:"Info"}),render:function(){return Object(E.jsx)(pe,{gedcom:s.gedcom,indi:e.id})}},{menuItem:de.formatMessage({id:"tab.settings",defaultMessage:"Settings"}),render:function(){return Object(E.jsx)(un,{config:ae,onChange:function(e){ie(e),he(e,s,se),we(function(e){return{c:$t.get(e.color),l:en.get(e.languages),e:nn.get(e.ethnicity),i:an.get(e.id),s:cn.get(e.sex),n:e.selectedLanguage}}(e))}})}}];return Object(E.jsxs)("div",{id:"content",children:[Object(E.jsx)(qn,{open:F,message:y,onDismiss:Pe}),n===Wn.LOADING_MORE?Object(E.jsx)(Ee.a,{active:!0,size:"small",className:"loading-more"}):null,Object(E.jsx)(Un,{data:s.chartData,selection:e,chartType:P,onSelection:Ce,freezeAnimation:ee,colors:ae.color,selectedLanguage:ae.selectedLanguage,hideLanguages:ae.languages,hideEthnicity:ae.ethnicity,hideIds:ae.id,hideSex:ae.sex}),R?Object(E.jsx)(Le,{greaterThanOrEqual:"large",className:"sidePanel",children:Object(E.jsx)(k.a,{panes:t})}):null]});case Wn.ERROR:return Object(E.jsx)(Jn,{message:y});case Wn.INITIAL:case Wn.LOADING:return Object(E.jsx)(Ee.a,{active:!0,size:"large"})}}return Object(a.useEffect)((function(){ye()}),[fe.pathname]),Object(a.useEffect)((function(){p("topola_landing");var e=document.getElementById("root");"/"===fe.pathname?e.classList.add("bgLogo"):e.classList.remove("bgLogo"),Object(h.a)(f.a.mark((function e(){var t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/view"===fe.pathname){e.next=3;break}return n!==Wn.INITIAL&&i(Wn.INITIAL),e.abrupt("return");case 3:if((t=Zn(fe,se)).sourceSpec){e.next=7;break}return le.replace({pathname:"/"}),e.abrupt("return");case 7:if(n!==Wn.INITIAL&&!Oe(t.sourceSpec,t.selection)){e.next=31;break}return i(Wn.LOADING),J(t.sourceSpec),A(t.standalone),H(t.chartType),te(t.freezeAnimation),ie(t.config),e.prev=14,e.next=17,be(t.sourceSpec,t.selection);case 17:r=e.sent,u(r),Z(Object(v.i)(r.gedcom)),O(void 0!==t.selection?t.selection:Xn(r)),he(t.config,r,se),L(t.showSidePanel),i(Wn.SHOWING_CHART),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(14),o=_e(e.t0,de),C(o),i(Wn.ERROR);case 29:e.next=32;break;case 31:n!==Wn.SHOWING_CHART&&n!==Wn.LOADING_MORE||(H(t.chartType),i(Wn.SHOWING_CHART),a=void 0!==t.selection?t.selection:Xn(s),j&&j.id===a.id&&j.generation===a.generation||O(a));case 32:case"end":return e.stop()}var a,o}),e,null,[[14,26]])})))()})),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(w.b,{render:function(){return Object(E.jsx)(Ut,{data:null===s||void 0===s?void 0:s.chartData,showingChart:"/view"===le.location.pathname&&(n===Wn.SHOWING_CHART||n===Wn.LOADING_MORE),standalone:M,eventHandlers:{onSelection:Ce,onDownloadPdf:Ne,onDownloadPng:De,onDownloadSvg:Me,onDownloadGedcom:ke,onCenterView:Ge}})}}),Vn?Object(E.jsxs)(w.d,{children:[Object(E.jsx)(w.b,{exact:!0,path:"/view",render:He}),Object(E.jsx)(w.a,{to:"/view"})]}):Object(E.jsxs)(w.d,{children:[Object(E.jsx)(w.b,{exact:!0,path:"/view",render:He}),Object(E.jsx)(w.a,{to:"/"})]})]})}})})]})}),document.querySelector("#root"))},65:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));n(34);var r=new Map([["abt","about"],["cal","calculated"],["est","estimated"]]);function a(e,t){var n=void 0!==e.day,a=void 0!==e.month,i=void 0!==e.year;if(!n&&!a&&!i)return e.text||"";var o=function(e){return new Date(void 0!==e.year?e.year:0,void 0!==e.month?e.month-1:0,void 0!==e.day?e.day:1)}(e),c={day:n?"numeric":void 0,month:a?"long":void 0,year:i?"numeric":void 0};return[function(e,t){var n=e&&e.toLowerCase();return n&&t.formatMessage({id:"date.".concat(n),defaultMessage:r.get(n)||n})||""}(e.qualifier,t),new Intl.DateTimeFormat(t.locale,c).format(o)].filter((function(e){return e})).join(" ")}function i(e,t){return e?e.date?a(e.date,t):e.dateRange?function(e,t){var n=e.from,r=e.to,i=n&&a(n,t),o=r&&a(r,t);return i&&o?t.formatMessage({id:"date.between",defaultMessage:"between {from} and {to}"},{from:i,to:o}):i?t.formatMessage({id:"date.after",defaultMessage:"after {from}"},{from:i}):o?t.formatMessage({id:"date.before",defaultMessage:"before {to}"},{to:o}):""}(e.dateRange,t):"":""}function o(e,t){return e&&e.year&&t&&t.year?e.year!==t.year?e.year-t.year:e.month&&t.month&&(e.month!==t.month||e.day&&t.day&&e.day!==t.day)?e.month-t.month:0:0}function c(e,t){return o(e&&(e.date||e.dateRange&&(e.dateRange.from||e.dateRange.to)),t&&(t.date||t.dateRange&&(t.dateRange.from||t.dateRange.to)))}},73:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return w}));var r=n(7),a=n(8),i=n.n(a),o=n(27),c=n(29),s=n(18),u=n(25),d=n(129),l=n(379),f=n.n(l);function h(e,t){return{id:t&&e.indis.some((function(e){return e.id===t.id}))?t.id:e.indis[0].id,generation:(null===t||void 0===t?void 0:t.generation)||0}}function g(e,t,n,r){var a=Object(u.a)(e,n,r||new Map),i=JSON.stringify(a);try{sessionStorage.setItem(t,i)}catch(o){console.warn("Failed to store data in session storage: "+o)}return a}function m(e){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(i.a.mark((function t(n){var a,o,c,s,u,d,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f.a,t.t1=e,t.next=4,n.arrayBuffer();case 4:t.t2=t.sent,t.t3=t.t1.from.call(t.t1,t.t2),a=new t.t0(t.t3),o=a.getEntries(),c=void 0,s=new Map,u=Object(r.a)(o);try{for(u.s();!(d=u.n()).done;)(l=d.value).entryName.endsWith(".ged")?c?console.warn("Multiple GEDCOM files found in zip archive."):c=l.getData().toString():s.set(l.entryName,URL.createObjectURL(new Blob([l.getData()])))}catch(i){u.e(i)}finally{u.f()}if(c){t.next=14;break}throw new Error("GEDCOM file not found in zip archive.");case 14:return t.abrupt("return",{gedcom:c,images:s});case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(e){return O.apply(this,arguments)}function O(){return(O=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.slice(0,2).text();case 2:if("PK"!==e.sent){e.next=5;break}return e.abrupt("return",m(t));case 5:return e.next=7,t.text();case 7:return e.t0=e.sent,e.t1=new Map,e.abrupt("return",{gedcom:e.t0,images:e.t1});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(i.a.mark((function e(t,n,r){var a,o,c,s,u,d,l,f,h,m,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=sessionStorage.getItem(t))){e.next=4;break}return e.abrupt("return",JSON.parse(a));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn("Failed to load data from session storage: "+e.t0);case 9:return(o=t.match(/https:\/\/drive\.google\.com\/file\/d\/(.*)\/.*/))&&(t="https://drive.google.com/uc?id=".concat(o[1],"&export=download")),c=n?"https://universal-cors-proxy.glitch.me/"+encodeURIComponent(t):t,e.next=14,fetch(c);case 14:if((s=e.sent).ok){e.next=17;break}throw new Error(s.statusText);case 17:if(!(u=s.headers.get("content-type"))||!u.includes("application/zip")){e.next=30;break}return e.next=21,s.blob();case 21:return d=e.sent,e.next=24,j(d);case 24:return l=e.sent,f=l.gedcom,h=l.images,e.abrupt("return",g(f,t,r,h));case 30:if(!u||!u.includes("application/json")){e.next=37;break}return e.next=33,s.json();case 33:return m=e.sent,e.abrupt("return",g(m.contents,t,r,new Map));case 37:if(!u||!u.includes("text/plain")&&!u.includes("text/html")){e.next=43;break}return e.next=40,s.text();case 40:for(p=e.sent;p.charCodeAt(0)>127;)p=p.slice(1);return e.abrupt("return",g(p,t,r,new Map));case 43:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function x(e,t,n,r){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(i.a.mark((function e(t,n,r,a){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(o=sessionStorage.getItem(t))){e.next=4;break}return e.abrupt("return",JSON.parse(o));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn("Failed to load data from session storage: "+e.t0);case 9:if(n&&r){e.next=11;break}throw new d.a("ERROR_LOADING_UPLOADED_FILE","Error loading data. Please upload your file again.");case 11:return e.abrupt("return",g(n,t,r,a));case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var _=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"isNewData",value:function(e,t,n){return e.spec.hash!==t.spec.hash}},{key:"loadData",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(t.spec.hash,t.spec.gedcom,t.spec.allLanguages,t.spec.images);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),w=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"isNewData",value:function(e,t,n){return e.spec.url!==t.spec.url}},{key:"loadData",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(t.spec.url,t.spec.handleCors,t.spec.allLanguages);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()}).call(this,n(24).Buffer)}},[[637,1,2]]]);
//# sourceMappingURL=main.6add2e72.chunk.js.map