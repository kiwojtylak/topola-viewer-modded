(this["webpackJsonptopola-viewer"]=this["webpackJsonptopola-viewer"]||[]).push([[0],{129:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var r=t(34),a=t(96),i=t(99),o=t(172),c=function(e){Object(a.a)(t,e);var n=Object(i.a)(t);function t(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(r.a)(this,t),(i=n.call(this,a)).code=e,i.args=o,i}return t}(Object(o.a)(Error))},20:function(e,n,t){"use strict";t.d(n,"j",(function(){return c})),t.d(n,"i",(function(){return s})),t.d(n,"h",(function(){return l})),t.d(n,"b",(function(){return g})),t.d(n,"c",(function(){return p})),t.d(n,"a",(function(){return v})),t.d(n,"g",(function(){return x})),t.d(n,"f",(function(){return _})),t.d(n,"d",(function(){return w})),t.d(n,"e",(function(){return R}));var r=t(262),a=t(129),i=t(28),o=t(30);function c(e){return e.substring(1,e.length-1)}function s(e){var n=new Map;return e.indis.forEach((function(e){n.set(e.id,e)})),n}function l(e){var n=new Map;return e.fams.forEach((function(e){n.set(e.id,e)})),n}function u(e){var n=e.find((function(e){return"HEAD"===e.tag})),t={},r={},a={};return e.forEach((function(e){"INDI"===e.tag?t[c(e.pointer)]=e:"FAM"===e.tag?r[c(e.pointer)]=e:e.pointer&&(a[c(e.pointer)]=e)})),{head:n,indis:t,fams:r,other:a}}function d(e,n){return e<n?-1:e>n?1:0}function f(e){var n=function(e){var n=s(e);return function(e,t){var r=n.get(e),a=n.get(t);return Object(o.b)(r&&r.birth,a&&a.birth)||d(e,t)}}(e),t=e.fams.map((function(e){return function(e,n){if(!e.children)return e;var t=e.children.sort(n);return Object.assign({},e,{children:t})}(e,n)}));return Object.assign({},e,{fams:t})}function m(e){var n=function(e){var n=l(e);return function(e,t){var r=n.get(e),a=n.get(t);return Object(o.b)(r&&r.marriage,a&&a.marriage)||d(e,t)}}(e),t=e.indis.map((function(e){return function(e,n){if(!e.fams)return e;var t=e.fams.sort(n);return Object.assign({},e,{fams:t})}(e,n)}));return Object.assign({},e,{indis:t})}function g(e,n,t){if(e.data){var r=t(n)[c(e.data)];if(r)return r}return e}function p(e){var n=[e.data];return e.tree.forEach((function(e){if("CONC"===e.tag&&e.data){var t=n.length-1;n[t]+=e.data}else"CONT"===e.tag&&e.data&&n.push(e.data)})),n}function j(e){return m(f(e))}var b=[".jpg",".jpeg",".png",".gif"];function h(e){var n=e.toLowerCase();return b.some((function(e){return n.endsWith(e)}))}function O(e,n){var t=e.indis.map((function(e){return function(e,n){if(!e.images||0===e.images.length)return e;var t=[];return e.images.forEach((function(e){var r=e.url.replaceAll("\\","/"),a=r.match(/[^/]*$/)[0];n.has(r)?t.push({url:n.get(r),title:e.title}):n.has(a)?t.push({url:n.get(a),title:e.title}):e.url.startsWith("http")&&h(e.url)&&t.push(e)})),Object.assign({},e,{images:t})}(e,n)}));return Object.assign({},e,{indis:t})}function v(e,n){var t=Object(r.parse)(e),o=Object(i.gedcomEntriesToJson)(t);if(!o||!o.indis||!o.indis.length||!o.fams||!o.fams.length)throw new a.a("GEDCOM_READ_FAILED","Failed to read GEDCOM file");return{chartData:O(j(o),n),gedcom:u(t)}}function x(e){var n=e&&e.tree&&e.tree.find((function(e){return"SOUR"===e.tag})),t=n&&n.tree&&n.tree.find((function(e){return"NAME"===e.tag}));return t&&t.data||null}function _(e){var n=e.tree.filter((function(e){return"NAME"===e.tag})),t=n.find((function(e){return 0===e.tree.filter((function(e){return"TYPE"===e.tag&&"married"===e.data})).length}))||n[0];return null===t||void 0===t?void 0:t.data.replace(/\//g,"")}function w(e){var n,t,r=null===e||void 0===e||null===(n=e.tree.find((function(e){return"TITL"===e.tag})))||void 0===n?void 0:n.data,a=null===e||void 0===e||null===(t=e.tree.find((function(e){return"FORM"===e.tag})))||void 0===t?void 0:t.data;return r&&a&&r+"."+a}function R(e){return e.tree.find((function(e){return"FILE"===e.tag&&e.data.startsWith("http")&&h(e.data)}))}},30:function(e,n,t){"use strict";t.d(n,"d",(function(){return i})),t.d(n,"c",(function(){return o})),t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return l})),t.d(n,"f",(function(){return u})),t.d(n,"e",(function(){return d})),t.d(n,"g",(function(){return f}));t(28);var r=new Map([["abt","about"],["cal","calculated"],["est","estimated"]]);function a(e,n){var t=void 0!==e.day,r=void 0!==e.month,a=void 0!==e.year;if(!t&&!r&&!a)return e.text||"";var o=f(e),c={day:t?"numeric":void 0,month:r?"long":void 0,year:a?"numeric":void 0};return[i(e.qualifier,n),new Intl.DateTimeFormat(n.locale,c).format(o)].filter((function(e){return e})).join(" ")}function i(e,n){var t=e&&e.toLowerCase();return t&&n.formatMessage({id:"date.".concat(t),defaultMessage:r.get(t)||t})||""}function o(e,n){return e?e.date?a(e.date,n):e.dateRange?function(e,n){var t=e.from,r=e.to,i=t&&a(t,n),o=r&&a(r,n);return i&&o?n.formatMessage({id:"date.between",defaultMessage:"between {from} and {to}"},{from:i,to:o}):i?n.formatMessage({id:"date.after",defaultMessage:"after {from}"},{from:i}):o?n.formatMessage({id:"date.before",defaultMessage:"before {to}"},{to:o}):""}(e.dateRange,n):"":""}function c(e,n){return e&&e.year&&n&&n.year?e.year!==n.year?e.year-n.year:e.month&&n.month&&(e.month!==n.month||e.day&&n.day&&e.day!==n.day)?e.month-n.month:0:0}function s(e,n){return c(e&&(e.date||e.dateRange&&(e.dateRange.from||e.dateRange.to)),n&&(n.date||n.dateRange&&(n.dateRange.from||n.dateRange.to)))}function l(e,n){return c(e.from,n.to)<=0&&c(e.to,n.from)>=0}function u(e){var n,t,r,a;return d(null===e||void 0===e?void 0:e.dateRange)?c(null===e||void 0===e||null===(r=e.dateRange)||void 0===r?void 0:r.from,null===e||void 0===e||null===(a=e.dateRange)||void 0===a?void 0:a.to)<=0:!!((null===e||void 0===e?void 0:e.date)||(null===e||void 0===e||null===(n=e.dateRange)||void 0===n?void 0:n.from)||(null===e||void 0===e||null===(t=e.dateRange)||void 0===t?void 0:t.to))}function d(e){return!(!(null===e||void 0===e?void 0:e.from)||!(null===e||void 0===e?void 0:e.to))}function f(e){return new Date(void 0!==e.year?e.year:0,void 0!==e.month?e.month-1:0,void 0!==e.day?e.day:1)}},361:function(e){e.exports=JSON.parse('{"menu.open":"\xd6ffnen","menu.open_file":"Datei \xf6ffnen","menu.load_from_url":"URL \xf6ffnen","menu.select_wikitree_id":"WikiTree ID ausw\xe4hlen","menu.print":"Print","menu.download":"Download","menu.pdf_file":"PDF-Datei","menu.png_file":"PNG-Datei","menu.svg_file":"SVG-Datei","menu.download_pdf":"PDF herunterladen","menu.download_png":"PNG herunterladen","menu.download_svg":"SVG herunterladen","menu.view":"Neuzentrierungsdiagramm","menu.hourglass":"Sanduhrkarte","menu.relatives":"Alle Verwandten","menu.fancy":"Zierbaum (experimentell)","menu.wikitree_login":"Bei WikiTree anmelden","menu.wikitree_logged_in":"Eingeloggt","menu.wikitree_popup_username":"Bei WikiTree als {username} angemeldet","menu.wikitree_popup":"Bei WikiTree angemeldet","menu.github":"Projekt auf der GitHub-Website","menu.search.placeholder":"Person suchen","menu.search.no_results":"Keine Ergebnisse","intro.title":"Topola Genealogie","intro.description":"Mit der Topola Genealogie k\xf6nnen Sie den Stammbaum auf interaktive Weise durchsuchen.","intro.instructions":"Klicken Sie auf Datei \xf6ffnen oder URL \xf6ffnen, um eine GEDCOM-Datei zu laden. Die meisten Genealogie-Programme verf\xfcgen \xfcber eine GEDCOM-Exportfunktion.","intro.examples":"Nachfolgend einige Beispiele aus dem Internet:","intro.from":"source:","intro.privacy":"Datenschutz","intro.privacy_note":"Bei Verwendung der Funktion \\"Datei \xf6ffnen\\" werden Ihre Daten nirgendwo gesendet und verbleiben auf Ihrem Computer. Bei Verwendung der Funktion \\"URL \xf6ffnen\\" werden Daten von der angegebenen Adresse vom Dienst {link} an gesendet Erm\xf6glichen des Ladens von Daten aus einer anderen Dom\xe4ne (CORS).","load_from_url.title":"Von URL \xf6ffnen","load_from_url.comment":"Die Daten der angegebenen URL werden \xfcber den {link} -Dienst geladen, um CORS-Probleme zu vermeiden.","load_from_url.cancel":"Cancel","load_from_url.load":"\xd6ffnen","select_wikitree_id.title":"WikiTree ID eingeben","select_wikitree_id.comment":"Geben Sie die Profil-ID {wikiTreeLink} ein. Beispiele: {example1}, {example2}","select_wikitree_id.cancel":"Cancel","select_wikitree_id.load":"Open","gedcom.BAPM":"Taufe","gedcom.BIRT":"Geburt","gedcom.BURI":"Beerdigung","gedcom.CENS":"Volksz\xe4hlung","gedcom.CHR":"Taufe","gedcom.DEAT":"Tod","gedcom.MARR":"Hochzeit","gedcom.MARS":"Ehevertrag","gedcom.ETHN":"ethnische Zugeh\xf6rigkeit","gedcom.TRIB":"Stamm","gedcom.LANG":"Sprache","gedcom.DSCR":"Beschreibung","gedcom.EMAIL":"E-Mail","gedcom.EVEN":"Ereignis","gedcom.OCCU":"Beruf","gedcom.RIN":"ID","gedcom.TITL":"Titel","gedcom.WWW":"Website","gedcom._UPD":"Zuletzt aktualisiert","gedcom.birth":"Geburtsname","gedcom.married":"Ehenamen","gedcom.maiden":"M\xe4dchenname","gedcom.aka":"Auch bekannt als","gedcom.languages":"Sprachen","date.abt":"about","date.cal":"berechnet","date.est":"gesch\xe4tzt","date.between":"zwischen {from} und {to}","date.after":"after {from}","date.before":"before {to}","error.error":"Error","error.failed_pdf":"PDF konnte nicht erstellt werden. Versuchen Sie es erneut mit einem kleineren Diagramm oder laden Sie die SVG-Datei herunter.","error.failed_png":"Fehler beim Erstellen der PNG-Datei. Versuchen Sie es erneut mit einem kleineren Diagramm oder laden Sie die SVG-Datei herunter.","error.failed_to_load_file":"Fehler beim Laden der Datei","error.failed_wikitree_load_more":"Fehler beim Abrufen der Daten aus WikiTree. {error}","wikitree.private":"Privat"}')},362:function(e){e.exports=JSON.parse('{"menu.open":"Ouvrir","menu.open_file":"Ouvrir le fichier","menu.load_from_url":"Ouvrir l\'URL","menu.select_wikitree_id":"S\xe9lectionnez l\'ID WikiTree","menu.print":"Imprimer","menu.download":"T\xe9l\xe9charger","menu.pdf_file":"Fichier PDF","menu.png_file":"Fichier PNG","menu.svg_file":"Fichier SVG","menu.download_pdf":"T\xe9l\xe9charger le PDF","menu.download_png":"T\xe9l\xe9charger PNG","menu.download_svg":"T\xe9l\xe9charger SVG","menu.view":"Recentrer graphique","menu.hourglass":"Graphique en sablier","menu.relatives":"Tous les parents","menu.fancy":"Arbre ornemental (exp\xe9rimental)","menu.wikitree_login":"Connectez-vous \xe0 WikiTree","menu.wikitree_logged_in":"Connect\xe9","menu.wikitree_popup_username":"Connect\xe9 \xe0 WikiTree en tant que {username}","menu.wikitree_popup":"Connect\xe9 \xe0 WikiTree","menu.github":"Projet sur le site Web GitHub","menu.search.placeholder":"Rechercher une personne","menu.search.no_results":"Aucun r\xe9sultat","intro.title":"Topola G\xe9n\xe9alogie","intro.description":"La Topola G\xe9n\xe9alogie vous permet de parcourir l\'arbre g\xe9n\xe9alogique de mani\xe8re interactive.","intro.instructions":"Cliquez sur OPEN FILE ou OPEN URL pour charger un fichier GEDCOM. La plupart des logiciels de g\xe9n\xe9alogie ont une fonction d\'exportation GEDCOM.","intro.examples":"Voici quelques exemples trouv\xe9s sur Internet:","intro.from":"source:","intro.whats_new":"Quoi de neuf","intro.full_changelog":"Voir toutes les modifications","intro.privacy":"Confidentialit\xe9","intro.privacy_note":"Lorsque vous utilisez la fonction \\"Ouvrir un fichier\\", vos donn\xe9es ne sont envoy\xe9es nulle part et restent sur votre ordinateur. Lorsque vous utilisez la fonction \\"Ouvrir l\'URL\\", les donn\xe9es de l\'adresse indiqu\xe9e sont envoy\xe9es par le service {link} pour permettre le chargement des donn\xe9es depuis un autre domaine (CORS).","load_from_url.title":"Ouvrir depuis l\'URL","load_from_url.comment":"Les donn\xe9es de l\'URL donn\xe9e seront charg\xe9es via le service {link} pour \xe9viter les probl\xe8mes CORS.","load_from_url.cancel":"Annuler","load_from_url.load":"Ouvrir","select_wikitree_id.title":"Entrez l\'ID de WikiTree","select_wikitree_id.comment":"Entrez l\'ID de profil {wikiTreeLink}. Exemples: {example1}, {example2}","select_wikitree_id.cancel":"Annuler","select_wikitree_id.load":"Ouvrir","gedcom.ADOP":"Adoption","gedcom.BAPM":"Bapt\xeame","gedcom.BIRT":"Naissance","gedcom.BURI":"Fun\xe9railles","gedcom.CENS":"Recensement","gedcom.CHR":"Bapt\xeame","gedcom.CREM":"Cr\xe9mation","gedcom.DEAT":"Mort","gedcom.DSCR":"Description","gedcom.EDUC":"\xc9tudes","gedcom.EMAIL":"E-mail","gedcom.EMIG":"\xc9migration","gedcom.EVEN":"\xc9v\xe9nement","gedcom.FACT":"Fait","gedcom.IMMI":"Immigration","gedcom.MILT":"Service militaire","gedcom.NATU":"Naturalisation","gedcom.OCCU":"Profession","gedcom.RIN":"ID","gedcom.TITL":"Titre","gedcom.WWW":"Site Web","gedcom._UPD":"Derni\xe8re mise \xe0 jour","gedcom.MARR":"Mariage","gedcom.MARS":"R\xe8glement de mariage","gedcom.ETHN":"Appartenance ethnique","gedcom.TRIB":"Clan","gedcom.LANG":"Langue","gedcom.DIV":"Divorce","gedcom.birth":"Nom de naissance","gedcom.married":"Nom marital","gedcom.maiden":"Nom de jeune fille","gedcom.immigrant":"Nom d\'immigrant","gedcom.aka":"Alias","gedcom.languages":"Langues","date.abt":"environ","date.cal":"calcul\xe9","date.est":"estim\xe9","date.between":"entre {from} et {to}","date.after":"apr\xe8s {from}","date.before":"avant {to}","error.error":"Erreur","age.exact":"{qualifier}{age, plural, =0 {Moins d\'1 an} one {1 an} other {# ans}}","age.less":"Moins de {age, plural, =0 {1 an} one {1 an} other {# ans}}","age.more":"Plus de {age, plural, =0 {0 an} one {1 an} other {# ans}}","age.between":"Entre {ageFrom} et {ageTo, plural, =0 {0 an} one {1 an} other {# ans}}","error.failed_pdf":"\xc9chec de la cr\xe9ation du PDF. R\xe9essayez avec un diagramme plus petit ou t\xe9l\xe9chargez le fichier SVG.","error.failed_png":"Impossible de cr\xe9er le fichier PNG. R\xe9essayez avec un diagramme plus petit ou t\xe9l\xe9chargez le fichier SVG.","error.failed_to_load_file":"Erreur lors du chargement du fichier","error.failed_wikitree_load_more":"Erreur lors de l\'obtention des donn\xe9es de WikiTree. {error}","error.GEDCOM_READ_FAILED":"Erreur de lecture du fichier GEDCOM","error.ERROR_LOADING_UPLOADED_FILE":"Erreur de chargement des donn\xe9es. Renvoyez votre fichier.","error.WIKITREE_ID_NOT_PROVIDED":"L\'ID WikiTree est obligatoire","error.WIKITREE_PROFILE_NOT_ACCESSIBLE":"Le profil WikiTree ${id} n\'est pas accessible. Connectez-vous.","error.WIKITREE_PROFILE_NOT_FOUND":"Le profil WikiTree ${id} n\'a pas \xe9t\xe9 trouv\xe9","error.failed_to_load_image":"Erreur de chargement de l\'image","wikitree.private":"Priv\xe9","tab.info":"Info","tab.settings":"Param\xe8tres","config.colors":"Couleurs","config.colors.NO_COLOR":"aucune","config.colors.COLOR_BY_GENERATION":"par g\xe9n\xe9ration","config.colors.COLOR_BY_SEX":"par sexe","name.unknown_name":"?","whats_new.title":"Quoi de neuf dans cette version?"}')},363:function(e){e.exports=JSON.parse('{"menu.open":"Apri","menu.open_file":"Apri file","menu.load_from_url":"Apri URL","menu.select_wikitree_id":"Seleziona ID WikiTree","menu.print":"Stampa","menu.download":"Download","menu.pdf_file":"File PDF","menu.png_file":"File PNG","menu.svg_file":"File SVG","menu.download_pdf":"Scarica PDF","menu.download_png":"Scarica PNG","menu.download_svg":"Scarica SVG","menu.view":"Ricentrare grafico","menu.hourglass":"Grafico a clessidra","menu.relatives":"Tutti i parenti","menu.fancy":"Albero ornamentale (sperimentale)","menu.wikitree_login":"Accedi a WikiTree","menu.wikitree_logged_in":"Accesso effettuato","menu.wikitree_popup_username":"Accesso a WikiTree come {username}","menu.wikitree_popup":"Accesso a WikiTree","menu.github":"Progetto sul sito web GitHub","menu.search.placeholder":"Cerca persona","menu.search.no_results":"Nessun risultato","intro.title":"Topola Genealogy","intro.description":"Topola Genealogy ti consente di esplorare l\'albero genealogico in modo interattivo.","intro.instructions":"Fai clic su OPEN FILE o OPEN URL per caricare un file GEDCOM. La maggior parte dei software di genealogia ha una funzione di esportazione GEDCOM.","intro.examples":"Di seguito sono riportati alcuni esempi trovati su Internet:","intro.from":"source:","intro.privacy":"Privacy","intro.privacy_note":"Quando si utilizza la funzione \\"Apri file\\", i dati non vengono inviati da nessuna parte e rimangono sul computer. Quando si utilizza la funzione \\"Apri URL\\", i dati dall\'indirizzo specificato vengono inviati dal servizio {link} a consentire il caricamento dei dati da un altro dominio (CORS).","load_from_url.title":"Apri da URL","load_from_url.comment":"I dati dall\'URL specificato verranno caricati tramite il servizio {link} per evitare problemi CORS.","load_from_url.cancel":"Annulla","load_from_url.load":"Apri","select_wikitree_id.title":"Inserisci ID WikiTree","select_wikitree_id.comment":"Inserisci l\'ID profilo {wikiTreeLink}. Esempi: {example1}, {example2}","select_wikitree_id.cancel":"Annulla","select_wikitree_id.load":"Apri","gedcom.BAPM":"Battesimo","gedcom.BIRT":"Nascita","gedcom.BURI":"Funerale","gedcom.CENS":"Census","gedcom.CHR":"Battesimo","gedcom.DEAT":"Morte","gedcom.MARR":"Matrimonio","gedcom.MARS":"Accordo di matrimonio","gedcom.ETHN":"Etnia","gedcom.TRIB":"Clan","gedcom.LANG":"Lingua","gedcom.DIV":"Divorzio","gedcom.DSCR":"Descrizione","gedcom.EMAIL":"E-mail","gedcom.EVEN":"Evento","gedcom.OCCU":"Professione","gedcom.RIN":"ID","gedcom.TITL":"Titolo","gedcom.WWW":"Sito web","gedcom._UPD":"Ultimo aggiornamento","gedcom.birth":"Nome alla nascita","gedcom.married":"Nome da coniugato/a","gedcom.maiden":"Nome da nubile","gedcom.aka":"Conosciuto anche come","gedcom.languages":"Lingue","date.abt":"circa","date.cal":"calcolato","date.est":"stimato","date.between":"tra il {from} e il {to}","date.after":"dopo il {from}","date.before":"prima del {to}","error.error":"Errore","error.failed_pdf":"Impossibile creare PDF. Riprova con un diagramma pi\xf9 piccolo o scarica il file SVG.","error.failed_png":"Impossibile creare il file PNG. Riprova con un diagramma pi\xf9 piccolo o scarica il file SVG.","error.failed_to_load_file":"Errore durante il caricamento del file","error.failed_wikitree_load_more":"Errore durante il recupero dei dati da WikiTree. {error}","wikitree.private":"Privato"}')},364:function(e){e.exports=JSON.parse('{"menu.open":"Abrir","menu.open_file":"Abrir fichero","menu.load_from_url":"Abrir URL","menu.select_wikitree_id":"Seleccionar ID WikiTree","menu.print":"Imprimir","menu.download":"Descargar","menu.pdf_file":"Archivo PDF","menu.png_file":"Archivo PNG","menu.svg_file":"Archivo SVG","menu.download_pdf":"Imagen PDF","menu.download_png":"Imagen PNG","menu.download_svg":"Imagen SVG","menu.view":"Centrar gr\xe1fica","menu.hourglass":"Gr\xe1fica de reloj de arena","menu.relatives":"Todos los parientes","menu.fancy":"\xc1rbol ornamental (experimental)","menu.wikitree_login":"Acceder a WikiTree","menu.wikitree_logged_in":"Acceso realizado","menu.wikitree_popup_username":"Acceso a WikiTree como {username}","menu.wikitree_popup":"Acceso a WikiTree","menu.github":"Proyecto en el sitio web GitHub","menu.search.placeholder":"Buscar persona","menu.search.no_results":"Ning\xfan resultado","intro.title":"Topola Genealogy","intro.description":"Topola Genealogy te permite explorar \xe1rboles geneal\xf3gicos de forma interactiva.","intro.instructions":"Haz click en ABRIR FICHERO o ABRIR URL para cargar un archivo GEDCOM. La mayor parte del software de genealog\xeda tiene una funci\xf3n para exportar GEDCOM.","intro.examples":"A continuaci\xf3n se muestran algunos ejemplos encontrados en Internet:","intro.from":"Origen:","intro.privacy":"Privacidad","intro.privacy_note":"Cuando se usa la funci\xf3n \\"Abrir fichero\\", los datos no se env\xedan a ninguna parte y permanecen en su computadora. Cuando se utiliza la funci\xf3n \\"Abrir URL\\", los datos de la direcci\xf3n especificada son enviados por el servicio {link} para permitir que los datos se carguen desde otro dominio (CORS).","load_from_url.title":"Abrir desde URL","load_from_url.comment":"Los detalles de la URL especificada se cargar\xe1n a trav\xe9s del servicio {link} para evitar problemas con CORS.","load_from_url.cancel":"Cancelar","load_from_url.load":"Abrir","select_wikitree_id.title":"Insertar ID WikiTree","select_wikitree_id.comment":"Insertar ID de perfil {wikiTreeLink}. Ejemplo: {example1}, {example2}","select_wikitree_id.cancel":"Cancelar","select_wikitree_id.load":"Abrir","gedcom.BAPM":"Bautismo","gedcom.BIRT":"Nacimiento","gedcom.BURI":"Funeral","gedcom.CENS":"Censo","gedcom.CHR":"Bautismo","gedcom.DEAT":"Muerte","gedcom.MARR":"Matrimonio","gedcom.MARS":"Acuerdo de matrimonio","gedcom.ETHN":"Etnia","gedcom.TRIB":"Clan","gedcom.LANG":"Lengua","gedcom.DIV":"Divorcio","gedcom.DSCR":"Descripci\xf3n","gedcom.EMAIL":"E-mail","gedcom.EVEN":"Evento","gedcom.OCCU":"Profesi\xf3n","gedcom.RIN":"ID","gedcom.TITL":"T\xedtulo","gedcom.WWW":"Sitio web","gedcom._UPD":"\xdaltima actualizaci\xf3n","gedcom.birth":"Nombre","gedcom.married":"Nombre de casado/a","gedcom.maiden":"Nombre de soltera","gedcom.aka":"Apodo","gedcom.languages":"Lenguas","date.abt":"hacia","date.cal":"calculado","date.est":"estimado","date.between":"de {from} a {to}","date.after":"despu\xe9s de {from}","date.before":"antes de {to}","error.error":"Error","error.failed_pdf":"Imposible generar PDF. Int\xe9ntelo de nuevo con un diagrama m\xe1s peque\xf1o o descargue el archivo SVG.","error.failed_png":"Imposible generar el fichero PNG. Int\xe9ntelo de nuevo con un diagrama m\xe1s peque\xf1o o descargue el archivo SVG.","error.failed_to_load_file":"Error cargando archivo","error.failed_wikitree_load_more":"Error cargando los datos de WikiTree. {error}","wikitree.private":"Private","tab.info":"Info","tab.settings":"Configuraci\xf3n","config.colors":"Colores","config.colors.NO_COLOR":"ninguno","config.colors.COLOR_BY_GENERATION":"por generaci\xf3n","config.colors.COLOR_BY_SEX":"por sexo","config.ids.SHOW":"mostrar","config.ids.HIDE":"ocultar","config.sex.SHOW":"mostrar","config.sex.HIDE":"ocultar","name.unknown_name":"?","whats_new.title":"\xbfQu\xe9 hay de nuevo en esta versi\xf3n?","extras.notes":"Notas"}')},365:function(e){e.exports=JSON.parse('{"menu.open":"Otw\xf3rz","menu.open_file":"Otw\xf3rz plik","menu.load_from_url":"Otw\xf3rz URL","menu.select_wikitree_id":"Wybierz WikiTree ID","menu.print":"Drukuj","menu.download":"Pobierz","menu.pdf_file":"Plik PDF","menu.png_file":"Plik PNG","menu.svg_file":"Plik SVG","menu.download_pdf":"Pobierz PDF","menu.download_png":"Pobierz PNG","menu.download_svg":"Pobierz SVG","menu.view":"Wy\u015brodkuj grafik\u0119","menu.hourglass":"Wykres klepsydrowy","menu.relatives":"Wszyscy krewni","menu.fancy":"Ozdobne drzewo (eksperymentalne)","menu.wikitree_login":"Zaloguj do WikiTree","menu.wikitree_logged_in":"Zalogowano","menu.wikitree_popup_username":"Zalogowano do WikiTree jako {username}","menu.wikitree_popup":"Zalogowano do WikiTree","menu.github":"Projekt na stronie GitHub","menu.search.placeholder":"Szukaj osoby","menu.search.no_results":"Brak wynik\xf3w","intro.title":"Topola Genealogy","intro.description":"Topola Genealogy pozwala przegl\u0105da\u0107 drzewo genealogiczne w interaktywny spos\xf3b.","intro.instructions":"Kliknij OTW\xd3RZ PLIK lub OTW\xd3RZ URL, aby za\u0142adowa\u0107 plik GEDCOM. Wi\u0119kszo\u015b\u0107 program\xf3w genealogicznych posiada funkcj\u0119 eksportu do pliku GEDCOM.","intro.examples":"Przyk\u0142ady","intro.from":"\u017ar\xf3d\u0142o:","intro.whats_new":"Co nowego?","intro.full_changelog":"Zobacz pe\u0142n\u0105 list\u0119 zmian","intro.privacy":"Prywatno\u015b\u0107","intro.privacy_note":"U\u017cywaj\u0105c funkcji \\"Otw\xf3rz plik\\", Twoje dane nie s\u0105 nigdzie wysy\u0142ane i pozostaj\u0105 na Twoim komputerze. U\u017cywaj\u0105c funkcji \\"Otw\xf3rz URL\\", dane z podanego adresu przesy\u0142ane s\u0105 przez us\u0142ug\u0119 {link} w celu umo\u017cliwienia za\u0142adowania danych z innej domeny (CORS).","load_from_url.title":"Otw\xf3rz z adresu URL","load_from_url.comment":"Dane z podanego adresu URL zostan\u0105 za\u0142adowane poprzez us\u0142ug\u0119 {link} w celu unikni\u0119cia problem\xf3w z CORS.","load_from_url.cancel":"Anuluj","load_from_url.load":"Otw\xf3rz","select_wikitree_id.title":"Podaj WikiTree ID","select_wikitree_id.comment":"Wpisz identyfikator profilu {wikiTreeLink}. Przyk\u0142ady: {example1}, {example2}","select_wikitree_id.cancel":"Anuluj","select_wikitree_id.load":"Otw\xf3rz","gedcom.BAPM":"Chrzest","gedcom.BIRT":"Narodziny","gedcom.BURI":"Pogrzeb","gedcom.CENS":"Spis ludno\u015bci","gedcom.CHR":"Chrzest","gedcom.DEAT":"\u015amier\u0107","gedcom.DSCR":"Opis","gedcom.EDUC":"Wykszta\u0142cenie","gedcom.EMAIL":"E-mail","gedcom.EVEN":"Wydarzenie","gedcom.FACT":"Fakt","gedcom.MILT":"S\u0142u\u017cba wojskowa","gedcom.OCCU":"Zaw\xf3d","gedcom.RIN":"ID","gedcom.TITL":"Tytu\u0142","gedcom.WWW":"Strona WWW","gedcom._UPD":"Ostatnia aktualizacja","gedcom.MARR":"Ma\u0142\u017ce\u0144stwo","gedcom.MARS":"\u015alub cywilny","gedcom.ETHN":"Pochodzenie etniczne","gedcom.TRIB":"Klan","gedcom.LANG":"J\u0119zyk","gedcom.DIV":"Rozw\xf3d","gedcom.birth":"Nazwisko rodowe","gedcom.married":"Nazwisko po ma\u0142\u017ce\u0144stwie","gedcom.maiden":"Nazwisko panie\u0144skie","gedcom.immigrant":"Nazwisko po imigracji","gedcom.aka":"Alias","gedcom.languages":"J\u0119zyki","date.abt":"oko\u0142o","date.cal":"wyliczone","date.est":"oszacowane","date.between":"mi\u0119dzy {from} a {to}","date.after":"po {from}","date.before":"przed {to}","error.error":"B\u0142\u0105d","age.exact":"{age, plural, =0 {Mniej ni\u017c 1 rok} one {{qualifier} 1 rok} many {{qualifier} # lat} other {{qualifier} # lata}}","age.less":"Mniej ni\u017c {age, plural, =0 {1 rok} one {1 rok} many {# lat} other {# lata}}","age.more":"Wi\u0119cej ni\u017c {age, plural, =0 {0 lat} one {1 rok} many {# lat} other {# lata}}","age.between":"Mi\u0119dzy {ageFrom} a {ageTo, plural, =0 {0 lat} one {1 rok} many {# lat} other {# lata}}","error.failed_pdf":"Nie uda\u0142o si\u0119 utworzy\u0107 pliku PDF. Spr\xf3buj jeszcze raz z mniejszym diagramem lub pobierz plik SVG.","error.failed_png":"Nie uda\u0142o si\u0119 utworzy\u0107 pliku PNG. Spr\xf3buj jeszcze raz z mniejszym diagramem lub pobierz plik SVG.","error.failed_to_load_file":"B\u0142\u0105d wczytywania pliku","error.failed_wikitree_load_more":"B\u0142\u0105d podczas pobierania danych z WikiTree. {error}","error.GEDCOM_READ_FAILED":"B\u0142\u0105d wczytywania pliku GEDCOM","error.ERROR_LOADING_UPLOADED_FILE":"B\u0142\u0105d wczytywania danych. Otw\xf3rz ponownie plik.","error.WIKITREE_ID_NOT_PROVIDED":"Identyfikator WikiTree nie zosta\u0142 podany","error.WIKITREE_PROFILE_NOT_ACCESSIBLE":"Profil WikiTree {id} nie jest dost\u0119pny","error.WIKITREE_PROFILE_NOT_FOUND":"Profil WikiTree {id} nie istnieje","error.failed_to_load_image":"B\u0142\u0105d podczas pobierania pliku ze zdj\u0119ciem","wikitree.private":"Prywatne","tab.info":"Info","tab.settings":"Ustawienia","config.colors":"Kolory","config.colors.NO_COLOR":"brak","config.colors.COLOR_BY_GENERATION":"wed\u0142ug pokolenia","config.colors.COLOR_BY_SEX":"wed\u0142ug p\u0142ci","name.unknown_name":"N.N.","extras.images":"Zdj\u0119cia","extras.notes":"Notatki","extras.sources":"\u0179r\xf3d\u0142a"}')},417:function(e,n){},504:function(e,n){},506:function(e,n){},528:function(e,n){},530:function(e,n){},558:function(e,n){},560:function(e,n){},561:function(e,n){},566:function(e,n){},568:function(e,n){},587:function(e,n){},599:function(e,n){},602:function(e,n){},617:function(e,n,t){},620:function(e,n,t){"use strict";t.r(n);var r,a=t(0),i=t(95),o=t(361),c=t(362),s=t(363),l=t(364),u=t(365),d=t(10),f=t.n(d),m=t(26),g=t(13),p=t(60);!function(e){e[e.UPLOADED=0]="UPLOADED",e[e.GEDCOM_URL=1]="GEDCOM_URL",e[e.EMBEDDED=2]="EMBEDDED"}(r||(r={}));var j=t(218),b=t(165),h=t.n(b),O=t(20),v=t(28),x=t(30);function _(e,n,t){var r=E(e,n);return t.formatMessage({id:"age.more",defaultMessage:"More than {age, plural, =0 {0 years} one {1 year} other {# years}}"},{age:r})}function w(e,n,t){var r=E(e,n);return t.formatMessage({id:"age.less",defaultMessage:"Less than {age, plural, =0 {1 year} one {1 year} other {# years}}"},{age:r})}function R(e,n,t,r,a){var i=E(n,t),o=E(e,r);return a.formatMessage({id:"age.between",defaultMessage:"Between {ageFrom} and {ageTo, plural, =0 {0 years} one {1 year} other {# years}}"},{ageFrom:i,ageTo:o})}function E(e,n){var t=Object(x.g)(e),r=Object(x.g)(n),a=t.getUTCFullYear(),i=r.getUTCFullYear()-a,o=r.getUTCMonth()-t.getUTCMonth();return o<0&&(i--,o+=12),r.getUTCDate()-t.getUTCDate()<0&&o<=0&&i--,Math.abs(i)}function k(e,n,t){if(e&&n){var r=Object(v.getDate)(e),a=Object(v.getDate)(n);if(q=a,(V=r)&&q&&Object(x.f)(V)&&Object(x.f)(q)&&!(Object(x.b)(V,q)>0)&&(!(V.dateRange&&q.dateRange&&Object(x.e)(null===V||void 0===V?void 0:V.dateRange)&&Object(x.e)(null===q||void 0===q?void 0:q.dateRange))||!Object(x.a)(V.dateRange,q.dateRange))){var i,o,c,s;if(null===r||void 0===r?void 0:r.date){var l,u,d,f,m,g,p,j;if(null===a||void 0===a?void 0:a.date)return function(e,n,t){var r=E(e,n),a=e.qualifier||n.qualifier,i=a&&Object(x.d)(a,t)+" ";return t.formatMessage({id:"age.exact",defaultMessage:"{qualifier}{age, plural, =0 {Less than 1 year} one {1 year} other {# years}}"},{age:r,qualifier:i})}(r.date,a.date,t);if((null===a||void 0===a||null===(l=a.dateRange)||void 0===l?void 0:l.from)&&(null===(u=a.dateRange)||void 0===u?void 0:u.to))return R(r.date,r.date,null===a||void 0===a||null===(m=a.dateRange)||void 0===m?void 0:m.from,null===a||void 0===a||null===(g=a.dateRange)||void 0===g?void 0:g.to,t);if(null===a||void 0===a||null===(d=a.dateRange)||void 0===d?void 0:d.from)return _(r.date,null===(p=a.dateRange)||void 0===p?void 0:p.from,t);if(null===a||void 0===a||null===(f=a.dateRange)||void 0===f?void 0:f.to)return w(r.date,null===(j=a.dateRange)||void 0===j?void 0:j.to,t)}if((null===r||void 0===r||null===(i=r.dateRange)||void 0===i?void 0:i.from)&&(null===r||void 0===r||null===(o=r.dateRange)||void 0===o?void 0:o.to)){var b,h,O,k,D,I,C,y,N,T,M,L,S,A;if(null===a||void 0===a?void 0:a.date)return R(null===r||void 0===r||null===(D=r.dateRange)||void 0===D?void 0:D.from,null===r||void 0===r||null===(I=r.dateRange)||void 0===I?void 0:I.to,null===a||void 0===a?void 0:a.date,null===a||void 0===a?void 0:a.date,t);if((null===a||void 0===a||null===(b=a.dateRange)||void 0===b?void 0:b.from)&&(null===(h=a.dateRange)||void 0===h?void 0:h.to))return R(null===r||void 0===r||null===(C=r.dateRange)||void 0===C?void 0:C.from,null===r||void 0===r||null===(y=r.dateRange)||void 0===y?void 0:y.to,null===a||void 0===a||null===(N=a.dateRange)||void 0===N?void 0:N.from,null===a||void 0===a||null===(T=a.dateRange)||void 0===T?void 0:T.to,t);if(null===a||void 0===a||null===(O=a.dateRange)||void 0===O?void 0:O.from)return _(null===(M=r.dateRange)||void 0===M?void 0:M.to,null===(L=a.dateRange)||void 0===L?void 0:L.from,t);if(null===a||void 0===a||null===(k=a.dateRange)||void 0===k?void 0:k.to)return w(null===(S=r.dateRange)||void 0===S?void 0:S.from,null===(A=a.dateRange)||void 0===A?void 0:A.to,t)}if(null===r||void 0===r||null===(c=r.dateRange)||void 0===c?void 0:c.from){var z,P,G,W;if(null===a||void 0===a?void 0:a.date)return w(null===(P=r.dateRange)||void 0===P?void 0:P.from,a.date,t);if(null===a||void 0===a||null===(z=a.dateRange)||void 0===z?void 0:z.to)return w(null===(G=r.dateRange)||void 0===G?void 0:G.from,null===(W=a.dateRange)||void 0===W?void 0:W.to,t)}if(null===r||void 0===r||null===(s=r.dateRange)||void 0===s?void 0:s.to){var F,B,H,U;if(null===a||void 0===a?void 0:a.date)return _(null===r||void 0===r||null===(B=r.dateRange)||void 0===B?void 0:B.to,a.date,t);if(null===a||void 0===a||null===(F=a.dateRange)||void 0===F?void 0:F.from)return _(null===r||void 0===r||null===(H=r.dateRange)||void 0===H?void 0:H.to,null===(U=a.dateRange)||void 0===U?void 0:U.from,t)}}}var V,q}var D=t(642),I=t(367),C=t(17),y=t(163),N=t(1),T=new Map([["ADOP","Adoption"],["BAPM","Baptism"],["BIRT","Birth"],["BURI","Burial"],["CENS","Census"],["CHR","Christening"],["CREM","Cremation"],["DEAT","Death"],["EDUC","Education"],["EMAIL","E-mail"],["EMIG","Emigration"],["EVEN","Event"],["FACT","Fact"],["IMMI","Immigration"],["MARR","Marriage"],["MARS","Marriage settlement"],["ETHN","Ethnic"],["TRIB","Clan"],["LANG","Language"],["DIV","Divorce"],["MILT","Military services"],["NATU","Naturalization"],["OCCU","Occupation"],["TITL","Title"],["WWW","WWW"],["birth","Birth name"],["married","Married name"],["maiden","Maiden name"],["immigrant","Immigrant name"],["aka","Also known as"]]);function M(e){var n=e.tag.replace(/_/g,"");return Object(N.jsx)(D.a,{id:"gedcom.".concat(n),defaultMessage:T.get(n)||n})}var L=t(652),S=t(658),A=t(654),z=t(375),P=t(646),G=t(78),W=t(651),F=t(376),B=t(655),H=t(643),U=t(656),V=t(653),q=t(173);function Y(e){var n=Object(a.useState)(!1),t=Object(g.a)(n,2),r=t[0],i=t[1],o=Object(a.useState)(!1),c=Object(g.a)(o,2),s=c[0],l=c[1],u=Object(a.useState)(!1),d=Object(g.a)(u,2),f=d[0],m=d[1],p=Object(a.useState)(""),j=Object(g.a)(p,2),b=j[0],h=j[1];return s&&b!==e.url&&l(!1),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(F.a,{className:s?"loaded-image-thumbnail":"hidden-image",onClick:function(){return i(!0)},onLoad:function(){l(!0),h(e.url),m(!1)},onError:function(n){l(!0),h(e.url),m(!0),n.currentTarget.alt=""},src:e.url,alt:e.title||e.filename,centered:!0}),Object(N.jsx)(B.a,{className:s?"hidden-image":"image-placeholder",children:Object(N.jsx)(B.a.Image,{square:!0})}),f&&Object(N.jsx)(H.a,{fluid:!0,textAlign:"center",children:Object(N.jsx)(U.a,{negative:!0,compact:!0,children:Object(N.jsx)(U.a.Header,{children:Object(N.jsx)(D.a,{id:"error.failed_to_load_image",defaultMessage:"Failed to load image file"})})})}),Object(N.jsxs)(V.a,{basic:!0,size:"large",closeIcon:Object(N.jsx)(G.a,{name:"close",color:"red"}),open:r,onClose:function(){return i(!1)},onOpen:function(){return i(!0)},centered:!1,children:[Object(N.jsx)(V.a.Header,{children:e.title}),Object(N.jsx)(V.a.Content,{image:!0,children:Object(N.jsx)(F.a,{className:"modal-image",src:e.url,alt:e.title||e.filename,label:Object(N.jsx)(q.a,{attached:"bottom",content:e.filename}),wrapped:!0})})]})]})}var K=t(171),J=t.n(K);function X(e){return Object(N.jsx)(N.Fragment,{children:e.lines.map((function(e,n){return Object(N.jsxs)("div",{children:[Object(N.jsx)(J.a,{properties:{target:"_blank"},children:e}),Object(N.jsx)("br",{})]},n)}))})}function Z(e,n){return!!(null===e||void 0===e?void 0:e.length)&&Object(N.jsx)(A.a,{children:e.map((function(e,t){return Object(N.jsxs)(A.a.Item,{children:[Object(N.jsx)(A.a.Icon,{verticalAlign:"middle",name:"circle",size:"tiny"}),Object(N.jsxs)(A.a.Content,{children:[Object(N.jsx)(A.a.Header,{children:Object(N.jsx)(J.a,{properties:{target:"_blank"},children:[e.author,e.title,e.publicationInfo].filter((function(e){return e})).join(", ")})}),Object(N.jsxs)(A.a.Description,{children:[Object(N.jsx)(J.a,{properties:{target:"_blank"},children:e.page}),e.date?" ["+Object(x.c)(e.date,n)+"]":null]})]})]},t)}))})}function Q(e){var n,t,r,i=Object(I.a)(),o=Object(a.useState)(-1),c=Object(g.a)(o,2),s=c[0],l=c[1],u=Object(a.useState)(""),d=Object(g.a)(u,2),f=d[0],m=d[1];function p(e,n){void 0!==n.index&&s!==n.index?l(n.index):l(-1)}f&&f===e.indi||(l(-1),m(e.indi));var j=[(null===(n=e.images)||void 0===n?void 0:n.length)&&{menuItem:Object(N.jsx)(z.a.Item,{fitted:!0,onClick:p,children:Object(N.jsx)(P.a,{content:Object(N.jsx)(D.a,{id:"extras.images",defaultMessage:"Images"}),size:"mini",position:"bottom center",trigger:Object(N.jsx)(G.a,{circular:!0,name:"camera"})})},"images"),render:function(){return Object(N.jsx)(W.a.Pane,{children:(n=e.images,!!n&&n.map((function(e,n){return Object(N.jsx)(A.a,{children:Object(N.jsx)(A.a.Item,{children:Object(N.jsx)(Y,{url:e.url,filename:e.filename,title:e.title})})},n)})))});var n}},(null===(t=e.notes)||void 0===t?void 0:t.length)&&{menuItem:Object(N.jsx)(z.a.Item,{fitted:!0,onClick:p,children:Object(N.jsx)(P.a,{content:Object(N.jsx)(D.a,{id:"extras.notes",defaultMessage:"Notes"}),size:"mini",position:"bottom center",trigger:Object(N.jsx)(G.a,{circular:!0,name:"sticky note outline"})})},"notes"),render:function(){return Object(N.jsx)(W.a.Pane,{children:(n=e.notes,!!(null===n||void 0===n?void 0:n.length)&&n.map((function(e,n){return Object(N.jsx)("div",{children:Object(N.jsx)(X,{lines:e.map((function(e,n){return Object(N.jsx)("i",{children:e},n)}))})},n)})))});var n}},(null===(r=e.sources)||void 0===r?void 0:r.length)&&{menuItem:Object(N.jsx)(z.a.Item,{fitted:!0,onClick:p,children:Object(N.jsx)(P.a,{content:Object(N.jsx)(D.a,{id:"extras.sources",defaultMessage:"Sources"}),size:"mini",position:"bottom center",trigger:Object(N.jsx)(G.a,{circular:!0,name:"quote right"})})},"sources"),render:function(){return Object(N.jsx)(W.a.Pane,{children:Z(e.sources,i)})}}].flatMap((function(e){return e?[e]:[]}));return j.length?Object(N.jsx)(L.a.Description,{children:Object(N.jsx)(W.a,{className:"event-extras",activeIndex:s,renderActiveOnly:!0,menu:{tabular:!0,attached:!0,compact:!0,borderless:!0},panes:j})}):null}function $(e){var n=Object(C.h)(),t=Object(O.f)(e.person),r=p.parse(n.search);return r.indi=Object(O.j)(e.person.pointer),Object(N.jsx)(L.a.Meta,{children:Object(N.jsx)(y.b,{to:{pathname:"/view",search:p.stringify(r)},children:t||Object(N.jsx)(D.a,{id:"name.unknown_name",defaultMessage:"N.N."})})})}var ee=["BIRT","BAPM","CHR","FAMS","EVEN","CENS","DEAT","BURI"],ne=["MARR","MARS","DIV"];function te(e){var n=Object(I.a)();return Object(N.jsxs)("div",{className:"event-header",children:[Object(N.jsx)(S.a,{as:"span",size:"small",children:Object(N.jsx)(M,{tag:e.event.type})}),e.event.date?Object(N.jsx)(S.a,{as:"span",textAlign:"right",sub:!0,children:Object(x.c)(e.event.date,n)}):null]})}function re(e,n,t){var r=n.tree.filter((function(e){return["WIFE","HUSB"].includes(e.tag)})).find((function(n){return!n.data.includes(e)}));if(r)return Object(O.b)(r,t,(function(e){return e.indis}))}function ae(e,n,t,r){if("DEAT"===e.tag){var a=ue(e),i=t.indis[n].tree.filter((function(e){return"BIRT"===e.tag})).map((function(e){return ue(e)})).find((function(e){return e}));if(i&&a)return k(null===i||void 0===i?void 0:i.data,null===a||void 0===a?void 0:a.data,r)}}function ie(e){var n=e.tree.find((function(e){return"PLAC"===e.tag}));return(null===n||void 0===n?void 0:n.data)?Object(O.c)(n):void 0}function oe(e,n){return e.tree.filter((function(e){return"OBJE"===e.tag})).map((function(e){return Object(O.b)(e,n,(function(e){return e.other}))})).map((function(e){return Object(O.e)(e)})).flatMap((function(e){return e?[{url:(null===e||void 0===e?void 0:e.data)||"",filename:Object(O.d)(e)||""}]:[]}))}function ce(e,n){return e.tree.filter((function(e){return"SOUR"===e.tag})).map((function(e){var t=Object(O.b)(e,n,(function(e){return e.other})),r=t.tree.find((function(e){return"TITL"===e.tag})),a=t.tree.find((function(e){return"ABBR"===e.tag})),i=t.tree.find((function(e){return"AUTH"===e.tag})),o=t.tree.find((function(e){return"PUBL"===e.tag})),c=e.tree.find((function(e){return"PAGE"===e.tag})),s=e.tree.find((function(e){return"DATA"===e.tag})),l=s?ue(s):void 0;return{title:(null===r||void 0===r?void 0:r.data)||(null===a||void 0===a?void 0:a.data),author:null===i||void 0===i?void 0:i.data,page:null===c||void 0===c?void 0:c.data,date:l?Object(v.getDate)(l.data):void 0,publicationInfo:null===o||void 0===o?void 0:o.data}}))}function se(e,n){return e.tree.filter((function(e){return["NOTE","TYPE"].includes(e.tag)})).map((function(e){return Object(O.b)(e,n,(function(e){return e.other}))})).map((function(e){return Object(O.c)(e)}))}function le(e,n,t,r){return"FAMS"===e.tag?function(e,n,t){var r=Object(O.b)(e,n,(function(e){return e.fams}));return h()(ne,(function(e){return r.tree.filter((function(n){return n.tag===e}))})).map((function(e){var a=ue(e)||null;return{date:a?Object(v.getDate)(a.data):void 0,type:e.tag,personLink:re(t,r,n),place:ie(e),images:oe(e,n),notes:se(e,n),sources:ce(e,n),indi:t}}))}(e,n,t):function(e,n,t,r){var a=ue(e)||null;return[{date:a?Object(v.getDate)(a.data):void 0,type:e.tag,age:ae(e,t,n,r),place:ie(e),images:oe(e,n),notes:se(e,n),sources:ce(e,n),indi:t}]}(e,n,t,r)}function ue(e){return e.tree.find((function(e){return"DATE"===e.tag}))}function de(e){return Object(N.jsx)(L.a,{children:Object(N.jsxs)(L.a.Content,{children:[Object(N.jsx)(te,{event:e.event}),!!e.event.age&&Object(N.jsx)(L.a.Meta,{children:e.event.age}),!!e.event.personLink&&Object(N.jsx)($,{person:e.event.personLink}),!!e.event.place&&Object(N.jsx)(L.a.Description,{children:e.event.place}),Object(N.jsx)(Q,{images:e.event.images,notes:e.event.notes,sources:e.event.sources,indi:e.event.indi})]})})}function fe(e){var n=Object(I.a)(),t=h()(ee,(function(t){return e.entries.filter((function(e){return e.tag===t})).map((function(t){return le(t,e.gedcom,e.indi,n)})).flatMap((function(e){return e})).sort((function(e,n){return Object(x.b)(e.date,n.date)}))}));return t.length?Object(N.jsx)(N.Fragment,{children:t.map((function(e,n){return Object(N.jsx)(de,{event:e},n)}))}):null}var me=["BIRT","BAPM","CHR","EVEN","CENS","DEAT","BURI","NAME","SEX","FAMC","FAMS","NOTE","SOUR","LANG"];function ge(e){var n=Object(O.e)(e);return n?Object(N.jsx)("div",{className:"person-image",children:Object(N.jsx)(Y,{url:n.data,filename:Object(O.d)(n)||""})}):null}function pe(e){return Object(N.jsx)(X,{lines:Object(O.c)(e).map((function(e,n){return Object(N.jsx)("i",{children:e},n)}))})}function je(e){var n,t=e.data.replaceAll("/",""),r=null===(n=e.tree.find((function(e){return"TYPE"===e.tag&&"Unknown"!==e.data})))||void 0===n?void 0:n.data;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S.a,{as:"span",size:"large",children:t||Object(N.jsx)(D.a,{id:"name.unknown_name",defaultMessage:"N.N."})}),t&&r&&Object(N.jsx)(L.a.Meta,{children:Object(N.jsx)(M,{tag:r})})]})}function be(e,n,t){return h()(n,(function(n){return e.filter((function(e){return e.tag===n})).map((function(e){return t(e)}))})).filter((function(e){return null!==e})).map((function(e,n){return Object(N.jsx)(L.a,{children:Object(N.jsx)(L.a.Content,{children:e})},n)}))}function he(e){return e.tree.length>0||e.data&&!e.data.startsWith("@")}function Oe(e){return e.filter((function(e){return!me.includes(e.tag)})).filter(he).map((function(e){return function(e){var n=[];return e.data&&n.push.apply(n,Object(j.a)(Object(O.c)(e))),e.tree.filter((function(e){return"NOTE"===e.tag})).forEach((function(e){return Object(O.c)(e).forEach((function(e){return n.push(Object(N.jsx)("i",{children:e}))}))})),n.length?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S.a,{sub:!0,children:Object(N.jsx)(M,{tag:e.tag})}),Object(N.jsx)("span",{children:Object(N.jsx)(X,{lines:n})})]}):null}(e)})).filter((function(e){return null!==e})).map((function(e,n){return Object(N.jsx)(L.a,{children:Object(N.jsx)(L.a.Content,{children:e})},n)}))}function ve(e,n){return Object(N.jsx)(L.a,{children:Object(N.jsxs)(L.a.Content,{children:[Object(N.jsx)(S.a,{sub:!0,children:Object(N.jsx)(D.a,{id:"gedcom.languages",defaultMessage:"Languages"})}),Object(N.jsx)("span",{children:Object(N.jsx)(X,{lines:e.filter((function(e){return n.includes(e.tag)})).filter(he).map((function(e){return e.data}))})})]})},"languages")}function xe(e){var n=e.gedcom.indis[e.indi].tree,t=n.map((function(n){return Object(O.b)(n,e.gedcom,(function(e){return e.other}))})).filter(he);return Object(N.jsx)("div",{className:"details",children:Object(N.jsxs)(L.a.Group,{divided:!0,children:[be(n,["NAME"],je),be(t,["OBJE"],ge),Object(N.jsx)(fe,{gedcom:e.gedcom,entries:n,indi:e.indi}),Oe(t),ve(t,["LANG"]),be(t,["NOTE"],pe)]})})}var _e,we=t(34),Re=t(38),Ee=t(98);!function(e){e.GEDCOM="gedcom",e.READY="ready",e.PARENT_READY="parent_ready"}(_e||(_e={}));var ke=function(){function e(){Object(we.a)(this,e)}return Object(Re.a)(e,[{key:"isNewData",value:function(e,n,t){return!1}},{key:"onMessage",value:function(){var e=Object(m.a)(f.a.mark((function e(n,t,r){var a,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.message!==_e.PARENT_READY){e.next=4;break}window.parent.postMessage({message:_e.READY},"*"),e.next=18;break;case 4:if(n.message!==_e.GEDCOM){e.next=18;break}if(a=n.gedcom){e.next=8;break}return e.abrupt("return");case 8:return e.prev=8,e.next=11,Object(Ee.e)("",a);case 11:i=e.sent,t(i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),r(e.t0);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(n,t,r){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(m.a)(f.a.mark((function e(n){var t=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){window.parent.postMessage({message:_e.READY},"*"),window.addEventListener("message",(function(r){return t.onMessage(r.data,e,n)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}]),e}(),De=t(129);function Ie(e,n){return e instanceof De.a?n.formatMessage({id:"error.".concat(e.code),defaultMessage:e.message},e.args):e.message}var Ce,ye=t(659),Ne=t(645),Te=t(371),Me=Object(Te.createMedia)({breakpoints:{small:320,large:768}}),Le=Me.createMediaStyle(),Se=Me.Media,Ae=Me.MediaContextProvider,ze=t(23),Pe=t(648);function Ge(e){var n=Object(ze.a)({},e);return delete n.menuType,Object(N.jsx)(N.Fragment,{children:e.menuType===Ce.Menu?Object(N.jsx)(z.a.Item,Object(ze.a)(Object(ze.a)({},n),{},{children:e.children})):Object(N.jsx)(Pe.a.Item,Object(ze.a)(Object(ze.a)({},n),{},{children:e.children}))})}!function(e){e[e.Menu=0]="Menu",e[e.Dropdown=1]="Dropdown"}(Ce||(Ce={}));var We=t(372),Fe=t.n(We),Be=t(42),He=t.n(Be),Ue=t(373),Ve=t.n(Ue);t(610)(He.a),t(611)(He.a),t(612)(He.a),t(613)(He.a),t(614)(He.a);function qe(e){return e.toLocaleLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0142/g,"l")}function Ye(e,n){return e.score!==n.score?n.score-e.score:Ve()(e.ref,n.ref)}var Ke=function(){function e(n){Object(we.a)(this,e),this.index=void 0,this.indiMap=void 0,this.famMap=void 0,this.indiMap=Object(O.i)(n),this.famMap=Object(O.h)(n)}return Object(Re.a)(e,[{key:"initialize",value:function(){var e=this;this.index=He()((function(){var n=this;e.initMultiLingualLunrWithoutTrimmer(this,["de","en","fr","it","ru"]),this.ref("id"),this.field("id"),this.field("name",{boost:10}),this.field("normalizedName",{boost:8}),this.field("spouseLastName",{boost:2}),this.field("normalizedSpouseLastName",{boost:2}),e.indiMap.forEach((function(t){var r=[t.firstName,t.lastName].join(" "),a=function(e,n,t){return(e.fams||[]).map((function(e){return t.get(e)})).map((function(e){return e&&e.husb})).map((function(e){return e&&n.get(e)})).map((function(e){return e&&e.lastName})).join(" ")}(t,e.indiMap,e.famMap);n.add({id:t.id,name:r,normalizedName:qe(r),spouseLastName:a,normalizedSpouseLastName:qe(a)})}))}))}},{key:"initMultiLingualLunrWithoutTrimmer",value:function(e,n){var t=[],r=[];n.forEach((function(e){"en"===e?("\\w",t.unshift(He.a.stopWordFilter),t.push(He.a.stemmer),r.push(He.a.stemmer)):(He.a[e].wordCharacters,He.a[e].stopWordFilter&&t.unshift(He.a[e].stopWordFilter),He.a[e].stemmer&&(t.push(He.a[e].stemmer),r.push(He.a[e].stemmer)))})),e.pipeline.reset(),e.pipeline.add.apply(e.pipeline,t),e.searchPipeline&&(e.searchPipeline.reset(),e.searchPipeline.add.apply(e.searchPipeline,r))}},{key:"search",value:function(e){var n=this,t=e.split(" ").filter((function(e){return!!e})).map((function(e){return"".concat(e," ").concat(e,"*")})).join(" ");return this.index.search(t).sort(Ye).slice(0,8).map((function(e){return{id:e.ref,indi:n.indiMap.get(e.ref)}}))}}]),e}();var Je=t(647);function Xe(e){var n=[e.indi.firstName,e.indi.lastName].join(" ").trim();return e.id.length>8?n:Object(N.jsxs)(N.Fragment,{children:[n," ",Object(N.jsxs)("i",{children:["(",e.id,")"]})]})}function Ze(e){var n=Object(a.useState)([]),t=Object(g.a)(n,2),r=t[0],i=t[1],o=Object(a.useState)(""),c=Object(g.a)(o,2),s=c[0],l=c[1],u=Object(a.useRef)(),d=Object(I.a)();function f(e){var n=Object(x.c)(e.birth,d),t=Object(x.c)(e.death,d);return t?"".concat(n," \u2013 ").concat(t):n}var m=Object(a.useRef)(Fe()((function(e){if(e){var n=u.current.search(e).map((function(e){return function(e){return{id:e.id,key:e.id,title:Xe(e),description:f(e.indi)}}(e)}));i(n)}}),200));return Object(a.useEffect)((function(){u.current=function(e){var n=new Ke(e);return n.initialize(),n}(e.data)}),[e.data]),Object(N.jsx)(Je.a,{onSearchChange:function(e,n){return t=n.value,m.current(t),void l(t);var t},onResultSelect:function(n,t){return r=t.result.id,e.onSelection({id:r,generation:0}),void l("");var r},results:r,noResultsMessage:d.formatMessage({id:"menu.search.no_results",defaultMessage:"No results found"}),placeholder:d.formatMessage({id:"menu.search.placeholder",defaultMessage:"Search for people"}),selectFirstResult:!0,value:s,id:"search"})}var Qe=t(267),$e=t.n(Qe);function en(e){var n=e.toLowerCase();return n.endsWith(".jpg")||n.endsWith(".png")}function nn(e){var n=Object(C.g)(),t=Object(C.h)();function r(){return(r=Object(m.a)(f.a.mark((function e(r){var a,i,o,c,s,l,u,d,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=r.target.files)&&a.length){e.next=3;break}return e.abrupt("return");case 3:return i=Array.from(a),r.target.value="",o=1===i.length?i[0]:i.find((function(e){return e.name.toLowerCase().endsWith(".ged")}))||i[0],e.next=8,Object(Ee.d)(o);case 8:c=e.sent,s=c.gedcom,l=c.images,i.filter((function(e){return e.name!==o.name&&en(e.name)})).forEach((function(e){return l.set(e.name,URL.createObjectURL(e))})),u=Array.from(l.keys()).sort().join("|"),d=$e()($e()(s)+u),m=p.parse(t.search),(m.file===d?n.replace:n.push)({pathname:"/view",search:p.stringify({file:d}),state:{data:s,images:l}});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var a=Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(G.a,{name:"folder open"}),Object(N.jsx)(D.a,{id:"menu.open_file",defaultMessage:"Open file"})]});return Object(N.jsxs)(N.Fragment,{children:[e.menuType===Ce.Menu?Object(N.jsx)("label",{htmlFor:"fileInput",children:Object(N.jsx)(z.a.Item,{as:"a",children:a})}):Object(N.jsx)(Pe.a.Item,{as:"label",htmlFor:"fileInput",children:a}),Object(N.jsx)("input",{className:"hidden",type:"file",accept:".ged,.gdz,.gedzip,.zip,image/*",id:"fileInput",multiple:!0,onChange:function(e){return r.apply(this,arguments)}})]})}var tn,rn=t(649),an=t(644),on=t(624);function cn(e){var n=Object(a.useState)(!1),t=Object(g.a)(n,2),r=t[0],i=t[1],o=Object(a.useState)(""),c=Object(g.a)(o,2),s=c[0],l=c[1],u=Object(a.useRef)(null),d=Object(C.g)();function f(){i(!1),s&&d.push({pathname:"/view",search:p.stringify({url:s})})}return Object(a.useEffect)((function(){r&&(l(""),u.current.focus())}),[r]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(Ge,{onClick:function(){return i(!0)},menuType:e.menuType,children:[Object(N.jsx)(G.a,{name:"cloud download"}),Object(N.jsx)(D.a,{id:"menu.load_from_url",defaultMessage:"Load from URL"})]}),Object(N.jsxs)(V.a,{open:r,onClose:function(){return i(!1)},centered:!1,children:[Object(N.jsxs)(S.a,{children:[Object(N.jsx)(G.a,{name:"cloud download"}),Object(N.jsx)(D.a,{id:"load_from_url.title",defaultMessage:"Load from URL"})]}),Object(N.jsx)(V.a.Content,{children:Object(N.jsxs)(rn.a,{onSubmit:f,children:[Object(N.jsx)(an.a,{placeholder:"https://",fluid:!0,value:s,onChange:function(e,n){return l(n.value)},ref:u}),Object(N.jsx)("p",{children:Object(N.jsx)(D.a,{id:"load_from_url.comment",defaultMessage:"Data from the URL will be loaded through {link} to avoid CORS issues.",values:{link:Object(N.jsx)("a",{href:"https://topolaproxy.bieda.it/",children:"topolaproxy.bieda.it (cors-anywhere proxy)"})}})})]})}),Object(N.jsxs)(V.a.Actions,{children:[Object(N.jsx)(on.a,{secondary:!0,onClick:function(){return i(!1)},children:Object(N.jsx)(D.a,{id:"load_from_url.cancel",defaultMessage:"Cancel"})}),Object(N.jsx)(on.a,{primary:!0,onClick:f,children:Object(N.jsx)(D.a,{id:"load_from_url.load",defaultMessage:"Load"})})]})]})]})}function sn(e){function n(n){if(!e.showingChart)return null;switch(n){case tn.LARGE:return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Pe.a,{trigger:Object(N.jsxs)("div",{children:[Object(N.jsx)(G.a,{name:"download"}),Object(N.jsx)(D.a,{id:"menu.download",defaultMessage:"Download"})]}),className:"item",children:Object(N.jsxs)(Pe.a.Menu,{children:[Object(N.jsx)(Pe.a.Item,{onClick:e.eventHandlers.onDownloadPdf,children:Object(N.jsx)(D.a,{id:"menu.pdf_file",defaultMessage:"PDF file"})}),Object(N.jsx)(Pe.a.Item,{onClick:e.eventHandlers.onDownloadPng,children:Object(N.jsx)(D.a,{id:"menu.png_file",defaultMessage:"PNG file"})}),Object(N.jsx)(Pe.a.Item,{onClick:e.eventHandlers.onDownloadSvg,children:Object(N.jsx)(D.a,{id:"menu.svg_file",defaultMessage:"SVG file"})})]})}),Object(N.jsxs)(z.a.Item,{onClick:e.eventHandlers.onCenterView,children:[Object(N.jsx)(G.a,{name:"eye"}),Object(N.jsx)(D.a,{id:"menu.view",defaultMessage:"Center view"})]}),Object(N.jsx)(z.a.Menu,{position:"right",children:Object(N.jsx)(Ze,Object(ze.a)({data:e.data,onSelection:e.eventHandlers.onSelection},e))})]});case tn.SMALL:return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(Pe.a.Item,{onClick:e.eventHandlers.onDownloadPdf,children:[Object(N.jsx)(G.a,{name:"download"}),Object(N.jsx)(D.a,{id:"menu.download_pdf",defaultMessage:"Download PDF"})]}),Object(N.jsxs)(Pe.a.Item,{onClick:e.eventHandlers.onDownloadPng,children:[Object(N.jsx)(G.a,{name:"download"}),Object(N.jsx)(D.a,{id:"menu.download_png",defaultMessage:"Download PNG"})]}),Object(N.jsxs)(Pe.a.Item,{onClick:e.eventHandlers.onDownloadSvg,children:[Object(N.jsx)(G.a,{name:"download"}),Object(N.jsx)(D.a,{id:"menu.download_svg",defaultMessage:"Download SVG"})]}),Object(N.jsx)(Pe.a.Divider,{})]})}}function t(n){if(!e.standalone)return null;switch(n){case tn.LARGE:return e.showingChart?Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(nn,Object(ze.a)({menuType:Ce.Menu},e))}):Object(N.jsx)(Pe.a,{trigger:Object(N.jsxs)("div",{children:[Object(N.jsx)(G.a,{name:"folder open"}),Object(N.jsx)(D.a,{id:"menu.open",defaultMessage:"Open"})]}),className:"item",children:Object(N.jsxs)(Pe.a.Menu,{children:[Object(N.jsx)(nn,Object(ze.a)({menuType:Ce.Dropdown},e)),Object(N.jsx)(cn,Object(ze.a)({menuType:Ce.Dropdown},e))]})});case tn.SMALL:return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(nn,Object(ze.a)({menuType:Ce.Dropdown},e)),Object(N.jsx)(Pe.a.Divider,{})]})}}return Object(C.g)(),Object(C.h)(),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(z.a,{as:Se,greaterThanOrEqual:"large",attached:"top",inverted:!0,color:"blue",size:"large",children:Object(N.jsxs)(N.Fragment,{children:[t(tn.LARGE),n(tn.LARGE)]})}),Object(N.jsx)(z.a,{as:Se,at:"small",attached:"top",inverted:!0,color:"blue",size:"large",children:Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Pe.a,{trigger:Object(N.jsx)("div",{children:Object(N.jsx)(G.a,{name:"sidebar"})}),className:"item",icon:null,children:Object(N.jsxs)(Pe.a.Menu,{children:[t(tn.SMALL),n(tn.SMALL)]})})})})]})}!function(e){e[e.LARGE=0]="LARGE",e[e.SMALL=1]="SMALL"}(tn||(tn={}));var ln,un,dn,fn=t(660);!function(e){e[e.NO_COLOR=0]="NO_COLOR",e[e.COLOR_BY_SEX=1]="COLOR_BY_SEX",e[e.COLOR_BY_GENERATION=2]="COLOR_BY_GENERATION"}(ln||(ln={})),function(e){e[e.HIDE=0]="HIDE",e[e.SHOW=1]="SHOW"}(un||(un={})),function(e){e[e.HIDE=0]="HIDE",e[e.SHOW=1]="SHOW"}(dn||(dn={}));var mn={color:ln.COLOR_BY_GENERATION,id:un.SHOW,sex:dn.SHOW},gn=new Map([["n",ln.NO_COLOR],["g",ln.COLOR_BY_GENERATION],["s",ln.COLOR_BY_SEX]]),pn=new Map;gn.forEach((function(e,n){return pn.set(e,n)}));var jn=new Map([["h",un.HIDE],["s",un.SHOW]]),bn=new Map;jn.forEach((function(e,n){return bn.set(e,n)}));var hn=new Map([["h",dn.HIDE],["s",dn.SHOW]]),On=new Map;function vn(e){var n,t,r,a,i,o,c=function(n){var t=e[n];return"string"===typeof t?t:void 0};return{color:null!==(n=gn.get(null!==(t=c("c"))&&void 0!==t?t:""))&&void 0!==n?n:mn.color,id:null!==(r=jn.get(null!==(a=c("i"))&&void 0!==a?a:""))&&void 0!==r?r:mn.id,sex:null!==(i=hn.get(null!==(o=c("s"))&&void 0!==o?o:""))&&void 0!==i?i:mn.sex}}function xn(e){return Object(N.jsx)(rn.a,{className:"details",children:Object(N.jsxs)(L.a.Group,{children:[Object(N.jsx)(L.a,{children:Object(N.jsxs)(L.a.Content,{children:[Object(N.jsx)(S.a,{sub:!0,children:Object(N.jsx)(D.a,{id:"config.colors",defaultMessage:"Colors"})}),Object(N.jsx)(rn.a.Field,{className:"no-margin",children:Object(N.jsx)(fn.a,{radio:!0,label:Object(N.jsx)(D.a,{tagName:"label",id:"config.colors.NO_COLOR",defaultMessage:"none"}),name:"checkboxRadioGroup",value:"none",checked:e.config.color===ln.NO_COLOR,onClick:function(){return e.onChange(Object(ze.a)(Object(ze.a)({},e.config),{},{color:ln.NO_COLOR}))}})}),Object(N.jsx)(rn.a.Field,{className:"no-margin",children:Object(N.jsx)(fn.a,{radio:!0,label:Object(N.jsx)(D.a,{tagName:"label",id:"config.colors.COLOR_BY_GENERATION",defaultMessage:"by generation"}),name:"checkboxRadioGroup",value:"generation",checked:e.config.color===ln.COLOR_BY_GENERATION,onClick:function(){return e.onChange(Object(ze.a)(Object(ze.a)({},e.config),{},{color:ln.COLOR_BY_GENERATION}))}})}),Object(N.jsx)(rn.a.Field,{className:"no-margin",children:Object(N.jsx)(fn.a,{radio:!0,label:Object(N.jsx)(D.a,{tagName:"label",id:"config.colors.COLOR_BY_SEX",defaultMessage:"by sex"}),name:"checkboxRadioGroup",value:"gender",checked:e.config.color===ln.COLOR_BY_SEX,onClick:function(){return e.onChange(Object(ze.a)(Object(ze.a)({},e.config),{},{color:ln.COLOR_BY_SEX}))}})})]})}),Object(N.jsx)(L.a,{children:Object(N.jsxs)(L.a.Content,{children:[Object(N.jsx)(S.a,{sub:!0,children:Object(N.jsx)(D.a,{id:"config.ids",defaultMessage:"IDs"})}),Object(N.jsx)(rn.a.Field,{className:"no-margin",children:Object(N.jsx)(fn.a,{radio:!0,label:Object(N.jsx)(D.a,{tagName:"label",id:"config.ids.HIDE",defaultMessage:"hide"}),name:"checkboxRadioGroup",value:"hide",checked:e.config.id===un.HIDE,onClick:function(){return e.onChange(Object(ze.a)(Object(ze.a)({},e.config),{},{id:un.HIDE}))}})}),Object(N.jsx)(rn.a.Field,{className:"no-margin",children:Object(N.jsx)(fn.a,{radio:!0,label:Object(N.jsx)(D.a,{tagName:"label",id:"config.ids.SHOW",defaultMessage:"show"}),name:"checkboxRadioGroup",value:"show",checked:e.config.id===un.SHOW,onClick:function(){return e.onChange(Object(ze.a)(Object(ze.a)({},e.config),{},{id:un.SHOW}))}})})]})}),Object(N.jsx)(L.a,{children:Object(N.jsxs)(L.a.Content,{children:[Object(N.jsx)(S.a,{sub:!0,children:Object(N.jsx)(D.a,{id:"config.sex",defaultMessage:"Sex"})}),Object(N.jsx)(rn.a.Field,{className:"no-margin",children:Object(N.jsx)(fn.a,{radio:!0,label:Object(N.jsx)(D.a,{tagName:"label",id:"config.sex.HIDE",defaultMessage:"hide"}),name:"checkboxRadioGroup",value:"hide",checked:e.config.sex===dn.HIDE,onClick:function(){return e.onChange(Object(ze.a)(Object(ze.a)({},e.config),{},{sex:dn.HIDE}))}})}),Object(N.jsx)(rn.a.Field,{className:"no-margin",children:Object(N.jsx)(fn.a,{radio:!0,label:Object(N.jsx)(D.a,{tagName:"label",id:"config.sex.SHOW",defaultMessage:"show"}),name:"checkboxRadioGroup",value:"show",checked:e.config.sex===dn.SHOW,onClick:function(){return e.onChange(Object(ze.a)(Object(ze.a)({},e.config),{},{sex:dn.SHOW}))}})})]})})]})})}hn.forEach((function(e,n){return On.set(e,n)}));var _n,wn=t(79),Rn=t(162),En=t(109),kn=t(268),Dn=t(191),In=(t(110),t(152));function Cn(e,n){var t=Object(Dn.a)("#svgContainer").node(),r=n.transform.k,a=Object(Rn.a)([0,(t.clientWidth-e[0]*r)/2]),i=Object(Rn.a)([0,(t.clientHeight-e[1]*r)/2]);Object(Dn.a)("#chartSvg").attr("width",e[0]*r).attr("height",e[1]*r).attr("transform","translate(".concat(a,", ").concat(i,")")),Object(Dn.a)("#chart").attr("transform","scale(".concat(r,")")),t.scrollLeft=-n.transform.x,t.scrollTop=-n.transform.y}function yn(){var e=Object(Dn.a)("#svgContainer").node(),n=e.scrollLeft+e.clientWidth/2,t=e.scrollTop+e.clientHeight/2,r=Object(In.b)(e).k;Object(Dn.a)(e).call(Object(In.a)().translateTo,n/r,t/r)}function Nn(e){var n=new FileReader;return n.readAsDataURL(e),new Promise((function(e,t){n.onload=function(n){return e(n.target.result)}}))}function Tn(e){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(m.a)(f.a.mark((function e(n){var t,r,a,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.href.baseVal){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,fetch(t);case 6:return r=e.sent,e.next=9,r.blob();case 9:return a=e.sent,e.next=12,Nn(a);case 12:i=e.sent,n.href.baseVal=i,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.warn("Failed to load image:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})))).apply(this,arguments)}function Ln(e){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(m.a)(f.a.mark((function e(n){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(n.getElementsByTagName("image")),e.next=3,Promise.all(t.map(Tn));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e){var n=new Image;return n.src=URL.createObjectURL(e),new Promise((function(e,t){n.addEventListener("load",(function(){return e(n)}))}))}function zn(e){var n=document.createElement("canvas");n.width=2*e.width,n.height=2*e.height;var t=n.getContext("2d"),r=t.fillStyle;return t.fillStyle="white",t.fillRect(0,0,n.width,n.height),t.fillStyle=r,t.drawImage(e,0,0,n.width,n.height),n}function Pn(e,n){return new Promise((function(t,r){e.toBlob((function(e){e?t(e):r()}),n)}))}function Gn(){var e=document.getElementById("chartSvg").cloneNode(!0);e.removeAttribute("transform");var n=Object(Dn.a)("#svgContainer").node(),t=Object(In.b)(n).k;return e.setAttribute("width",String(Number(e.getAttribute("width"))/t)),e.setAttribute("height",String(Number(e.getAttribute("height"))/t)),e.querySelector("#chart").removeAttribute("transform"),e}function Wn(){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(m.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gn(),e.next=3,Ln(n);case 3:return e.abrupt("return",(new XMLSerializer).serializeToString(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bn(){return(Bn=Object(m.a)(f.a.mark((function e(){var n,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn();case 2:n=e.sent,t=new Blob([n],{type:"image/svg+xml"}),Object(kn.saveAs)(t,"genealogy.svg");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(){return Un.apply(this,arguments)}function Un(){return(Un=Object(m.a)(f.a.mark((function e(){var n,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn();case 2:return n=e.sent,t=new Blob([n],{type:"image/svg+xml"}),e.t0=zn,e.next=7,An(t);case 7:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vn(){return qn.apply(this,arguments)}function qn(){return(qn=Object(m.a)(f.a.mark((function e(){var n,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn();case 2:return n=e.sent,e.next=5,Pn(n,"image/png");case 5:t=e.sent,Object(kn.saveAs)(t,"genealogy.png");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yn(){return Kn.apply(this,arguments)}function Kn(){return(Kn=Object(m.a)(f.a.mark((function e(){var n,r,a,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(4).then(t.bind(null,1036));case 2:return n=e.sent,r=n.default,e.next=6,Hn();case 6:a=e.sent,(i=new r({orientation:a.width>a.height?"l":"p",unit:"pt",format:[a.width,a.height]})).addImage(a,"PNG",0,0,a.width,a.height,"NONE"),i.save("genealogy.pdf");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.Hourglass=0]="Hourglass",e[e.Relatives=1]="Relatives",e[e.Fancy=2]="Fancy"}(_n||(_n={}));var Jn=new Map([[ln.NO_COLOR,v.ChartColors.NO_COLOR],[ln.COLOR_BY_GENERATION,v.ChartColors.COLOR_BY_GENERATION],[ln.COLOR_BY_SEX,v.ChartColors.COLOR_BY_SEX]]);function Xn(e){switch(e){case _n.Hourglass:return v.HourglassChart;case _n.Relatives:return v.RelativesChart;case _n.Fancy:return v.FancyChart;default:return v.HourglassChart}}function Zn(e){switch(e){case _n.Fancy:return v.CircleRenderer;default:return v.DetailedRenderer}}var Qn=function(){function e(){Object(we.a)(this,e),this.chart=void 0,this.animating=!1,this.rerenderRequired=!1,this.zoomBehavior=void 0,this.rerenderProps=void 0,this.rerenderResetPosition=void 0}return Object(Re.a)(e,[{key:"zoom",value:function(e){var n=Object(Dn.a)("#svgContainer");this.zoomBehavior.scaleBy(n,e)}},{key:"renderChart",value:function(e,n){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{initialRender:!1,resetPosition:!1};if(!r.initialRender&&this.animating)return this.rerenderRequired=!0,this.rerenderProps=e,void(this.rerenderResetPosition=r.resetPosition);if(r.initialRender||!e.freezeAnimation){r.initialRender?(Object(Dn.a)("#chart").node().innerHTML="",this.chart=Object(v.createChart)({json:e.data,chartType:Xn(e.chartType),renderer:Zn(e.chartType),svgSelector:"#chart",indiCallback:function(n){return e.onSelection(n)},colors:Jn.get(e.colors),animate:!0,updateSvgSize:!1,locale:n.locale})):this.chart.setData(e.data);var a=this.chart.render({startIndi:e.selection.id,baseGeneration:e.selection.generation}),i=Object(Dn.a)("#chartSvg"),o=Object(Dn.a)("#svgContainer").node(),c=Object(In.b)(o).k,s=Object(En.a)([1,c,o.clientWidth/a.size[0],o.clientHeight/a.size[1]]),l=[Object(Rn.a)([.1,s]),2];this.zoomBehavior=Object(In.a)().scaleExtent(l).translateExtent([[0,0],a.size]).on("zoom",(function(e){return Cn(a.size,e)})),Object(Dn.a)(o).on("scroll",yn).call(this.zoomBehavior);var u=function(e){return function(){var n=Object(wn.a)(o.scrollTop,e);return function(e){o.scrollTop=n(e)}}},d=function(e){return function(){var n=Object(wn.a)(o.scrollLeft,e);return function(e){o.scrollLeft=n(e)}}},f=o.clientWidth/2-a.origin[0]*c,m=o.clientHeight/2-a.origin[1]*c,g=Object(Rn.a)([0,(o.clientWidth-a.size[0]*c)/2]),p=Object(Rn.a)([0,(o.clientHeight-a.size[1]*c)/2]),j=i.transition().delay(200).duration(500),b=r.initialRender?i:j;b.attr("transform","translate(".concat(g,", ").concat(p,")")).attr("width",a.size[0]*c).attr("height",a.size[1]*c),r.resetPosition&&(r.initialRender?(o.scrollLeft=-f,o.scrollTop=-m):j.tween("scrollLeft",d(-f)).tween("scrollTop",u(-m))),this.animating=!0,a.animationPromise.then((function(){t.animating=!1,t.rerenderRequired&&(t.rerenderRequired=!1,t.renderChart(t.rerenderProps,n,{initialRender:!1,resetPosition:!!t.rerenderResetPosition}))}))}}}]),e}();function $n(e){var n=Object(a.useRef)(new Qn),t=function(e){var n=Object(a.useRef)();return Object(a.useEffect)((function(){n.current=e})),n.current}(e),r=Object(I.a)();return Object(a.useEffect)((function(){if(t){var a=e.chartType!==(null===t||void 0===t?void 0:t.chartType)||e.colors!==(null===t||void 0===t?void 0:t.colors)||e.hideIds!==(null===t||void 0===t?void 0:t.hideIds)||e.hideSex!==(null===t||void 0===t?void 0:t.hideSex),i=e.chartType!==(null===t||void 0===t?void 0:t.chartType)||e.data!==t.data||e.selection!==t.selection;n.current.renderChart(e,r,{initialRender:a,resetPosition:i})}else n.current.renderChart(e,r,{initialRender:!0,resetPosition:!0})})),Object(N.jsxs)("div",{id:"svgContainer",children:[Object(N.jsxs)(Se,{greaterThanOrEqual:"large",className:"zoom",children:[Object(N.jsx)("button",{className:"zoom-in",onClick:function(){return n.current.zoom(1.3)},children:"+"}),Object(N.jsx)("button",{className:"zoom-out",onClick:function(){return n.current.zoom(1/1.3)},children:"\u2212"})]}),Object(N.jsx)("svg",{id:"chartSvg",children:Object(N.jsx)("g",{id:"chart"})})]})}var et,nt=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STATIC_URL;function tt(e){return Object(N.jsxs)(U.a,{negative:!0,className:"error",children:[Object(N.jsx)(U.a.Header,{children:Object(N.jsx)(D.a,{id:"error.failed_to_load_file",defaultMessage:"Failed to load file"})}),Object(N.jsx)("p",{children:e.message})]})}function rt(e){return Object(N.jsx)(ye.a,{open:e.open,onClose:e.onDismiss,children:Object(N.jsxs)(U.a,{negative:!0,className:"errorPopup",onDismiss:e.onDismiss,children:[Object(N.jsx)(U.a.Header,{children:Object(N.jsx)(D.a,{id:"error.error",defaultMessage:"Error"})}),Object(N.jsx)("p",{children:e.message})]})})}function at(e){var n=p.parse(e.search),t=function(e){return function(e,n){var t=n[e];return"string"===typeof t?t:void 0}(e,n)},a=t("view"),i=new Map([["relatives",_n.Relatives],["fancy",_n.Fancy]]),o=t("file"),c=t("url"),s="true"===t("embedded"),l=void 0;nt?l={source:r.GEDCOM_URL,url:nt,handleCors:!1}:o?l={source:r.UPLOADED,hash:o,gedcom:e.state&&e.state.data,images:e.state&&e.state.images}:c?l={source:r.GEDCOM_URL,url:c,handleCors:"false"!==t("handleCors")}:s&&(l={source:r.EMBEDDED});var u=t("indi"),d=Number(t("gen"));return{sourceSpec:l,selection:u?{id:u,generation:isNaN(d)?0:d}:void 0,chartType:i.get(a)||_n.Relatives,showSidePanel:"false"!==t("sidePanel"),standalone:"false"!==t("standalone")&&!s&&!nt,freezeAnimation:"true"===t("freeze"),config:vn(n)}}!function(e){e[e.INITIAL=0]="INITIAL",e[e.LOADING=1]="LOADING",e[e.ERROR=2]="ERROR",e[e.SHOWING_CHART=3]="SHOWING_CHART",e[e.LOADING_MORE=4]="LOADING_MORE"}(et||(et={}));var it=t(374),ot=t(650),ct=(t(617),t(618),t(619),{de:o,fr:c,it:s,es:l,pl:u}),st=navigator.language&&navigator.language.split(/[-_]/)[0],lt=Object(it.a)();lt&&"ie"===lt.name?i.render(Object(N.jsx)("p",{children:"Genealogy Viewer does not support Internet Explorer. Please try a different (modern) browser."}),document.querySelector("#root")):i.render(Object(N.jsx)(ot.a,{locale:st,messages:ct[st],children:Object(N.jsxs)(Ae,{children:[Object(N.jsx)("style",{children:Le}),Object(N.jsx)(y.a,{children:Object(N.jsx)(C.b,{component:function(){var e=Object(a.useState)(et.INITIAL),n=Object(g.a)(e,2),t=n[0],i=n[1],o=Object(a.useState)(),c=Object(g.a)(o,2),s=c[0],l=c[1],u=Object(a.useState)(),d=Object(g.a)(u,2),j=d[0],b=d[1],h=Object(a.useState)(),v=Object(g.a)(h,2),x=v[0],_=v[1],w=Object(a.useState)(!1),R=Object(g.a)(w,2),E=R[0],k=R[1],D=Object(a.useState)(!0),y=Object(g.a)(D,2),T=y[0],M=y[1],L=Object(a.useState)(_n.Hourglass),S=Object(g.a)(L,2),A=S[0],z=S[1],P=Object(a.useState)(!1),G=Object(g.a)(P,2),F=G[0],B=G[1],H=Object(a.useState)(),U=Object(g.a)(H,2),V=U[0],q=U[1],Y=Object(a.useState)(!1),K=Object(g.a)(Y,2),J=K[0],X=K[1],Z=Object(a.useState)(mn),Q=Object(g.a)(Z,2),$=Q[0],ee=Q[1],ne=Object(I.a)(),te=Object(C.g)(),re=Object(C.h)();function ae(e,n){if(void 0!==n){var t=e.id===un.HIDE,r=e.sex===dn.HIDE;Object(O.i)(n.chartData).forEach((function(e){e.hideId=t,e.hideSex=r}))}}var ie=new Ee.b,oe=new Ee.a,ce=new ke;function se(e,n){if(!V||V.source!==e.source)return!0;var t={spec:e,selection:n},a={spec:V,selection:j};switch(t.spec.source){case r.UPLOADED:return ie.isNewData(t,a,s);case r.GEDCOM_URL:return oe.isNewData(t,a,s);case r.EMBEDDED:return ce.isNewData(t,a,s)}}function le(e,n){switch(e.source){case r.UPLOADED:return ie.loadData({spec:e,selection:n});case r.GEDCOM_URL:return oe.loadData({spec:e,selection:n});case r.EMBEDDED:return ce.loadData({spec:e,selection:n})}}function ue(e){var n=p.parse(re.search);for(var t in e)n[t]=e[t];re.search=p.stringify(n),te.push(re)}function de(e){ue({indi:e.id,gen:e.generation})}function fe(e){B(!0),_(e)}function me(){return ge.apply(this,arguments)}function ge(){return(ge=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yn();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),fe(ne.formatMessage({id:"error.failed_pdf",defaultMessage:"Failed to generate PDF file. Please try with a smaller diagram or download an SVG file."}));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function pe(){return je.apply(this,arguments)}function je(){return(je=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vn();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),fe(ne.formatMessage({id:"error.failed_png",defaultMessage:"Failed to generate PNG file. Please try with a smaller diagram or download an SVG file."}));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function be(){!function(){Bn.apply(this,arguments)}()}function he(){var e,n,t;de({id:(null===s||void 0===s||null===(e=s.chartData)||void 0===e||null===(n=e.indis)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.id)||"I0",generation:0})}function Oe(){B(!1)}function ve(){switch(t){case et.SHOWING_CHART:case et.LOADING_MORE:var e=Object(Ee.c)(s.chartData,j),n=[{menuItem:ne.formatMessage({id:"tab.info",defaultMessage:"Info"}),render:function(){return Object(N.jsx)(xe,{gedcom:s.gedcom,indi:e.id})}},{menuItem:ne.formatMessage({id:"tab.settings",defaultMessage:"Settings"}),render:function(){return Object(N.jsx)(xn,{config:$,onChange:function(e){ee(e),ae(e,s),ue(function(e){return{c:pn.get(e.color),i:bn.get(e.id),s:On.get(e.sex)}}(e))}})}}];return Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(rt,{open:F,message:x,onDismiss:Oe}),t===et.LOADING_MORE?Object(N.jsx)(Ne.a,{active:!0,size:"small",className:"loading-more"}):null,Object(N.jsx)($n,{data:s.chartData,selection:e,chartType:A,onSelection:de,freezeAnimation:J,colors:$.color,hideIds:$.id,hideSex:$.sex}),E?Object(N.jsx)(Se,{greaterThanOrEqual:"large",className:"sidePanel",children:Object(N.jsx)(W.a,{panes:n})}):null]});case et.ERROR:return Object(N.jsx)(tt,{message:x});case et.INITIAL:case et.LOADING:return Object(N.jsx)(Ne.a,{active:!0,size:"large"})}}return Object(a.useEffect)((function(){var e=document.getElementById("root");"/"===re.pathname?e.classList.add("bgLogo"):e.classList.remove("bgLogo"),Object(m.a)(f.a.mark((function e(){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/view"===re.pathname){e.next=3;break}return t!==et.INITIAL&&i(et.INITIAL),e.abrupt("return");case 3:if((n=at(re)).sourceSpec){e.next=7;break}return te.replace({pathname:"/"}),e.abrupt("return");case 7:if(t!==et.INITIAL&&!se(n.sourceSpec,n.selection)){e.next=30;break}return i(et.LOADING),q(n.sourceSpec),b(n.selection),M(n.standalone),z(n.chartType),X(n.freezeAnimation),ee(n.config),e.prev=15,e.next=18,le(n.sourceSpec,n.selection);case 18:r=e.sent,l(r),ae(n.config,r),k(n.showSidePanel),i(et.SHOWING_CHART),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(15),o=Ie(e.t0,ne),_(o),i(et.ERROR);case 28:e.next=31;break;case 30:t!==et.SHOWING_CHART&&t!==et.LOADING_MORE||(z(n.chartType),i(et.SHOWING_CHART),a=n.selection,j&&j.id===a.id&&j.generation===a.generation||b(a));case 31:case"end":return e.stop()}var a,o}),e,null,[[15,25]])})))()})),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(C.b,{render:function(){return Object(N.jsx)(sn,{data:null===s||void 0===s?void 0:s.chartData,showingChart:"/view"===te.location.pathname&&(t===et.SHOWING_CHART||t===et.LOADING_MORE),standalone:T,eventHandlers:{onSelection:de,onDownloadPdf:me,onDownloadPng:pe,onDownloadSvg:be,onCenterView:he}})}}),nt?Object(N.jsxs)(C.d,{children:[Object(N.jsx)(C.b,{exact:!0,path:"/view",render:ve}),Object(N.jsx)(C.a,{to:"/view"})]}):Object(N.jsxs)(C.d,{children:[Object(N.jsx)(C.b,{exact:!0,path:"/view",render:ve}),Object(N.jsx)(C.a,{to:"/"})]})]})}})})]})}),document.querySelector("#root"))},98:function(e,n,t){"use strict";(function(e){t.d(n,"c",(function(){return m})),t.d(n,"d",(function(){return b})),t.d(n,"e",(function(){return x})),t.d(n,"b",(function(){return w})),t.d(n,"a",(function(){return R}));var r=t(7),a=t(10),i=t.n(a),o=t(34),c=t(38),s=t(26),l=t(20),u=t(129),d=t(370),f=t.n(d);function m(e,n){return{id:n&&e.indis.some((function(e){return e.id===n.id}))?n.id:e.indis[0].id,generation:(null===n||void 0===n?void 0:n.generation)||0}}function g(e,n,t){var r=Object(l.a)(e,t||new Map),a=JSON.stringify(r);try{sessionStorage.setItem(n,a)}catch(i){console.warn("Failed to store data in session storage: "+i)}return r}function p(e){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(i.a.mark((function n(t){var a,o,c,s,l,u,d;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=f.a,n.t1=e,n.next=4,t.arrayBuffer();case 4:n.t2=n.sent,n.t3=n.t1.from.call(n.t1,n.t2),a=new n.t0(n.t3),o=a.getEntries(),c=void 0,s=new Map,l=Object(r.a)(o);try{for(l.s();!(u=l.n()).done;)(d=u.value).entryName.endsWith(".ged")?c?console.warn("Multiple GEDCOM files found in zip archive."):c=d.getData().toString():s.set(d.entryName,URL.createObjectURL(new Blob([d.getData()])))}catch(i){l.e(i)}finally{l.f()}if(c){n.next=14;break}throw new Error("GEDCOM file not found in zip archive.");case 14:return n.abrupt("return",{gedcom:c,images:s});case 15:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function b(e){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.slice(0,2).text();case 2:if("PK"!==e.sent){e.next=5;break}return e.abrupt("return",p(n));case 5:return e.next=7,n.text();case 7:return e.t0=e.sent,e.t1=new Map,e.abrupt("return",{gedcom:e.t0,images:e.t1});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,n){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(i.a.mark((function e(n,t){var r,a,o,c,s,l,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=sessionStorage.getItem(n))){e.next=4;break}return e.abrupt("return",JSON.parse(r));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn("Failed to load data from session storage: "+e.t0);case 9:return(a=n.match(/https:\/\/drive\.google\.com\/file\/d\/(.*)\/.*/))&&(n="https://drive.google.com/uc?id=".concat(a[1],"&export=download")),(o=n.match(/https:\/\/drive\.google\.com\/open\?id=([^&]*)&?.*/))&&(n="https://drive.google.com/uc?id=".concat(o[1],"&export=download")),c=t?"https://topolaproxy.bieda.it/"+n:n,e.next=16,window.fetch(c);case 16:if(200===(s=e.sent).status){e.next=19;break}throw new Error(s.statusText);case 19:return e.t1=b,e.next=22,s.blob();case 22:return e.t2=e.sent,e.next=25,(0,e.t1)(e.t2);case 25:return l=e.sent,u=l.gedcom,d=l.images,e.abrupt("return",g(u,n,d));case 29:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function x(e,n,t){return _.apply(this,arguments)}function _(){return(_=Object(s.a)(i.a.mark((function e(n,t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=sessionStorage.getItem(n))){e.next=4;break}return e.abrupt("return",JSON.parse(a));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn("Failed to load data from session storage: "+e.t0);case 9:if(t){e.next=11;break}throw new u.a("ERROR_LOADING_UPLOADED_FILE","Error loading data. Please upload your file again.");case 11:return e.abrupt("return",g(t,n,r));case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var w=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"isNewData",value:function(e,n,t){return e.spec.hash!==n.spec.hash}},{key:"loadData",value:function(){var e=Object(s.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(n.spec.hash,n.spec.gedcom,n.spec.images);case 3:return t=e.sent,Object(l.g)(t.gedcom.head),e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()}]),e}(),R=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"isNewData",value:function(e,n,t){return e.spec.url!==n.spec.url}},{key:"loadData",value:function(){var e=Object(s.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(n.spec.url,n.spec.handleCors);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}()}]),e}()}).call(this,t(22).Buffer)}},[[620,1,2]]]);
//# sourceMappingURL=main.adaf1bdf.chunk.js.map